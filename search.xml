<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[virtual host on centos]]></title>
    <url>%2Fvirtualhost-on-centos%2F</url>
    <content type="text"><![CDATA[centos 7.0 ìƒì—ì„œ ì•„íŒŒì¹˜(httpd)ë¥¼ ì„¤ì¹˜í•˜ê³  í¬íŠ¸ ë§µí•‘ í•˜ëŠ” ë‚´ìš©ì„ ì •ë¦¬ í•©ë‹ˆë‹¤. installì•„íŒŒì¹˜ ì„¤ì¹˜[root@localhost conf]# yum install httpd[root@localhost conf]# httpd -vServer version: Apache/2.4.6 (CentOS)Server built: Apr 24 2019 13:45:48 ë°©í™”ë²½ ì˜¤í”ˆ[root@localhost conf]# firewall-cmd --permanent --add-service=http [root@localhost conf]# firewall-cmd --permanent --add-service=https [root@localhost conf]# firewall-cmd --reload ìƒì‹œ ì„œë¹„ìŠ¤ ë“±ë¡[root@localhost conf]# systemctl enable httpd[root@localhost conf]# systemctl start httpd ì„œë¹„ìŠ¤ restartsystemctl restart httpd servier ì •ìƒ í™•ì¸ë¸Œë¼ìš°ì € http://&lt;&gt; path êµ¬ì¡°[root@localhost httpd]# ls -alí•©ê³„ 16drwxr-xr-x. 5 root root 92 7ì›” 8 23:03 .drwxr-xr-x. 151 root root 12288 7ì›” 9 09:26 ..drwxr-xr-x. 2 root root 55 7ì›” 9 17:18 confdrwxr-xr-x. 2 root root 100 7ì›” 9 11:16 conf.ddrwxr-xr-x. 2 root root 146 7ì›” 9 10:21 conf.modules.dlrwxrwxrwx. 1 root root 19 7ì›” 8 23:03 logs -&gt; ../../var/log/httpdlrwxrwxrwx. 1 root root 29 7ì›” 8 23:03 modules -&gt; ../../usr/lib64/httpd/moduleslrwxrwxrwx. 1 root root 10 7ì›” 8 23:03 run -&gt; /run/httpd conf : ê¸°ë³¸ ì„¤ì •íŒŒì¼ conf.d : confì— ì¶”ê°€ ì„¤ì • ì •ë³´ (Includeë¡œ ì¶”ê°€ ì„¤ì •ì„ ì´ê³³ì—ì„œ ì²˜ë¦¬í•œë‹¤) conf.modules.d : moduleì— ëŒ€í•œ ë¡œë“œ ì •ë³´ê°€ ì´ê³³ì— ìžˆë‹¤ logs : ì•„íŒŒì¹˜ ë¡œê·¸ë¥¼ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤ https.conf êµ¬ì¡°ê¸‰í•˜ê²Œ í•„ìš” í•œê²ƒë§Œ ë³´ê³  ì²˜ë¦¬ í•´ì„œ ì‚¬ì‹¤ ìž˜ ì•Œì§€ëŠ” ëª»í•œë‹¤ ì¼ë‹¨ ì´í•´ ëœê²ƒ ê°™ì€ê²ƒë§Œ ëŒ€ëžµì ìœ¼ë¡œ ì“´ë‹¤. httpd ê´€ë ¨ ì„¤ì • ì •ë³´ ë° ë¡œê·¸ê°€ ìžˆëŠ” ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ServerRoot &quot;/etc/httpd&quot; 80í¬íŠ¸ë¥¼ ìƒì‹œ ëª¨ë‹ˆí„°ë§ í•˜ê² ìŒ (8080 í¬íŠ¸ ëª¨ë‹ˆí„°ë§ í•˜ê² ìŒì€ Listen 8080) Listen 80 conf.moules.d ì´í•˜ì˜ ì„¤ì • íŒŒì¼ì„ ì½ì–´ì„œ ëª¨ë“ˆì„ ë¡œë“œí•´ë¼(ëª¨ë“ˆì„ ë¡œë“œí•´ë¼ëŠ” í•´ë‹¹ .confì— ìžˆìŒ) Include conf.modules.d/*.conf ë³¸ ì•„íŒŒì¹˜ ì„œë²„ê°€ ìž‘ë™í•˜ëŠ” ë””ë ‰í† ë¦¬ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì„ ì„¤ì •í•œë‹¤ &lt;Directory /&gt; AllowOverride none Require all granted&lt;/Directory&gt; ì˜ˆë¥¼ ë“¤ìžë©´ ë¡œì»¬ ì„œë²„ì˜ ë””ë ‰í† ë¦¬ ì¤‘ /var/www ë””ë ‰í† ë¦¬ëŠ” httpdê°€ ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ ëª¨ë“  ê¶Œí•œì„ ì¤€ë‹¤. &lt;Directory &quot;/var/www&quot;&gt; AllowOverride None # Allow open access: Require all granted&lt;/Directory&gt; ëª¨ë“ˆ ë¡œë“œë¥¼ í™•ì¸í•œë‹¤. ë§Œì•½ì— dir_moduleì´ ìžˆìœ¼ë©´ ë””ë ‰í† ë¦¬ìƒ ì¸ë±ìŠ¤ëŠ” index.html ì´ë‹¤. &lt;IfModule dir_module&gt; DirectoryIndex index.html&lt;/IfModule&gt; 2ê°œì˜ urlì— ì„œë¡œ ë‹¤ë¥¸ index.html ë‚˜íƒ€ë‚˜ê²Œ í•˜ê¸°http.conf ìˆ˜ì •####íŒŒì¼ ë§ˆì§€ë§‰ì— ë„£ìŒ######&lt;Directory "/data/"&gt; AllowOverride None Require all granted&lt;/Directory&gt;Include /etc/httpd/conf/vhost.conf /data/ ë””ë ‰í† ë¦¬ ì´í•˜ë¥¼ ì ‘ê·¼ í•˜ê² ìŒ vhost.conf ì»¨í”¼ê·¸ë¥¼ í¬í•¨ í•˜ê² ìŒ ( í•´ë‹¹ íŒŒì¼ ë§Œë“¤ì§€ ì•Šê³  íŒŒì¼ë‚´ì— ìžˆëŠ” ë‚´ìš©ì„ ì´ê³³ì— ì§ì ‘ íƒ€ì´í•‘ í•´ë„ ë™ì¼ ìž‘ë™í•¨ ) vhost.conf ìƒì„± ë° ìˆ˜ì •[root@localhost conf]# vi vhost.conf [root@localhost conf]# pwd/root/httpd/conf NameVirtualHost *:80&lt;VirtualHost *:80&gt; DocumentRoot "/data/test1" ServerName test.com ServerAlias www.test.com&lt;/VirtualHost&gt;&lt;VirtualHost *:80&gt; DocumentRoot "/data/test2" ServerName sub.test.com&lt;/VirtualHost&gt; NameVirtualHost *:80 : 80 í¬íŠ¸ ëŒ€ìƒìœ¼ë¡œ ì´ë¦„ ë³„ ë¶„ë¦¬ë¥¼ ì²˜ë¦¬í•  ê²ƒìž„ &lt;VirtualHost *:80&gt; : 80ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ë‚´ìš©ì„ ë³¸ë‹¤ ServerName test.com : ìš”ì²­ë“¤ì–´ì˜¨ urlì´ test.comì´ê±°ë‚˜ www.test.com ì´ë©´, DocumentRoot &quot;/data/test1&quot; : ì˜ index.htmlì„ ë³´ì—¬ë¼ ìƒìœ„ëŠ” test.comì´ë¼ëŠ” DNSë¥¼ ì‚¬ìš©ìžê°€ ì·¨ë“ í–ˆê³  DNSë¥¼ í†µí•´ì„œ í•´ë‹¹ ì„œë²„ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì´ ì „ì œ ì‚¬í•­ì´ë‹¤. í•´ë‹¹ ê´€ë ¨ ë‚´ìš©ì€ DNS Serverê´€ë ¨ ì˜ì—­ìž„ìœ¼ë¡œ ë‹¤ë£¨ì§€ ì•Šìœ¼ë ¤ê³  í•œë‹¤. í•´ë‹¹ ë‚´ìš©ê³¼ ìƒê´€ì—†ì´ hostsë¥¼ ìˆ˜ì •í•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ë§Žì´ í•˜ë˜ë°â€¦ ì €ëŠ” pass [root@localhost conf]# cd /[root@localhost /]# mkdir data[root@localhost data]# mkdir test1 test2[root@localhost data]# lstest1 test2 test1ê³¼ test2ë””ë ‰í† ë¦¬ë¡œ ë“¤ì–´ê°€ì„œ ë‹¤ìŒê³¼ ê°™ì€ index.htmlì„ ë§Œë“¤ì–´ ì¤€ë‹¤. [root@localhost test1]#vi index.html test1[root@localhost test2]#vi index.html test2 permission denied[core:error] [pid 24938] (13)Permission denied: [client 222.222.222.222:53283] AH00035: access to /index.html denied (filesystem path '/data/test1/index.html') because search permissions are missing on a component of the path ìƒìœ„ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë‚œë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì„œ dataë””ë ‰í† ë¦¬ ì´í•˜ì— ì•„íŒŒì¹˜ì—ì„œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë„ë¡ í•´ì¤˜ì•¼ í•œë‹¤. SELinusì˜ ì ‘ê·¼ ê¶Œí•œ ì²˜ë¦¬ ë•Œë¬¸ì— ìƒê¸°ëŠ” ë¬¸ì œì´ë‹¤. chcon -R -t httpd_sys_content_t data/ [root@localhost /]# ls -alZ | grep datadrwxr-xr-x. root root unconfined_u:object_r:httpd_sys_content_t:s0 data ìƒìœ„ì™€ ê°™ì´ ê¶Œí•œì´ ì²˜ë¦¬ ë˜ë©´ ëœë‹¤. subdomainì„ í™œìš©í•œ íƒ€ webì„œë¹„ìŠ¤ ì‹¤í–‰sub.test.comìœ¼ë¡œ ë“¤ì–´ì˜¤ë©´ ë‚´ë¶€ì ìœ¼ë¡œ test.com:8888ë²ˆ ì„œë¹„ìŠ¤ë¡œ ìžë™ í¬ì›Œë”© ë˜ëŠ” ë‚´ìš©ì´ë‹¤. NameVirtualHost *:80&lt;VirtualHost *:80&gt; DocumentRoot "/data/test1" ServerName test.com ServerAlias www.test.com&lt;/VirtualHost&gt;&lt;VirtualHost *:80&gt; ProxyPreserveHost On ServerName sub.test.com proxyPass / http://test.com:8888/ proxyPassReverse / http://test.com:8888/&lt;/VirtualHost&gt; ì¼ë°˜ì ìœ¼ë¡œ ìƒìœ„ì²˜ëŸ¼ ìˆ˜ì •í›„ sub.test.comì„ ì‹¤í–‰í•˜ë©´ 8888í¬íŠ¸ì˜ ì„œë¹„ìŠ¤ê°€ ë¸Œë¼ìš°ì €ì— í‘œì‹œ ë˜ê²Œ ëœë‹¤. ê·¸ëŸ¬ë‚˜ SELinusë¡œ ì¸í•´ ë‹¤ìŒê³¼ ê°™ì€ ì˜¤ë¥˜ê°€ ë‚  ìˆ˜ ìžˆë‹¤. [proxy:error] [pid 17800] (13)Permission denied: AH00957: HTTP: attempt to connect to 222.222.222.222:8888 (test.com) failed ì•„íŒŒì¹˜ëŠ” http_port_tì— ë“±ë¡ëœ í¬íŠ¸ë§Œ í”„ë¡ì‹œ íŒ¨ìŠ¤ê°€ ê°€ëŠ¥í•˜ë‹¤. í•´ì„œ í•´ë‹¹ í¬íŠ¸ë¥¼ ë“±ë¡ í•´ì¤˜ì•¼ í•œë‹¤ [root@localhost logs]# semanage port -l | grep http_port_thttp_port_t tcp 80, 81, 443, 488, 8008, 8009, 8443, 9000 semanage port -a -p tcp -t http_port_t 8888 ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰ í›„ ë‹¤ì‹œ í™•ì¸ í•´ë³´ìž. [root@localhost logs]# semanage port -l | grep http_port_thttp_port_t tcp 8888, 80, 81, 443, 488, 8008, 8009, 8443, 9000 ìƒìœ„ì™€ ê°™ì´ ë‚˜ì˜¤ë©´ ëœë‹¤.]]></content>
      <tags>
        <tag>centos</tag>
        <tag>virtual host</tag>
        <tag>apache</tag>
        <tag>httpd</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Docker]]></title>
    <url>%2Fdocker%2F</url>
    <content type="text"><![CDATA[docker container ì„¤ì • ìˆ˜ì •í•˜ê¸°docker run ì´í›„ policyì˜ ìˆ˜ì •ì„ ìœ„í•´ì„œëŠ” ë‹¤ìŒ 2ê°€ì§€ ë°©ë²•ì´ ìžˆìŒ docker update docker update --restart=always &lt;container&gt; /var/lib/docker/containers/CONTAINER_ID/hostconfig.json íŒŒì¼ edit &#123;"Binds":["/nexus-data:/nexus-data"],"ContainerIDFile":"","LogConfig":&#123;"Type":"journald","Config":&#123;&#125;&#125;,"NetworkMode":"default","PortBindings":&#123;"8081/tcp":[&#123;"HostIp":"","HostPort":"8081"&#125;]&#125;,"RestartPolicy":&#123;"Name":"always","MaximumRetryCount":0&#125;,"AutoRemove":false,"VolumeDriver":"","VolumesFrom":null,"CapAdd":null,"CapDrop":null,"Dns":[],"DnsOptions":[],"DnsSearch":[],"ExtraHosts":null,"GroupAdd":null,"IpcMode":"","Cgroup":"","Links":[],"OomScoreAdj":0,"PidMode":"","Privileged":true,"PublishAllPorts":false,"ReadonlyRootfs":false,"SecurityOpt":["label=disable"],"UTSMode":"","UsernsMode":"","ShmSize":67108864,"Runtime":"docker-runc","ConsoleSize":[0,0],"Isolation":"","CpuShares":0,"Memory":0,"NanoCpus":0,"CgroupParent":"","BlkioWeight":0,"BlkioWeightDevice":null,"BlkioDeviceReadBps":null,"BlkioDeviceWriteBps":null,"BlkioDeviceReadIOps":null,"BlkioDeviceWriteIOps":null,"CpuPeriod":0,"CpuQuota":0,"CpuRealtimePeriod":0,"CpuRealtimeRuntime":0,"CpusetCpus":"","CpusetMems":"","Devices":[],"DiskQuota":0,"KernelMemory":0,"MemoryReservation":0,"MemorySwap":0,"MemorySwappiness":-1,"OomKillDisable":false,"PidsLimit":0,"Ulimits":null,"CpuCount":0,"CpuPercent":0,"IOMaximumIOps":0,"IOMaximumBandwidth":0&#125; docker log ë³´ê¸° docker logs -f &lt;&gt; : ì‹¤í–‰ì¤‘ì¸ ë¡œê·¸ í™•ì¸ í•  ê²½ìš° docker events&amp; : event ë°œìƒ ë¡œê·¸ í™•ì¸ (í„°ë¯¸ë„ì„ 2ê°œ ì—¬ëŠ”ê²Œ ì¢‹ìŒ) docker start -a &lt;&gt; : ì‹¤í–‰ì‹œ ì¼ì–´ë‚˜ëŠ” ì˜¤ë¥˜ í™•ì¸ ê°€ëŠ¥ docker inspectcontainerì˜ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•˜ëŠ” ëª…ë ¹ì–´ ì´ë‹¤. docker inspect &lt;&lt;containerid&gt;&gt; í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰ í•˜ë©´ ì•„ëž˜ì™€ ê°™ì´ ëª¨ë“  container low level ì •ë³´ë¥¼ return í•œë‹¤. [devops@localhost ~]$ docker inspect nexus[ &#123; "Id": "67826ba9e0179b6009c9c7a177fe1815fd320cdac65ea91d479413f7c4e5e81a", "Created": "2019-06-26T03:19:12.069213873Z", "Path": "sh", "Args": [ "-c", "$&#123;SONATYPE_DIR&#125;/start-nexus-repository-manager.sh" ], "State": &#123; "Status": "running", "Running": true, "Paused": false, "Restarting": false, "OOMKilled": false, "Dead": false, "Pid": 19383, "ExitCode": 0, "Error": "", "StartedAt": "2019-07-02T07:49:00.930407162Z", "FinishedAt": "2019-07-02T07:48:08.216626691Z" &#125;, "Image": "sha256:36b0df681a47e5948f2088a446652766132141175dece2d6d47ef6e749385c05", "ResolvConfPath": "/var/lib/docker/containers/67826ba9e0179b6009c9c7a177fe1815fd320cdac65ea91d479413f7c4e5e81a/resolv.conf", "HostnamePath": "/var/lib/docker/containers/67826ba9e0179b6009c9c7a177fe1815fd320cdac65ea91d479413f7c4e5e81a/hostname", "HostsPath": "/var/lib/docker/containers/67826ba9e0179b6009c9c7a177fe1815fd320cdac65ea91d479413f7c4e5e81a/hosts", "LogPath": "", "Name": "/nexus", "RestartCount": 0, "Driver": "overlay2", "MountLabel": "", "ProcessLabel": "", "AppArmorProfile": "", "ExecIDs": null, "HostConfig": &#123; "Binds": [ "/nexus-data:/nexus-data" ], "ContainerIDFile": "", "LogConfig": &#123; "Type": "journald", "Config": &#123;&#125; &#125;, "NetworkMode": "default", "PortBindings": &#123; "8081/tcp": [ &#123; "HostIp": "", "HostPort": "8081" &#125; ] &#125;, "RestartPolicy": &#123; "Name": "always", "MaximumRetryCount": 0 &#125;, "AutoRemove": false, "VolumeDriver": "", "VolumesFrom": null, "CapAdd": null, "CapDrop": null, "Dns": [], "DnsOptions": [], "DnsSearch": [], "ExtraHosts": null, "GroupAdd": null, "IpcMode": "", "Cgroup": "", "Links": null, "OomScoreAdj": 0, "PidMode": "", "Privileged": true, "PublishAllPorts": false, "ReadonlyRootfs": false, "SecurityOpt": [ "label=disable" ], "UTSMode": "", "UsernsMode": "", "ShmSize": 67108864, "Runtime": "docker-runc", "ConsoleSize": [ 0, 0 ], "Isolation": "", "CpuShares": 0, "Memory": 0, "NanoCpus": 0, "CgroupParent": "", "BlkioWeight": 0, "BlkioWeightDevice": null, "BlkioDeviceReadBps": null, "BlkioDeviceWriteBps": null, "BlkioDeviceReadIOps": null, "BlkioDeviceWriteIOps": null, "CpuPeriod": 0, "CpuQuota": 0, "CpuRealtimePeriod": 0, "CpuRealtimeRuntime": 0, "CpusetCpus": "", "CpusetMems": "", "Devices": [], "DiskQuota": 0, "KernelMemory": 0, "MemoryReservation": 0, "MemorySwap": 0, "MemorySwappiness": -1, "OomKillDisable": false, "PidsLimit": 0, "Ulimits": null, "CpuCount": 0, "CpuPercent": 0, "IOMaximumIOps": 0, "IOMaximumBandwidth": 0 &#125;, "GraphDriver": &#123; "Name": "overlay2", "Data": &#123; "LowerDir": "/var/lib/docker/overlay2/bdeae8fe832211ba5059562162cb4eb7098de60657f622a31f0115653c324301-init/diff:/var/lib/docker/overlay2/e3c7b24292cf5ea41f2d3ab9c3b91a3c3b22f09a1cb26cf6048b36802c30b036/diff:/var/lib/docker/overlay2/3f075ffc65dfb1a311d63c70842d0ba2c467ca9bf1289c5a2a45a21e77a8314c/diff:/var/lib/docker/overlay2/32e8540578f9058f575a9051bc28df2f0308da53a20469a3a91c1a6b60f9cb0e/diff", "MergedDir": "/var/lib/docker/overlay2/bdeae8fe832211ba5059562162cb4eb7098de60657f622a31f0115653c324301/merged", "UpperDir": "/var/lib/docker/overlay2/bdeae8fe832211ba5059562162cb4eb7098de60657f622a31f0115653c324301/diff", "WorkDir": "/var/lib/docker/overlay2/bdeae8fe832211ba5059562162cb4eb7098de60657f622a31f0115653c324301/work" &#125; &#125;, "Mounts": [ &#123; "Type": "bind", "Source": "/nexus-data", "Destination": "/nexus-data", "Mode": "", "RW": true, "Propagation": "rprivate" &#125; ], "Config": &#123; "Hostname": "67826ba9e017", "Domainname": "", "User": "nexus", "AttachStdin": false, "AttachStdout": false, "AttachStderr": false, "ExposedPorts": &#123; "8081/tcp": &#123;&#125; &#125;, "Tty": false, "OpenStdin": false, "StdinOnce": false, "Env": [ "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin", "SONATYPE_DIR=/opt/sonatype", "NEXUS_HOME=/opt/sonatype/nexus", "NEXUS_DATA=/nexus-data", "NEXUS_CONTEXT=", "SONATYPE_WORK=/opt/sonatype/sonatype-work", "DOCKER_TYPE=docker", "INSTALL4J_ADD_VM_PARAMS=-Xms1200m -Xmx1200m -XX:MaxDirectMemorySize=2g -Djava.util.prefs.userRoot=/nexus-data/javaprefs" ], "Cmd": [ "sh", "-c", "$&#123;SONATYPE_DIR&#125;/start-nexus-repository-manager.sh" ], "ArgsEscaped": true, "Image": "sonatype/nexus3", "Volumes": &#123; "/nexus-data": &#123;&#125; &#125;, "WorkingDir": "", "Entrypoint": null, "OnBuild": null, "Labels": &#123; "com.sonatype.license": "Apache License, Version 2.0", "com.sonatype.name": "Nexus Repository Manager base image", "org.label-schema.build-date": "20190305", "org.label-schema.license": "GPLv2", "org.label-schema.name": "CentOS Base Image", "org.label-schema.schema-version": "1.0", "org.label-schema.vendor": "CentOS", "vendor": "Sonatype" &#125; &#125;, "NetworkSettings": &#123; "Bridge": "", "SandboxID": "50b3a078a453332680ca6dd09d2cd10fc641fddc49c5b3b34db178c516f8475d", "HairpinMode": false, "LinkLocalIPv6Address": "", "LinkLocalIPv6PrefixLen": 0, "Ports": &#123; "8081/tcp": [ &#123; "HostIp": "0.0.0.0", "HostPort": "8081" &#125; ] &#125;, "SandboxKey": "/var/run/docker/netns/50b3a078a453", "SecondaryIPAddresses": null, "SecondaryIPv6Addresses": null, "EndpointID": "b030c131340f1b86c3ce868dae109fee9814310503076f685ff274b42e76eeac", "Gateway": "172.17.0.1", "GlobalIPv6Address": "", "GlobalIPv6PrefixLen": 0, "IPAddress": "172.17.0.2", "IPPrefixLen": 16, "IPv6Gateway": "", "MacAddress": "02:42:ac:11:00:02", "Networks": &#123; "bridge": &#123; "IPAMConfig": null, "Links": null, "Aliases": null, "NetworkID": "e7bccaaf25cb4ba061b98aab2ef6470301c688b7d99db0f40e7e7bd7b6665379", "EndpointID": "b030c131340f1b86c3ce868dae109fee9814310503076f685ff274b42e76eeac", "Gateway": "172.17.0.1", "IPAddress": "172.17.0.2", "IPPrefixLen": 16, "IPv6Gateway": "", "GlobalIPv6Address": "", "GlobalIPv6PrefixLen": 0, "MacAddress": "02:42:ac:11:00:02" &#125; &#125; &#125; &#125;] ì—¬ê¸°ì„œ íŠ¹ì • ì˜ì—­ì— ëŒ€í•œ ì •ë³´ë§Œì„ ì–»ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ format ì„¤ì •ì„ í•´ì£¼ë©´ ëœë‹¤. docker inspect --format ë˜ëŠ” docker inspect -f ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ì‚¬ìš© ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. [devops@localhost ~]$ docker inspect --format='&#123;&#123;.NetworkSettings.Networks&#125;&#125;' nexusmap[bridge:0xc420130300] inspect í•´ì„œ ë‚˜ì˜¨ ëª¨ë“  ì •ë³´ ì¤‘ì—ì„œ í•„ìš”ë¡œ í•˜ëŠ” ì •ë³´ì˜ Nameì„ .Name.Name ì‹ìœ¼ë¡œ í‘œí˜„ í•˜ë©´ íŠ¹ì • ê°’ì„ ì–»ì–´ ë‚¼ ìˆ˜ê°€ ìžˆë‹¤. ê°€ë ¹ IPAddressë¥¼ ì–»ì–´ ì˜¤ê³ ìž í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•˜ë©´ ëœë‹¤. [devops@localhost ~]$ docker inspect --format='&#123;&#123;.NetworkSettings.Networks.bridge.IPAddress&#125;&#125;' nexus172.17.0.2 ë§Œì•½ í•´ë‹¹ ê²°ê³¼ ê°’ì„ json í˜•íƒœì˜ í…œí”Œë¦¿ìœ¼ë¡œ ë°›ê³ ìž í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•˜ë©´ ëœë‹¤. [devops@localhost ~]$ docker inspect --format='&#123;&#123;json .NetworkSettings.Networks.bridge.IPAddress&#125;&#125;' nexus "172.17.0.2" &quot;&quot; ì•žë’¤ë¡œ ì´ì™€ ê°™ì€ê²Œ ë¶™ì€ê±° ë¹¼ê³ ëŠ” ì°¨ì´ê°€ ì—†ì–´ ë³´ì´ì§€ë§Œ, [devops@localhost ~]$ docker inspect --format='&#123;&#123;json .NetworkSettings.Networks&#125;&#125;' nexus&#123;"bridge":&#123;"IPAMConfig":null,"Links":null,"Aliases":null,"NetworkID":"e7bccaaf25cb4ba061b98aab2ef6470301c688b7d99db0f40e7e7bd7b6665379","EndpointID":"b030c131340f1b86c3ce868dae109fee9814310503076f685ff274b42e76eeac","Gateway":"172.17.0.1","IPAddress":"172.17.0.2","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:02"&#125;&#125; Networksë§Œì„ ì¶œë ¥í•˜ë©´ ë‹¤ë¥¸ê±¸ í™•ì¸ í•  ìˆ˜ìžˆë‹¤. ì•žì„œ jsonì—†ì´ ì¶œë ¥ì€ ë©”ëª¨ë¦¬ ë²ˆì§€ë¥¼ ì¶œë ¥ í–ˆë‹¤ë©´, jsonê³¼ í•¨ê»˜ ì¶œë ¥ í•˜ë©´ ì´í•˜ ëª¨ë“  ê°’ì´ stringìœ¼ë¡œ ì¶œë ¥ ë˜ëŠ”ê±¸ í™•ì¸ í•  ìˆ˜ ìžˆë‹¤. ì´ì™¸ì— index, range,$variableParm ì •ì˜, :=Assignment ë“±ì´ ì¶”ê°€ë¡œ ìž‡ëŠ”ë“¯ í•œë° ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ëŠ” ìž˜ ëª¨ë¥´ê² ë‹¤.]]></content>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mattermost install with docker-composer on Centos7]]></title>
    <url>%2Fmattermost-docker-composer-onCentos7%2F</url>
    <content type="text"><![CDATA[Dockerì™€ Docker-Composeê°€ Centosì— ì´ë¯¸ ì„¤ì¹˜ ë˜ì–´ìžˆë‹¤ëŠ” ì „ì œìž„ Locationê´€ë ¨ ìžë£Œ docker-compose github ìœ„ì¹˜ https://github.com/mattermost/mattermost-docker docker-composeë¥¼ ì´ìš©í•œ deployment ì„¤ëª… https://docs.mattermost.com/install/prod-docker.html ë¡œì»¬ Download ë° í™˜ê²½ ì„¤ì •git clone https://github.com/mattermost/mattermost-docker.gitcd mattermost-dockerdocker-compose buildmkdir -pv ./volumes/app/mattermost/&#123;data,logs,config,plugins,client-plugins&#125;chown -R 2000:2000 ./volumes/app/mattermost/docker-compose up -d ìƒìœ„ì™€ ê°™ì€ ìˆœì„œë°ë¡œ í•˜ë©´ ëŒ€ë¶€ë¶„ ìž˜ ìž‘ë™ í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ìž„ ê·¸ëŸ¬ë‚˜ ë‚˜ ê°™ì€ ê²½ìš°ëŠ” ìƒìœ„ ì²˜ëŸ¼ í•´ì„œ ì •ìƒ ìž‘ë™ì„ í•˜ì§€ ì•Šì•„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ì˜€ìŒ Permission Errorë¥¼ í”¼í•˜ê¸° ìœ„í•œ ìˆ˜ì • ì‚¬í•­[root@localhost mattermost-docker]# lsLICENSE MAINTENANCE.md README.md app contrib db docker-compose.yml volumes web [root@localhost app]# llí•©ê³„ 0drwxr-xr-x. 7 2000 2000 81 6ì›” 28 19:43 mattermost[root@localhost app]# pwd/root/mattermost/mattermost-docker/volumes/app[root@localhost app]# ìƒìœ„ì™€ ê°™ì€ ë‚´ìš©ì€ ë¡œì»¬ Download ë° í™˜ê²½ ì„¤ì •ì´ ë˜ì—ˆë‹¤ë©´ ë™ì¼ í•  ê²ƒì´ë‹¤. ê·¸ëŸ¬ë‚˜ Postgresì™€ appì´ directory prmission denied ë‚˜ê²Œ ëœë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì • í•´ì¤„ í•„ìš”ê°€ ìžˆë‹¤. [root@localhost mattermost-docker]# lsLICENSE MAINTENANCE.md README.md app contrib db docker-compose.yml volumes web[root@localhost mattermost-docker]# vi docker-compose.yml[root@localhost mattermost-docker]# pwd/root/mattermost/mattermost-docker[root@localhost mattermost-docker]# ì—¬ê¸°ì—ì„œ docker-compose.ymlì„ ì•„ëž˜ì™€ ê°™ì´ ìˆ˜ì • í•„ìš”í•˜ë‹¤. version: "2"services: db: build: db read_only: true restart: unless-stopped volumes:- - ./volumes/db/var/lib/postgresql/data:/var/lib/postgresql/data+ - ./volumes/db/var/lib/postgresql/data:/var/lib/postgresql/data:z - /etc/localtime:/etc/localtime:ro environment: - POSTGRES_USER=mmuser - POSTGRES_PASSWORD=mmuser_password - POSTGRES_DB=mattermost # uncomment the following to enable backup # - AWS_ACCESS_KEY_ID=XXXX # - AWS_SECRET_ACCESS_KEY=XXXX # - WALE_S3_PREFIX=s3://BUCKET_NAME/PATH # - AWS_REGION=us-east-1 app: build: context: app # uncomment following lines for team edition or change UID/GID args:- # - edition=team- # - PUID=2000- # - PGID=2000+ - edition=team+ - PUID=2000+ - PGID=2000 restart: unless-stopped volumes:- - ./volumes/app/mattermost/config:/mattermost/config:rw- - ./volumes/app/mattermost/data:/mattermost/data:rw- - ./volumes/app/mattermost/logs:/mattermost/logs:rw- - ./volumes/app/mattermost/plugins:/mattermost/plugins:rw- - ./volumes/app/mattermost/client-plugins:/mattermost/client/plugins:rw+ - ./volumes/app/mattermost/config:/mattermost/config:z+ - ./volumes/app/mattermost/data:/mattermost/data:z+ - ./volumes/app/mattermost/logs:/mattermost/logs:z+ - ./volumes/app/mattermost/plugins:/mattermost/plugins:z+ - ./volumes/app/mattermost/client-plugins:/mattermost/client/plugins:z - /etc/localtime:/etc/localtime:ro environment: # set same as db credentials and dbname - MM_USERNAME=mmuser - MM_PASSWORD=mmuser_password - MM_DBNAME=mattermost # in case your config is not in default location #- MM_CONFIG=/mattermost/config/config.json web: build: web ports: - "80:80" - "443:443" read_only: true restart: unless-stopped volumes: # This directory must have cert files if you want to enable SSL - ./volumes/web/cert:/cert:ro - /etc/localtime:/etc/localtime:ro ìˆ˜ì •ì„ í•˜ëŠ” ì‚¬ìœ ì†”ì§ížˆ ì •í™•ížˆëŠ” ëª¨ë¥´ê² ë‹¤. ê·¸ëƒ¥ ì§ìž‘ì„ í•˜ìžë©´ ë‹¤ìŒê³¼ ê°™ë‹¤. SELinux ë™ìž‘ ëª¨ë“œcentos ê³µì‹ ì‚¬ì´íŠ¸ì—ì„œ ë‹¤ìš´ë¡œë“œ ë°›ì€ DVD iso íŒŒì¼ì„ defaultë¡œ install í•˜ë©´ SELinuxê°€ ìž‘ë™ í•˜ê²Œ ëœë‹¤. SELinuxëŠ” Security Enhanced Linuxì˜ ì˜ë¯¸ë¡œ Linuxì˜ ë³´ì•ˆì„ ê°•í™” í•˜ê¸° ìœ„í•œ ëª¨ë“œì´ë‹¤. zero day ê³µê²© ë° buffer overflow ë“± ì–´í”Œë¦¬ì¼€ì´ì…˜ ì·¨ì•½ì  ë°©ì–´ë¥¼ ìœ„í•œ kernel ì´ë¼ê³  í•œë‹¤. sestatus ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì„œ SELinux ëª¨ë“œê°€ ìž‘ë™ ì¤‘ì¸ì§€ í™•ì¸ í•  ìˆ˜ìžˆë‹¤. [root@localhost mattermost-docker]# sestatusSELinux status: enabledSELinuxfs mount: /sys/fs/selinuxSELinux root directory: /etc/selinuxLoaded policy name: targetedCurrent mode: enforcingMode from config file: enforcingPolicy MLS status: enabledPolicy deny_unknown status: allowedMax kernel policy version: 31 Dockerì™€ selinuxhttps://docs.docker.com/v17.09/engine/admin/volumes/bind-mounts/#configure-the-selinux-label Dockerì—ì„œëŠ” shareë¥¼ ìœ„í•œ íŒŒì¼ labelì„ ì œê³µ í•˜ëŠ”ë° ê·¸ê²ƒì€ SELinuxì—ì„œ ê´€ë¦¬ í•˜ëŠ” ì˜ì—­ì´ë‹¤. [root@localhost mattermost-docker]# ls -Z-rw-r--r--. root root unconfined_u:object_r:admin_home_t:s0 LICENSE-rw-r--r--. root root unconfined_u:object_r:admin_home_t:s0 MAINTENANCE.md-rw-r--r--. root root unconfined_u:object_r:admin_home_t:s0 README.mddrwxr-xr-x. root root unconfined_u:object_r:admin_home_t:s0 appdrwxr-xr-x. root root unconfined_u:object_r:admin_home_t:s0 contribdrwxr-xr-x. root root unconfined_u:object_r:admin_home_t:s0 db-rw-r--r--. root root unconfined_u:object_r:admin_home_t:s0 docker-compose.ymldrwxr-xr-x. root root unconfined_u:object_r:admin_home_t:s0 volumesdrwxr-xr-x. root root unconfined_u:object_r:admin_home_t:s0 web unconfined_u : user object_r : role admin_home_t : type s0 : level ìƒìœ„ì™€ ê°™ì´ íŒŒì¼ë³„ ë¼ë²¨ë§ì„ í†µí•´ì„œ DAC ì»¨íŠ¸ë¡¤ì„ ì²˜ë¦¬ í•œë‹¤. https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/selinux_users_and_administrators_guide/sect-security-enhanced_linux-working_with_selinux-selinux_contexts_labeling_files ë¼ì§€ë§Œ ì—­ì‹œ ì•„ì§ë„ ì´í•´ëŠ” ì•ˆê°„ë‹¤... ì•„ë¬´íŠ¼ ìƒìœ„ì™€ ê°™ì€ ì‚¬ìœ ë¡œ z ì˜µì…˜ì„ í†µí•´ì„œ ì»¨í…Œì´ë„ˆê°€ mountí•œ íŒŒì¼ ì‹œìŠ¤í…œì˜ ì˜ì—­ì„ share í•  ìˆ˜ìžˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ì„¤ì •í•´ì¤€ë‹¤. z : ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆê°€ ë§ˆìš´íŠ¸í•œ contentsë¥¼ share í•  ìˆ˜ìžˆë‹¤. Z : share í•˜ì§€ ì•Šê³  ì»¨í…ì¸ ë¥¼ ë§ˆìš´íŠ¸í•œë‹¤. ì—¬ê¸°ì„œ Zì˜ ì˜ë¯¸ê°€ í•˜ë‚˜ì˜ ì»¨í…Œì´ë„ˆë¡œ ë§ˆì€íŠ¸ í•˜ë©´ ëœë‹¤ëŠ” ì˜ë¯¸ì¸ì§€ëŠ” ìž˜ ëª¨ë¥´ê² ë‹¤. ì¼ë‹¨ mattermostëŠ” zë¡œ ì²˜ë¦¬ í•˜ë©´ ì •ìƒ ìž‘ë™í•œë‹¤.]]></content>
      <tags>
        <tag>docker</tag>
        <tag>mattermost</tag>
        <tag>slack</tag>
        <tag>centos7</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jenkins Basic]]></title>
    <url>%2Fjenkins-basic%2F</url>
    <content type="text"><![CDATA[Jenkins User hand book ë° ê¸°íƒ€ ì‚¬ì´íŠ¸ ì°¸ê³ í•´ì„œ ê°„ë‹¨í•˜ê²Œ í•„ìš”í•œ ë‚´ìš©ë§Œ ì„œë¨¸ë¦¬í•¨ (https://jenkins.io/user-handbook.pdf) Pipelineê°œë°œ, í†µí•© ìš´ì˜ ë°°í¬ ë“±ì´ ê°€ëŠ¥í•œ í”ŒëŸ¬ê·¸ì¸ ë“¤ì„ í•˜ë‚˜ì˜ Suitë¡œ ë§Œë“œëŠ” ê²ƒì„ íŒŒì´í”„ ë¼ì¸ì´ë¼ê³  í•œë‹¤. ìžë™ í™”ëœ íŒŒì´í”„ë¼ì¸ ì„¤ì • ê¸°ëŠ¥ì´ ìžˆìœ¼ë‚˜, ë³´ë‹¤ ë³µìž¡í•œ ì‚¬ìš©ì´ í•„ìš” í•  ê²½ìš° ë‘ê°€ì§€ DSL(Domain Specific Language)ë¥¼ ì œê³µí•œë‹¤. Declarative Script : Groovy groovy syntaxëŠ” ë‹¤ìŒì—ì„œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤. http://groovy-lang.org/syntax.html Pipeline FlowDevelopment -&gt; Stage1 -&gt; Stage2 -&gt; Production ì˜ flowë¥¼ ë§í•¨ DSL definejenkinsì—ì„œ í™œìš© ê°€ëŠ¥í•œ global variableì€ ë‹¤ìŒì—ì„œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤ http://jenkins.mina.blue/pipeline-syntax/globals docker, pipeline, env, params,currentBuild, scm ì„ ë³¼ ìˆ˜ ìžˆë‹¤. agent : íŒŒì´í”„ë¼ì¸ì˜ workspace, executor í• ë‹¹ìš”ì²­ì„ Jenkinsì—ê²Œ í•œë‹¤ stage : stage &quot;Build&quot; &quot;Test&quot; &quot;Deploy&quot; ë“±ê³¼ ê°™ì´ step group steps : stage ì•ˆì—ì„œ ì¼ì–´ë‚  task Jenkinsì—ì„œëŠ” http://jenkinsurl/pipeline-syntax/ ë¥¼ í†µí•´ì„œ step define ê°€ëŠ¥í•¨ sh : shell command starter junit : plugin:junit ì—ì„œ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ (ë¦¬í¬íŠ¸ ë“±ì„ í†µí•©) node : íŒŒì´í”„ë¼ì¸ì—ì„œ ì¼ì–´ë‚˜ëŠ” í–‰ìœ„(steps)ëŠ” ëŒ€ìƒì´ ë˜ëŠ” nodeì—ì„œ ì¼ì–´ë‚¨ (ì—¬ëŸ¬ ë…¸ë“œë¥¼ ì„¤ì •í•  ìˆ˜ìžˆìŒ) stage('Test') &#123; node('linux') &#123; checkout scm try &#123; unstash 'app' sh 'make check' &#125; finally &#123; junit '**/target/*.xml' &#125; &#125; node('windows') &#123; checkout scm try &#123; unstash 'app' bat 'make check' &#125; finally &#123; junit '**/target/*.xml' &#125; &#125;&#125; echo : string ê°’ ì¶œë ¥ (echo &quot;hello&quot;) env : script íŒŒì´í”„ ë¼ì¸ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ í™˜ê²½ ê°’ (env.PATH, env,BUILD_ID) params : íŒŒì´í”„ë¼ì¸ ë‚´ì—ì„œ ì •ì˜ëœ parameters (MAP) (params.MY_PARAM_NAME) currentBuild : í˜„ìž¬ íŒŒì´í”„ë¼ì¸ì˜ ì •ë³´ë¥¼ í™•ì¸ ê°€ëŠ¥ (currentBuild.result, currentBuild.displayName) http://jenkinsurl/pipeline-syntax/globals#currentBuild checkout : source control (ì‚¬ì´íŠ¸?)ì—ì„œ ë¶€í„° ì½”ë“œë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ëŠ”ë‹¤. ì£¼ë¡œ scmì„ ì‚¬ìš©í•œë‹¤. (checkout scm) archiveArtifacts : ì•žì„œ ë¹Œë“œëœ íŒŒì¼ë“¤ì„ ì €ìž¥í•´ ë†“ëŠ” ì—­í• ì„ í•œë‹¤. (archiveArtifacts artifacts: &#39;*/arget/tar&#39;, fingerprint: true) withEnv : global ë˜ëŠ” íŠ¹ì • ì˜ì—­ì— variableì„ defineí•˜ëŠ” í–‰ë™ì„ í•œë‹¤. ì•„ëž˜ ì²˜ëŸ¼ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. properties : í•´ë‹¹ íŒŒì´í”„ë¼ì¸ì—ì„œ ì‚¬ìš© ì‚¬ëŠ¥í•œ ì¼ì‹œì  propertiesë¥¼ ì„¤ì •í•œë‹¤. í•´ë‹¹ ë‚´ìš©ì€ jenkins íŒŒì´í”„ ë¼ì¸ &quot;ì„¤ì •&quot; í™”ë©´ì—ì„œ &quot;General&quot; íƒ­ì˜ &quot;ì´ ë¹Œë“œëŠ” ë§¤ê°œ ë³€ìˆ˜ê°€ ìžˆìŠµë‹ˆë‹¤. (Build with Parameters)&quot;ë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ëŠ”ë°, í•´ë‹¹ ì„¤ì •ì„ í•˜ê³  ë‚˜ë©´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ ì´ë¦„ì´ ê¸°ì¡´ &quot;Build&quot;ì—ì„œ &quot;Build with Parameters&quot;ë¡œ ë³€ê²½ë˜ê³  í•´ë‹¹ value ê°’ì„ ì‚¬ìš©ìžê°€ ë¹Œë“œ ìš”ì²­ì‹œë§ˆë‹¤ ìˆ˜ì • í•  ìˆ˜ ìžˆê²Œ ëœë‹¤. properties([parameters([string(defaultValue: 'Hello', description: 'How should I greetthe world?', name: 'Greeting3'),string(defaultValue: 'Hello2', description: 'How should I greetthe world22?', name: 'Greeting2')])])node &#123; def singlyQuoted = 'Hello' withEnv(["global='value"])&#123; stage('Build')&#123; withEnv(["test='one"])&#123; echo "Heloo $&#123;global&#125;, $&#123;test&#125;, $&#123;singlyQuoted&#125;, $&#123;env.BUILD_ID&#125; on $&#123;env.JENKINS_URL&#125;" &#125; withEnv(["test='one","test2='two"])&#123; echo "Heloo $&#123;global&#125;, $&#123;test&#125;, $&#123;test2&#125;, $&#123;singlyQuoted&#125;, $&#123;env.BUILD_ID&#125; on $&#123;env.JENKINS_URL&#125;" &#125; &#125; &#125; stage('Props')&#123; echo "$&#123;params.Greeting2&#125; World" &#125;&#125; parallel : ì¼ë°˜ì ì¸ pipelineì€ ìˆœì°¨ì ì¸ ìˆœì„œë¡œ ì§„í–‰ì´ ëœë‹¤. ê·¸ëŸ¬ë‚˜ ë™ì‹œ ì²˜ë¦¬ë¥¼ ì›í•œë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ parallel ëª…ë ¹ì„ ì‚¬ìš© í•  ìˆ˜ ìžˆë‹¤. stage('Test') &#123; parallel linux: &#123; node('linux') &#123; checkout scm try &#123; unstash 'app' sh 'make check' &#125; finally &#123; junit '**/target/*.xml' &#125; &#125; &#125;, windows: &#123; node('windows') &#123; /* .. snip .. */ &#125; &#125;&#125; ê¸°íƒ€ ì°¸ê³  plugin definition : https://jenkins.io/doc/pipeline/steps/ pipeline examples : https://jenkins.io/doc/pipeline/examples/ Test or ReportTESTëŠ” ë¹Œë“œê°€ ì™„ë£Œ ëœ ì´í›„ junitë“±ê³¼ ê°™ì´ í…ŒìŠ¤íŠ¸ í›„ ë¦¬í¬íŠ¸ë¥¼ ë‚´ë†“ëŠ” ë¶€ë¶„ì„ ë§í•œë‹¤ í…ŒìŠ¤íŠ¸ ëœ ê²°ê³¼ë¥¼ Visualization í•˜ê²Œ ë³´ì—¬ ì£¼ê±°ë‚˜ testì— ëŒ€í•œ reportingm redording í•˜ëŠ” ë§Žì€ í”ŒëŸ¬ê·¸ì¸ì„ ì œê³µ í•˜ê³  ìžˆë‹¤. https://plugins.jenkins.io/?labels=report sh &#39;make check || true&#39;0 exit codeê°€ í•­ìƒ ë‚˜ì˜¤ê²Œ í•˜ëŠ” ì½”ë“œë¡œì¨, íŠ¹ë³„í•œ í–‰ìœ„ë¥¼ í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ì „ì²´ ì ìœ¼ë¡œ í™˜ê²½ì— ëŒ€í•œ clearë¥¼ í•˜ëŠ” ì—­í• ë¡œ ë³´ì¸ë‹¤.(linux kernel ê°œë°œí• ë•Œ ì¤‘ê°„ ì¤‘ê°„ ë„£ì–´ ì£¼ëŠ” ìš©ë„ë¡œ ë„£ëŠ” ë‹¤ëŠ” ì´ì•¼ê¸°ê°€ ìžˆë‹¤.) junit &#39;*/target/.xml&#39;target ì´í•˜ ë–¨ì–´ì§„ xml íŒŒì¼ë“¤ì„ ìº¡ì³ í•˜ëŠ” ì—­í• ì´ë‹¤. Deploy// Script //node &#123; /* .. snip .. */ stage('Deploy') &#123; if (currentBuild.result == null || currentBuild.result == 'SUCCESS') &#123; â‘  sh 'make publish' &#125; &#125; /* .. snip .. */&#125; currentBuild.resultê°€ null ì´ëž€ ì˜ë¯¸ëŠ” ì•žì„œ ì•„ë¬´ëŸ° ì´ìƒ ê²°ê³¼ ê°’ì´ ì—†ë‹¤ëŠ” ëœ»ì´ë‹¤. Multibranch Pipelinescm(ì—¬ê¸°ì„œëŠ” git)ì—ì„œ ì—¬ëŸ¬ê°œì˜ íŒŒì´í”„ë¼ì¸ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì´ë‹¤. New Item &gt; Multibranch Pipeline &gt; Branch Source &gt; Project Repository &gt; Url ìž…ë ¥ í•´ë‹¹ git url ì—ì„œ Jenkins íŒŒì¼ì´ ìžˆëŠ” branch ëŒ€ìƒìœ¼ë¡œ ìžë™ìœ¼ë¡œ íŒŒì´í”„ë¼ì¸ì´ ìƒì„±ëœë‹¤. Scan Multibranch Pipeline TriggersPeriodically if not otherwise run : ì¼ì • ê¸°ê°„ë³„ë¡œ scan ì²˜ë¦¬ í•œë‹¤. global variable ì´ ì¶”ê°€ ëœë‹¤. BRANCH_NAME : íŠ¹ì • branch name ë“± CHANGE_ID : full request number ë“± ìˆ˜ì • id Dockerjenkins íŒŒì´í”„ë¼ì¸ 2.5 ì´ìƒì€ dockerë¥¼ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. ìƒìœ„ì—ì„œ ì†Œê°œí•œ ebookì€ ìµœì‹ í™” ë˜ì–´ ìžˆì§€ ì•Šë‹¤. ë‹¤ìŒ urlì„ ì°¸ê³  í•˜ëŠ”ê²Œ ì¢‹ì„ê±° ê°™ë‹¤. https://jenkins.io/doc/book/pipeline/docker/ Docker testnode &#123; /* Requires the Docker Pipeline plugin to be installed */ docker.image('node:7-alpine').inside &#123; stage('Test') &#123; sh 'node --version' &#125; &#125;&#125; jenkins user ì„¤ì •ì„ rootë¡œ ì•ˆí•˜ëŠ” ì´ìƒ permission denied ê°€ ë‚  í™•ë¥ ì´ ë†’ë‹¤. docker user groupì„ ë§Œë“¤ê³  í•´ë‹¹ docker groupì— ì‚¬ìš©ìžë¥¼ add í•˜ì—¬ ì²˜ë¦¬ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ sudo groupadd docker sudo usermod -aG docker $USER sudo usermod -aG docker jenkins sudo systemctl restart jenkins ì²˜ë¦¬ í›„ log out, log inì„ í•˜ë©´ ì²˜ë¦¬ ì™„ë£Œ ëœë‹¤ê³  í•˜ì§€ë§Œ, ë‚˜ëŠ” ì„œë²„ ìž¬ê¸°ë™ ì‹œí‚¤ê³  ë‚˜ì„œì•¼ ì ìš© ë˜ì—ˆë‹¤. Started by user devopsRunning in Durability level: MAX_SURVIVABILITY[Pipeline] Start of Pipeline (hide)[Pipeline] nodeRunning on Jenkins in /var/lib/jenkins/workspace/example[Pipeline] &#123;[Pipeline] sh+ docker inspect -f . node:7-alpineError: No such object: node:7-alpine[Pipeline] sh+ docker pull node:7-alpineTrying to pull repository docker.io/library/node ... 7-alpine: Pulling from docker.io/library/node90f4dba627d6: Pulling fs layer1e674d353187: Pulling fs layerd3a64c0f885a: Pulling fs layerd3a64c0f885a: Verifying Checksumd3a64c0f885a: Download complete90f4dba627d6: Verifying Checksum90f4dba627d6: Download complete90f4dba627d6: Pull complete1e674d353187: Verifying Checksum1e674d353187: Download complete1e674d353187: Pull completed3a64c0f885a: Pull completeDigest: sha256:4954ce53247180e207772f936223b11d52a7e4ee712dfe73fe2a75e39f785067Status: Downloaded newer image for docker.io/node:7-alpine[Pipeline] withDockerContainerJenkins does not seem to be running inside a container$ docker run -t -d -u 986:979 -w /var/lib/jenkins/workspace/example -v /var/lib/jenkins/workspace/example:/var/lib/jenkins/workspace/example:rw,z -v /var/lib/jenkins/workspace/example@tmp:/var/lib/jenkins/workspace/example@tmp:rw,z -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** node:7-alpine cat$ docker top 7b70bc2548dc543669df3f71b73ed71e21de2c3090a98b0c5ec5ae89560ad071 -eo pid,comm[Pipeline] &#123;[Pipeline] stage[Pipeline] &#123; (Test)[Pipeline] sh+ node --versionv7.10.1[Pipeline] &#125;[Pipeline] // stage[Pipeline] &#125;$ docker stop --time=1 7b70bc2548dc543669df3f71b73ed71e21de2c3090a98b0c5ec5ae89560ad071$ docker rm -f 7b70bc2548dc543669df3f71b73ed71e21de2c3090a98b0c5ec5ae89560ad071[Pipeline] // withDockerContainer[Pipeline] &#125;[Pipeline] // node[Pipeline] End of PipelineFinished: SUCCESS ì „ì²´ flowëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. docker pull node:7-alpine : ì´ë¯¸ì§€ ë‹¤ìš´ docker run -t -d -u node:7-alpine : ì´ë¯¸ì§€ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ docker top f9be76653c26 -eo pid,comm : docker ì •ë³´ ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒ ëª…ë ¹ì–´ ì‹¤í–‰ :docker exec -it f9be76653c26 sh node --version : container ë‚´ë¶€ shë¥¼ ì´ìš©í•´ ë²„ì „ ì •ë³´ ì–»ì–´ì˜¤ê¸° docker stop &amp; docker rm : ì‹¤í–‰í•œ ì»¨í…Œì´ë„ˆ ì‚­ì œ commandë¡œ ë³€ê²½ í•˜ìžë©´ ë‹¤ìŒê³¼ ê°™ë‹¤ (stop &amp; rmì€ ë„£ì§€ ì•ŠìŒ) [devops@localhost ~]$ docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEdocker.io/node 7-alpine 4b72b56791f9 24 months ago 58.3 MB[devops@localhost ~]$ docker run -t -d 4b72b56791f9f9be76653c2641679c56071749082372c3b07f54bbd0a122d105fc4b0948635a[devops@localhost ~]$ docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESf9be76653c26 4b72b56791f9 "node" 6 seconds ago Up 5 seconds nervous_shaw[devops@localhost ~]$ docker top f9be76653c26UID PID PPID C STIME TTY TIME CMDroot 33882 33862 0 17:49 pts/3 00:00:00 node[devops@localhost ~]$ docker top f9be76653c26 -eo pid,commPID COMMAND33882 node[devops@localhost ~]$ docker exec -it f9be76653c26 sh/ # node --versionv7.10.1/ # volume mountì•žì„œ ë‹¤ìš´ë¡œë“œí•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“± ìºì‰¬ë¥¼ ìž¬ í™œìš© í•˜ê¸° ìœ„í•´ì„œ ë‹¤ìŒê³¼ ê°™ì´ volumeì„ mount í•  ìˆ˜ ìžˆë‹¤. // Script //node &#123; /* Requires the Docker Pipeline plugin to be installed */ docker.image('maven:3-alpine').inside('-v $HOME/.m2:/root/.m2') &#123; stage('Build') &#123; sh 'mvn -B' &#125; &#125;&#125; ë‹¤ì¤‘ container ì²˜ë¦¬node &#123; /* Requires the Docker Pipeline plugin to be installed */ stage('Back-end') &#123; docker.image('maven:3-alpine').inside &#123; sh 'mvn --version' &#125; &#125; stage('Front-end') &#123; docker.image('node:7-alpine').inside &#123; sh 'node --version' &#125; &#125;&#125; sidecar ì²˜ë¦¬íŠ¹ì • ì„œë¹„ìŠ¤ í™˜ê²½ì„ í…ŒìŠ¤íŠ¸ í•˜ê¸° ìœ„í•˜ì—¬ ì£¼ë³€ í™˜ê²½ì„ ìš°ì„  ë§Œë“¤ê³ , í•´ë‹¹ ì„œë¹„ìŠ¤ë¥¼ í…ŒìŠ¤íŠ¸ í•˜ê¸° ìœ„í•œ í–‰ìœ„ë¥¼ sidecar íŒ¨í„´ì´ë¼ê³  í•œë‹¤. dockerì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ side carë¥¼ dockerì— ë°˜ì˜ í•  ìˆ˜ ìžˆë‹¤. mysql run node &#123; /* * In order to communicate with the MySQL server, this Pipeline explicitly * maps the port (`3306`) to a known port on the host machine. */ docker.image('mysql:5').withRun('-e "MYSQL_ROOT_PASSWORD=my-secret-pw" -p 3306:3306') &#123; c -&gt; docker.image('mysql:5').inside("--link $&#123;c.id&#125;:db") &#123; /* Wait until mysql service is up */ sh 'while ! mysqladmin ping -hdb --silent; do sleep 1; done' sh 'ehco $USER' &#125; &#125;&#125; ê²°ê³¼ Started by user devopsRunning in Durability level: MAX_SURVIVABILITY[Pipeline] Start of Pipeline[Pipeline] nodeRunning on Jenkins in /var/lib/jenkins/workspace/example[Pipeline] &#123;[Pipeline] sh+ docker run -d -e MYSQL_ROOT_PASSWORD=my-secret-pw -p 3306:3306 mysql:5[Pipeline] dockerFingerprintRun[Pipeline] sh+ docker inspect -f . mysql:5.[Pipeline] withDockerContainerJenkins does not seem to be running inside a container$ docker run -t -d -u 986:979 --link 541d07bced678662242c3242be0fa406a0c10def3774af6e6b86221a2c6d982f:db -w /var/lib/jenkins/workspace/example -v /var/lib/jenkins/workspace/example:/var/lib/jenkins/workspace/example:rw,z -v /var/lib/jenkins/workspace/example@tmp:/var/lib/jenkins/workspace/example@tmp:rw,z -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** mysql:5 cat$ docker top cfbe21f96c9a7f16de807e976824c11d9ecd3ace17dd99798936d111ae507739 -eo pid,comm[Pipeline] &#123;[Pipeline] sh+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent+ sleep 1+ mysqladmin ping -hdb --silent[Pipeline] sh+ echo[Pipeline] &#125;$ docker stop --time=1 cfbe21f96c9a7f16de807e976824c11d9ecd3ace17dd99798936d111ae507739$ docker rm -f cfbe21f96c9a7f16de807e976824c11d9ecd3ace17dd99798936d111ae507739[Pipeline] // withDockerContainer[Pipeline] sh+ docker stop 541d07bced678662242c3242be0fa406a0c10def3774af6e6b86221a2c6d982f541d07bced678662242c3242be0fa406a0c10def3774af6e6b86221a2c6d982f+ docker rm -f 541d07bced678662242c3242be0fa406a0c10def3774af6e6b86221a2c6d982f541d07bced678662242c3242be0fa406a0c10def3774af6e6b86221a2c6d982f[Pipeline] &#125;[Pipeline] // node[Pipeline] End of Pipeline ìƒìœ„ í”„ë¡œì„¸ìŠ¤ê°€ ì§„í–‰ í•˜ëŠ” ë™ì•ˆì€ ì•„ëž˜ì™€ ê°™ì´ mysql containerê°€ 2ê°œ ë™ì‹œì— ì‹¤í–‰ ë˜ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ìžˆë‹¤. í•˜ë‚˜ëŠ” ì‚¬ìš©í•  mysql ì„œë²„ ì´ê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” mysqladminì´ ì •ìƒì ìœ¼ë¡œ ìž‘ë™ í•˜ëŠ”ì§€ í™•ì¸ í•˜ëŠ” ìš©ë„ì˜ ì»¨í…Œì´í„°ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. [devops@localhost ~]$ docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMEScfbe21f96c9a mysql:5 "docker-entrypoint..." 23 seconds ago Up 21 seconds 3306/tcp, 33060/tcp hopeful_goldwasser541d07bced67 mysql:5 "docker-entrypoint..." 29 seconds ago ë§Œì•½ì— jenkinsê°€ ë™ìž‘í•˜ê³  ìžˆëŠ” ì„œë²„ì— mysqladminì´ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤ë©´ ìƒìœ„ì²˜ëŸ¼ mysqladmin í…ŒìŠ¤íŠ¸ìš© ë„ì»¤ë¥¼ ë”°ë¡œ ë§Œë“¤ í•„ìš”ëŠ” ì—†ë‹¤. ìƒìœ„ scriptë¥¼ ë³´ë‹¤ë³´ë©´ ì„¤ëª…ì´ ì—†ëŠ” ë¶€ë¶„ì´ ìžˆëŠ”ë°, c -&gt; ì´ ë¶€ë¶„ì— ëŒ€í•œ ì„¤ëª…ì´ ì—†ë‹¤. groovyì˜ closureë¥¼ ì‚¬ìš©í•œ ë¶€ë¶„ìœ¼ë¡œ http://groovy-lang.org/closures.html ì´ url ë‚´ìš©ì„ í™•ì¸ í•˜ë©´ ëœë‹¤. ê²°ë¡ ì ìœ¼ë¡œëŠ” https://github.com/jenkinsci/docker-workflow-plugin/blob/master/src/main/resources/org/jenkinsci/plugins/docker/workflow/Docker.groovy ì´ íŒŒì¼ì˜ Container ê°ì²´ë¥¼ ì¸ìŠ¤í„´ìŠ¤í•œ ê°ì²´ë¥¼ ëœ»í•˜ëŠ” ê²ƒìœ¼ë¡œ, í…ŒìŠ¤íŠ¸ í•´ë³¸ ë°”ë¡œëŠ” c.idë¥¼ ì œì™¸í•˜ê³ ëŠ” ë‹¤ë¥¸ ì •ë³´ë¥¼ ì–»ì–´ ì˜¬ ìˆ˜ ì—†ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤. &gt; public &lt;V&gt; V withRun(String args = '', String command = "", Closure&lt;V&gt; body) &#123;&gt; docker.node &#123;&gt; Container c = run(args, command)&gt; try &#123;&gt; body.call(c)&gt; &#125; finally &#123;&gt; c.stop()&gt; &#125;&gt; &#125;&gt; &#125;&gt; &gt; withRunì˜ ê²°ê³¼ ê°’ì€ Containerì´ë‹¤. ê·¸ì™¸ insideì˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. &gt; public &lt;V&gt; V inside(String args = '', Closure&lt;V&gt; body) &#123;&gt; docker.node &#123;&gt; def toRun = imageName()&gt; if (toRun != id &amp;&amp; docker.script.sh(script: "docker inspect -f . $&#123;id&#125;", returnStatus: true) == 0) &#123;&gt; // Can run it without registry prefix, because it was locally built.&gt; toRun = id&gt; &#125; else &#123;&gt; if (docker.script.sh(script: "docker inspect -f . $&#123;toRun&#125;", returnStatus: true) != 0) &#123;&gt; // Not yet present locally.&gt; // withDockerContainer requires the image to be available locally, since its start phase is not a durable task.&gt; pull()&gt; &#125;&gt; &#125;&gt; docker.script.withDockerContainer(image: toRun, args: args, toolName: docker.script.env.DOCKER_TOOL_NAME) &#123;&gt; body()&gt; &#125;&gt; &#125;&gt; &#125;&gt; &gt; ë‚´ìš©ì„ ë³´ìžë©´ argsëŠ” &quot;--link ${c.id}:db&quot; ê³¼ ëŒ€ì‘ ë˜ë©° body ì´í›„ëŠ” { /* Wait until mysql service is up */ sh &#39;while ! mysqladmin ping -hdb --silent; do sleep 1; done&#39; sh &#39;ehco $USER&#39; } ì´ ì˜ì—­ìœ¼ë¡œ ì¹˜í™˜ ë˜ê²Œ ëœë‹¤. ì¦‰ body, ë˜ëŠ” í´ë¡œì €ë¼ê³  ë¶ˆë¦¬ëŠ” ì˜ì—­ì€ í•´ë‹¹ container ë‚´ë¶€ì—ì„œ ì‹¤í–‰ ë˜ëŠ” ì˜ì—­ìœ¼ë¡œ ìƒê° í•˜ë©´ ëœë‹¤. Dockerfileì„ ì´ìš©í•œ ë¹Œë“œgithubì—ì„œ dockerfileì„ pull í•œ ì´í›„ í•´ë‹¹ íŒŒì¼ì„ ë°”íƒ•ìœ¼ë¡œ imageë¥¼ ë§Œë“¤ê³  ì‹¤í–‰ì„ ì‹œì¼œ ë³´ëŠ” ì½”ë“œì´ë‹¤. node &#123; git credentialsId: &apos;theyoung&apos;, url: &apos;https://github.com/theyoung/nginx.git&apos; def customImage = docker.build(&quot;nodejs&quot;) /* * In order to communicate with the MySQL server, this Pipeline explicitly * maps the port (`3306`) to a known port on the host machine. */ customImage.withRun() &#123; c -&gt; stage(&apos;containerTest&apos;)&#123; sh &quot;echo $&#123;c.id&#125;&quot; &#125; &#125;&#125; ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. Started by user devopsRunning in Durability level: MAX_SURVIVABILITY[Pipeline] Start of Pipeline[Pipeline] nodeRunning on Jenkins in /var/lib/jenkins/workspace/example[Pipeline] &#123;[Pipeline] gitusing credential theyoung &gt; git rev-parse --is-inside-work-tree # timeout=10Fetching changes from the remote Git repository &gt; git config remote.origin.url https://github.com/theyoung/nginx.git # timeout=10Fetching upstream changes from https://github.com/theyoung/nginx.git &gt; git --version # timeout=10using GIT_ASKPASS to set credentials github &gt; git fetch --tags --progress https://github.com/theyoung/nginx.git +refs/heads/*:refs/remotes/origin/* &gt; git rev-parse refs/remotes/origin/master^&#123;commit&#125; # timeout=10 &gt; git rev-parse refs/remotes/origin/origin/master^&#123;commit&#125; # timeout=10Checking out Revision d3d0ab61b78fcf93a63fd3fe37ec07eef2b1df5d (refs/remotes/origin/master) &gt; git config core.sparsecheckout # timeout=10 &gt; git checkout -f d3d0ab61b78fcf93a63fd3fe37ec07eef2b1df5d &gt; git branch -a -v --no-abbrev # timeout=10 &gt; git branch -D master # timeout=10 &gt; git checkout -b master d3d0ab61b78fcf93a63fd3fe37ec07eef2b1df5dCommit message: "Update Dockerfile" &gt; git rev-list --no-walk 0faa7924ddcc35bc2e83ca15d454e2240824d33b # timeout=10[Pipeline] sh+ docker build -t nodejs .Sending build context to Docker daemon 192.5 kBStep 1/9 : FROM node:6.2.2Trying to pull repository docker.io/library/node ... 6.2.2: Pulling from docker.io/library/node5c90d4a2d1a8: Pulling fs layerab30c63719b1: Pulling fs layerc6072700a242: Pulling fs layerabb742d515b4: Pulling fs layer22efa86cdb65: Pulling fs layera379ffacc05f: Pulling fs layerabb742d515b4: Waiting22efa86cdb65: Waitinga379ffacc05f: Waitingc6072700a242: Verifying Checksumc6072700a242: Download completeab30c63719b1: Download complete22efa86cdb65: Download completea379ffacc05f: Verifying Checksuma379ffacc05f: Download complete5c90d4a2d1a8: Verifying Checksum5c90d4a2d1a8: Download completeabb742d515b4: Verifying Checksumabb742d515b4: Download complete5c90d4a2d1a8: Pull completeab30c63719b1: Pull completec6072700a242: Pull completeabb742d515b4: Pull complete22efa86cdb65: Pull completea379ffacc05f: Pull completeDigest: sha256:67123dcbed68c55296aa04bdbe85440a27c74481e2668aafd66e2a11934bb15dStatus: Downloaded newer image for docker.io/node:6.2.2 ---&gt; 9121f2a78909Step 2/9 : MAINTAINER Jaeha Ahn &lt;eu81273@gmail.com&gt; ---&gt; Running in 0ecf8f4050a4 ---&gt; d6a693621aecRemoving intermediate container 0ecf8f4050a4Step 3/9 : RUN mkdir -p /app ---&gt; Running in dd257c30d12a[91m[0m ---&gt; b812157a06e8Removing intermediate container dd257c30d12aStep 4/9 : WORKDIR /app ---&gt; ec1c4a7a3f98Removing intermediate container 5ff496892285Step 5/9 : ADD . /app ---&gt; 727a7dd31fe8Removing intermediate container e96e6be5e5e3Step 6/9 : RUN npm install ---&gt; Running in 810192e8ef7c[91m[0m[91mnpm[0m[91m [0m[91minfo [0m[91mit worked if it ends with[0m[91m ok[0m[91mnpm[0m[91m [0m[91minfo using[0m[91m npm@3.9.5[0m[91mnpm[0m[91m info[0m[91m [0m[91musing[0m[91m node@v6.2.2[0m[91mnpm info lifecycle[0m[91m undefined~preinstall: undefined[0m[91mnpm info[0m[91m linkStuff[0m[91m !invalid#1[0m[91mnpm info lifecycle[0m[91m undefined~install: undefined[0m[91mnpm info [0m[91mlifecycle undefined~postinstall: undefined[0m[91mnpm info [0m[91mlifecycle[0m[91m undefined~prepublish: undefined[0m[91mnpm [0m[91mWARN enoent ENOENT: no such file or directory, open '/app/package.json'[0m[91mnpm WARN app No descriptionnpm WARN app No repository field.[0m[91mnpm WARN app No README data[0m[91mnpm WARN[0m[91m app No license field.[0m[91mnpm [0m[91minfo ok[0m[91m [0m ---&gt; 0b0f52f79418Removing intermediate container 810192e8ef7cStep 7/9 : ENV NODE_ENV development ---&gt; Running in f0e5d7e23c62 ---&gt; 60c03bd48ed4Removing intermediate container f0e5d7e23c62Step 8/9 : EXPOSE 3000 80 ---&gt; Running in 1cdf07531235 ---&gt; 21a51bb1f571Removing intermediate container 1cdf07531235Step 9/9 : CMD npm start ---&gt; Running in a562aa95e2fc ---&gt; a52d30b585abRemoving intermediate container a562aa95e2fcSuccessfully built a52d30b585ab[Pipeline] dockerFingerprintFrom[Pipeline] sh+ docker run -d nodejs[Pipeline] dockerFingerprintRun[Pipeline] stage[Pipeline] &#123; (containerTest)[Pipeline] sh+ echo fc6a252de706267691f3f822116fb5048df8110abfc70e587ad5e19b19dd970ffc6a252de706267691f3f822116fb5048df8110abfc70e587ad5e19b19dd970f[Pipeline] &#125;[Pipeline] // stage[Pipeline] sh+ docker stop fc6a252de706267691f3f822116fb5048df8110abfc70e587ad5e19b19dd970ffc6a252de706267691f3f822116fb5048df8110abfc70e587ad5e19b19dd970f+ docker rm -f fc6a252de706267691f3f822116fb5048df8110abfc70e587ad5e19b19dd970ffc6a252de706267691f3f822116fb5048df8110abfc70e587ad5e19b19dd970f[Pipeline] &#125;[Pipeline] // node[Pipeline] End of PipelineFinished: SUCCESS Docker server ì‚¬ìš© ê¸°ë³¸ ì„œë²„ : /var/run/docker.sock ë³„ë„ ì„œë²„ ì‚¬ìš© í•˜ê³ ìž í• ê²½ìš° (Docker Swarm ê°™ì€ê±°) node &#123; checkout scm docker.withServer('tcp://swarm.example.com:2376', 'swarm-certs') &#123; docker.image('mysql:5').withRun('-p 3306:3306') &#123; /* do things */ &#125; &#125;&#125; Docker RegistryDocker hubë¥¼ ê¸°ë³¸ìœ¼ë¡œ Registry ì„œë²„ê°€ ì„¤ì • ë˜ì–´ìžˆìœ¼ë‚˜, ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤. node &#123; checkout scm docker.withRegistry('https://registry.example.com') &#123; docker.image('my-custom-image').inside &#123; sh 'make test' &#125; &#125;&#125; node &#123; checkout scm docker.withRegistry('https://registry.example.com', 'credentials-id') &#123; def customImage = docker.build("my-image:$&#123;env.BUILD_ID&#125;") /* Push the container to the custom Registry */ customImage.push() &#125;&#125; ReplayJenkins &gt; íŒŒì´í”„ë¼ì¸ í”„ë¡œì íŠ¸ ì„ íƒ &gt; Replay ì„ íƒ MainScript ìˆ˜ì • Run ë§¤ë²ˆ Configë¥¼ ìˆ˜ì •í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì— Replayë¥¼ ì‚¬ìš©í•´ì„œ scriptë¥¼ Test í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤. Pipeline Syntaxì•žì„œì„œ DSL defineì—ì„œ ë‹¤ë£¨ì—ˆë˜ ë‚´ìš©ê³¼ ë¹„ìŠ·í•œ ë¶€ë¶„ì´ ë§Žë‹¤. if else node &#123; stage('Example') &#123; if (env.BRANCH_NAME == 'master') &#123; echo 'I only execute on the master branch' &#125; else &#123; echo 'I execute elsewhere' &#125; &#125;&#125; try catch node &#123; stage('Example') &#123; try &#123; sh 'exit 1' &#125; catch (exc) &#123; echo 'Something failed, I should sound the klaxons!' throw &#125; &#125;&#125;]]></content>
      <tags>
        <tag>Jenkins</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[tomcat install on centos]]></title>
    <url>%2Ftomcat-install-with-user-on-centos-for-jenkins%2F</url>
    <content type="text"><![CDATA[tomca install ì²˜ë¦¬ í•˜ëŠ” ë‚´ìš©ì´ì§€ë§Œ ë³„ ë‚´ìš©ì´ ì—†ì–´ì„œ... pass [root@localhost webapp]# yum list tomcat*Loaded plugins: fastestmirror, langpacksLoading mirror speeds from cached hostfile * base: centos.mirror.moack.net * extras: centos.mirror.moack.net * updates: centos.mirror.moack.netInstalled Packagestomcat.noarch 7.0.76-9.el7_6 @updatestomcat-admin-webapps.noarch 7.0.76-9.el7_6 @updatestomcat-el-2.2-api.noarch 7.0.76-9.el7_6 @updatestomcat-jsp-2.2-api.noarch 7.0.76-9.el7_6 @updatestomcat-lib.noarch 7.0.76-9.el7_6 @updatestomcat-servlet-3.0-api.noarch 7.0.76-9.el7_6 @updatestomcat-webapps.noarch 7.0.76-9.el7_6 @updatesAvailable Packagestomcat-docs-webapp.noarch 7.0.76-9.el7_6 updatestomcat-javadoc.noarch 7.0.76-9.el7_6 updatestomcat-jsvc.noarch 7.0.76-9.el7_6 updatestomcatjss.noarch 7.2.1-8.el7_6 updates[root@localhost webapp]# yum install tomcat tomcat-webapp tomcat-admin-webapps [root@localhost webapp]# systemctl enable tomcat[root@localhost webapp]# systemctl stop tomcat[root@localhost webapp]# systemctl start tomcat[root@localhost webapp]# whereis tomcattomcat: /usr/sbin/tomcat /etc/tomcat /usr/libexec/tomcat /usr/share/tomcat [root@localhost webapp]# cd /usr/share/tomcat/[root@localhost tomcat]# llí•©ê³„ 0drwxr-xr-x. 2 root root 76 6ì›” 27 22:03 binlrwxrwxrwx. 1 root tomcat 11 6ì›” 27 22:03 conf -&gt; /etc/tomcatlrwxrwxrwx. 1 root tomcat 22 6ì›” 27 22:03 lib -&gt; /usr/share/java/tomcatlrwxrwxrwx. 1 root tomcat 15 6ì›” 27 22:03 logs -&gt; /var/log/tomcatlrwxrwxrwx. 1 root tomcat 22 6ì›” 27 22:03 temp -&gt; /var/cache/tomcat/templrwxrwxrwx. 1 root tomcat 23 6ì›” 27 22:03 webapps -&gt; /var/lib/tomcat/webappslrwxrwxrwx. 1 root tomcat 22 6ì›” 27 22:03 work -&gt; /var/cache/tomcat/work[root@localhost tomcat]# [root@localhost webapps]# llí•©ê³„ 5drwxr-xr-x. 3 tomcat tomcat 4096 6ì›” 27 22:54 ROOTdrwxr-xr-x. 8 tomcat tomcat 127 6ì›” 27 22:54 examplesdrwxr-xr-x. 5 root tomcat 87 6ì›” 27 22:45 host-managerdrwxr-xr-x. 5 root tomcat 103 6ì›” 27 22:45 managerdrwxr-xr-x. 5 tomcat tomcat 86 6ì›” 27 22:54 sample]]></content>
      <tags>
        <tag>centos</tag>
        <tag>tomcat</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nexus install on Centos7 with docker]]></title>
    <url>%2FNexus-install-on-centos7-with-docker%2F</url>
    <content type="text"><![CDATA[Nexus ì„¤ì¹˜í° ì–´ë ¤ì›€ì´ ì—†ì–´ì„œ logë§Œ ë‚¨ê¹€ [devops@localhost docker]$ docker search sonatype/nexus3Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.26/images/search?limit=25&amp;term=sonatype%2Fnexus3: dial unix /var/run/docker.sock: connect: permission denied[devops@localhost docker]$ suì•”í˜¸:[root@localhost docker]# docker search sonatype/nexus3INDEX NAME DESCRIPTION STARS OFFICIAL AUTOMATED[root@localhost docker]# docker search nexus3INDEX NAME DESCRIPTION STARS OFFICIAL AUTOMATEDdocker.io docker.io/sonatype/nexus3 Sonatype Nexus Repository Manager 3 620docker.io docker.io/shifudao/nexus3 clone from nexus3 image but based from ope... 4 [OK]docker.io docker.io/cloudsc/nexus3-blobstore-s3 nexus3 with nexus-blobstore-s3 integrated 2docker.io docker.io/home1oss/nexus3 An auto configured nexus3 2 [OK]docker.io docker.io/madmuffin/nexus3 Sonatype Nexus3 Milestone7 docker image 2 [OK]docker.io docker.io/alvindaiyan/nexus3-azure-appservice 1docker.io docker.io/cirepo/nexus3 An auto configured nexus3 1 [OK]docker.io docker.io/flavioaiello/nexus3 Production ready lightweight Nexus3 with A... 1 [OK]docker.io docker.io/fxinnovation/nexus3 Sonatype Nexus 3 in a container 1 [OK]docker.io docker.io/azaa1/nexus3 Sonyatype Nexus Repository Manager 3 0docker.io docker.io/bigseasre/nexus3 mirror of the original nexus3 dockerfile 0docker.io docker.io/binsix/nexus3 docker images of nexus3 base on openjdk 0 [OK]docker.io docker.io/clivesaha/nexus3 nexus3 0docker.io docker.io/darthhater/nexus3 A series of example Dockerfiles and images... 0 [OK]docker.io docker.io/desiato/nexus3-ssl Sonatype Nexus 3 with SSL/TLS support. 0 [OK]docker.io docker.io/devopsmakers/nexus3 A Nexus3 container with the apt plugin 0docker.io docker.io/dwolla/nexus3-crowd Nexus3 with nexus3-crowd-plugin installed 0 [OK]docker.io docker.io/enieuw/nexus3-oss nexus3-oss 0 [OK]docker.io docker.io/freckleiot/nexus3-oss A Sonatype Nexus3 OSS image which makes it... 0 [OK]docker.io docker.io/joshdvir/nexus3 nexus3 0 [OK]docker.io docker.io/lokkju/nexus3-github-auth Sonatype Nexus 3 with Github authenticatio... 0 [OK]docker.io docker.io/mritd/nexus3 nexus3 0 [OK]docker.io docker.io/salte/nexus3 Extends the Sonatype nexus3 Docker image b... 0 [OK]docker.io docker.io/sdase/nexus3-base-image An opinionated nexus3 docker image, based ... 0 [OK]docker.io docker.io/stocksoftware/nexus3 A nexus3 docker instance 0 [OK][root@localhost docker]# docker pull docker.io/sonatype/nexus3Using default tag: latestTrying to pull repository docker.io/sonatype/nexus3 ...latest: Pulling from docker.io/sonatype/nexus38ba884070f61: Pull complete9d732789dc29: Pull completeb56d6d0d4fc5: Pull completeDigest: sha256:970b09779992bf88d041d074428c54dc153f7b9c8cafe4ff364dd26d69200f7aStatus: Downloaded newer image for docker.io/sonatype/nexus3:latest[root@localhost docker]# ls[root@localhost docker]# mkdir nexus-data[root@localhost docker]# lsnexus-data[root@localhost docker]# llí•©ê³„ 0drwxr-xr-x. 2 root root 6 6ì›” 26 11:21 nexus-data[root@localhost docker]# chown -R 200 nexus-data/[root@localhost docker]# llí•©ê³„ 0drwxr-xr-x. 2 200 root 6 6ì›” 26 11:21 nexus-data [root@localhost docker]# firewall-cmd --permanent --zone=public --add-port=8081/tcpsuccess[root@localhost docker]# firewall-cmd --reloadsuccess[root@localhost docker]# [root@localhost docker]# docker run -d -p 8081:8081 --privileged --name nexus -v /nexus-data:/nexus-data sonatype/nexus367826ba9e0179b6009c9c7a177fe1815fd320cdac65ea91d479413f7c4e5e81a[root@localhost docker]# docker psCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES67826ba9e017 sonatype/nexus3 "sh -c $&#123;SONATYPE_..." 3 seconds ago Up 3 seconds 0.0.0.0:8081-&gt;8081/tcp nexus[root@localhost docker]# docker logs -f]]></content>
      <tags>
        <tag>centos</tag>
        <tag>nexus</tag>
        <tag>docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jenkins with tomcat]]></title>
    <url>%2Fjenkins-with-tomcat%2F</url>
    <content type="text"><![CDATA[ëª©ì gitì—ì„œ webì†ŒìŠ¤ë¥¼ ìˆ˜ì‹  í›„, tomcat í•˜ë‹¨ webappìœ¼ë¡œ ë””í”Œë¡œì´ ìžë™í™” ì°¸ê³ tomcat installation Jenkins ì„¤ì •mavenjenkinsê´€ë¦¬ &gt; global tool configuration&gt;maven &gt; name : m3 install automatically : check version : 3.6 ìƒˆë¡œìš´ ì•„ì´í…œFreestyle project ì†ŒìŠ¤ì½”ë“œê´€ë¦¬ : git repository url https://github.com/ValaxyTech/hello-world ë¥¼ ê°œì¸ GitHub repositoryì— forkí•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œ í•¨ Build Maven version : M3 Goals : clean install package ë¹Œë“œ í›„ ì¡°ì¹˜ WAR/EAR files : http://218.145.218.31:8080/webapp/]]></content>
      <tags>
        <tag>Jenkins</tag>
        <tag>tomcat</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jenkins on centos7]]></title>
    <url>%2Fjenkins-on-centos7%2F</url>
    <content type="text"><![CDATA[jenkins installinstallì„ ìœ„í•´ì„œ jenkins repositoryë¥¼ ì¶”ê°€í•œë‹¤. sudo wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.repo rpmì— í‚¤ ë“±ë¡ í›„ jekins ì¸ìŠ¤í†¨ sudo rpm --import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key sudo yum install jenkins [root@localhost devops]# sudo wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.repo--2019-06-24 16:07:47-- http://pkg.jenkins-ci.org/redhat/jenkins.repoResolving pkg.jenkins-ci.org (pkg.jenkins-ci.org)... 52.202.51.185Connecting to pkg.jenkins-ci.org (pkg.jenkins-ci.org)|52.202.51.185|:80... connected.HTTP request sent, awaiting response... 200 OKLength: 71Saving to: â€˜/etc/yum.repos.d/jenkins.repoâ€™100%[=====================================================================================================================================================================================================================================&gt;] 71 --.-K/s in 0s2019-06-24 16:07:48 (9.43 MB/s) - â€˜/etc/yum.repos.d/jenkins.repoâ€™ saved [71/71][root@localhost devops]# sudo rpm --import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key[root@localhost devops]# sudo yum install jenkinsLoaded plugins: fastestmirror, langpacksLoading mirror speeds from cached hostfile * base: centos.mirror.moack.net * extras: centos.mirror.moack.net * updates: centos.mirror.moack.netjenkins | 2.9 kB 00:00:00jenkins/primary_db | 129 kB 00:00:01Resolving Dependencies--&gt; Running transaction check---&gt; Package jenkins.noarch 0:2.182-1.1 will be installed--&gt; Finished Dependency ResolutionDependencies Resolved=============================================================================================================================================================================================================================================================================== Package Arch Version Repository Size===============================================================================================================================================================================================================================================================================Installing: jenkins noarch 2.182-1.1 jenkins 74 MTransaction Summary===============================================================================================================================================================================================================================================================================Install 1 PackageTotal download size: 74 MInstalled size: 74 MIs this ok [y/d/N]: yDownloading packages:jenkins-2.182-1.1.noarch.rpm | 74 MB 00:05:37Running transaction checkRunning transaction testTransaction test succeededRunning transaction Installing : jenkins-2.182-1.1.noarch 1/1 Verifying : jenkins-2.182-1.1.noarch 1/1Installed: jenkins.noarch 0:2.182-1.1Complete! web port &amp; firewalljenkinsì˜ ì„œë¹„ìŠ¤ portë¥¼ ì„¤ì • í•˜ê³  ì—´ì–´ì¤€ë‹¤. [root@localhost devops]# cd /etc/sysconfig/[root@localhost sysconfig]# vi jenkins ## Type: integer(0:65535)## Default: 8080## ServiceRestart: jenkins## Port Jenkins is listening on.# Set to -1 to disable#JENKINS_PORT="9090" [root@localhost sysconfig]# sudo firewall-cmd --permanent --zone=public --add-port=9090/tcpsuccess[root@localhost sysconfig]# sudo firewall-cmd --reloadsuccess[root@localhost sysconfig]# service jenkins start service jenkins start ëª…ë ¹ì–´ë¡œ jenkinsë¥¼ ì‹¤í–‰í•œë‹¤. http://url:port ë¥¼ ë¸Œë¼ìš°ì €ì— ë„£ìœ¼ë©´ jenkins í™”ë©´ì´ ëœ¨ë©´ ì •ìƒì ìœ¼ë¡œ ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ ëœ ê²ƒì´ë‹¤. Check Jenkins init keyjenkins ìµœì´ˆ ì‹¤í–‰í‚¤ëŠ” /var/lib/jenkins/secrets/ì— ìœ„ì¹˜ í•œë‹¤. [root@localhost sysconfig]# cd /var/lib/jenkins/secrets/[root@localhost secrets]# lsfilepath-filters.d initialAdminPassword jenkins.model.Jenkins.crumbSalt master.key org.jenkinsci.main.modules.instance_identity.InstanceIdentity.KEY slave-to-master-security-kill-switch whitelisted-callables.d[root@localhost secrets]# vi initialAdminPassword jenkins ì‹¤í–‰ ì¤‘ ì´ìƒì´ ë°œìƒ í•œë‹¤ë©´ ë‹¤ìŒ ë¡œê·¸ë¥¼ í™•ì¸ í•´ì„œ ëŒ€ì‘ í•´ ì¤˜ì•¼ í•œë‹¤. /var/log/jenkins/ [root@localhost devops]# cd /var/log/jenkins/[root@localhost jenkins]# lsjenkins.log jdk ì„¤ì¹˜[root@localhost secrets]# yum list java*jdk-develLoaded plugins: fastestmirror, langpacksLoading mirror speeds from cached hostfile * base: centos.mirror.moack.net * extras: centos.mirror.moack.net * updates: centos.mirror.moack.netAvailable Packagesjava-1.6.0-openjdk-devel.x86_64 1:1.6.0.41-1.13.13.1.el7_3 basejava-1.7.0-openjdk-devel.x86_64 1:1.7.0.221-2.6.18.0.el7_6 updatesjava-1.8.0-openjdk-devel.i686 1:1.8.0.212.b04-0.el7_6 updatesjava-1.8.0-openjdk-devel.x86_64 1:1.8.0.212.b04-0.el7_6 updatesjava-11-openjdk-devel.i686 1:11.0.3.7-0.el7_6 updatesjava-11-openjdk-devel.x86_64 1:11.0.3.7-0.el7_6 updates[root@localhost secrets]# yum install java-1.8.0-openjdk-devel.x86_64Loaded plugins: fastestmirror, langpacksLoading mirror speeds from cached hostfile * base: centos.mirror.moack.net * extras: centos.mirror.moack.net * updates: centos.mirror.moack.netResolving Dependencies--&gt; Running transaction check---&gt; Package java-1.8.0-openjdk-devel.x86_64 1:1.8.0.212.b04-0.el7_6 will be installed--&gt; Finished Dependency ResolutionDependencies Resolved=============================================================================================================================================================================================================================================================================== Package Arch Version Repository Size===============================================================================================================================================================================================================================================================================Installing: java-1.8.0-openjdk-devel x86_64 1:1.8.0.212.b04-0.el7_6 updates 9.8 MTransaction Summary===============================================================================================================================================================================================================================================================================Install 1 PackageTotal download size: 9.8 MInstalled size: 40 MIs this ok [y/d/N]: yDownloading packages:java-1.8.0-openjdk-devel-1.8.0.212.b04-0.el7_6.x86_64.rpm | 9.8 MB 00:00:01Running transaction checkRunning transaction testTransaction test succeededRunning transaction Installing : 1:java-1.8.0-openjdk-devel-1.8.0.212.b04-0.el7_6.x86_64 1/1 Verifying : 1:java-1.8.0-openjdk-devel-1.8.0.212.b04-0.el7_6.x86_64 1/1Installed: java-1.8.0-openjdk-devel.x86_64 1:1.8.0.212.b04-0.el7_6Complete![root@localhost secrets]# javac -versionjavac 1.8.0_212 git install[root@localhost secrets]# gitbash: git: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤...[root@localhost secrets]# yum install gitLoaded plugins: fastestmirror, langpacksLoading mirror speeds from cached hostfile * base: centos.mirror.moack.net * extras: centos.mirror.moack.net * updates: centos.mirror.moack.netResolving Dependencies--&gt; Running transaction check---&gt; Package git.x86_64 0:1.8.3.1-20.el7 will be installed--&gt; Processing Dependency: perl-Git = 1.8.3.1-20.el7 for package: git-1.8.3.1-20.el7.x86_64--&gt; Processing Dependency: perl(Term::ReadKey) for package: git-1.8.3.1-20.el7.x86_64--&gt; Processing Dependency: perl(Git) for package: git-1.8.3.1-20.el7.x86_64--&gt; Processing Dependency: perl(Error) for package: git-1.8.3.1-20.el7.x86_64--&gt; Running transaction check---&gt; Package perl-Error.noarch 1:0.17020-2.el7 will be installed---&gt; Package perl-Git.noarch 0:1.8.3.1-20.el7 will be installed---&gt; Package perl-TermReadKey.x86_64 0:2.30-20.el7 will be installed--&gt; Finished Dependency ResolutionDependencies Resolved=============================================================================================================================================================================================================================================================================== Package Arch Version Repository Size===============================================================================================================================================================================================================================================================================Installing: git x86_64 1.8.3.1-20.el7 updates 4.4 MInstalling for dependencies: perl-Error noarch 1:0.17020-2.el7 base 32 k perl-Git noarch 1.8.3.1-20.el7 updates 55 k perl-TermReadKey x86_64 2.30-20.el7 base 31 kTransaction Summary===============================================================================================================================================================================================================================================================================Install 1 Package (+3 Dependent packages)Total download size: 4.5 MInstalled size: 22 MIs this ok [y/d/N]: yDownloading packages:(1/4): perl-Error-0.17020-2.el7.noarch.rpm | 32 kB 00:00:00(2/4): perl-Git-1.8.3.1-20.el7.noarch.rpm | 55 kB 00:00:00(3/4): perl-TermReadKey-2.30-20.el7.x86_64.rpm | 31 kB 00:00:00(4/4): git-1.8.3.1-20.el7.x86_64.rpm | 4.4 MB 00:00:00-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------Total 7.7 MB/s | 4.5 MB 00:00:00Running transaction checkRunning transaction testTransaction test succeededRunning transaction Installing : 1:perl-Error-0.17020-2.el7.noarch 1/4 Installing : perl-TermReadKey-2.30-20.el7.x86_64 2/4 Installing : git-1.8.3.1-20.el7.x86_64 3/4 Installing : perl-Git-1.8.3.1-20.el7.noarch 4/4 Verifying : perl-Git-1.8.3.1-20.el7.noarch 1/4 Verifying : 1:perl-Error-0.17020-2.el7.noarch 2/4 Verifying : git-1.8.3.1-20.el7.x86_64 3/4 Verifying : perl-TermReadKey-2.30-20.el7.x86_64 4/4Installed: git.x86_64 0:1.8.3.1-20.el7Dependency Installed: perl-Error.noarch 1:0.17020-2.el7 perl-Git.noarch 0:1.8.3.1-20.el7 perl-TermReadKey.x86_64 0:2.30-20.el7Complete! ìµœì´ˆ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ìƒˆë¡œìš´ ì•„ì´í…œ &gt; Enter an item name &quot;ì•„ë¬´ê±°ë‚˜&quot;&gt; pipeline ì„ íƒ &gt; ok &quot;ì•„ë¬´ê±°ë‚˜&quot; íŒŒì´í”„ë¼ì¸ ì„¤ì • íŽ˜ì´ì§€ &gt; pipeline tab í´ë¦­ definition : pipeline script &gt; github + maven &gt; ì €ìž¥ ì²˜ìŒí™”ë©´ìœ¼ë¡œ ì´ë™ ì•„ë¬´ê±°ë‚˜ íŒŒì´í”„ë¼ì¸ &gt; name &gt; ì•„ëž˜í™”ì‚´í‘œ &gt; build now íŒŒì´í”„ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ ê¸°ì´ˆnode &#123; def mvnHome stage('Preparation') &#123; // for display purposes // Get some code from a GitHub repository git 'https://github.com/jglick/simple-maven-project-with-tests.git' // Get the Maven tool. // ** NOTE: This 'M3' Maven tool must be configured // ** in the global configuration. mvnHome = tool 'M3' &#125; stage('Build') &#123; // Run the maven build withEnv(["MVN_HOME=$mvnHome"]) &#123; if (isUnix()) &#123; sh '"$MVN_HOME/bin/mvn" -Dmaven.test.failure.ignore clean package' &#125; else &#123; bat(/"%MVN_HOME%\bin\mvn" -Dmaven.test.failure.ignore clean package/) &#125; &#125; &#125; stage('Results') &#123; junit '**/target/surefire-reports/TEST-*.xml' archiveArtifacts 'target/*.jar' &#125;&#125; ì„œìˆ ì  íŒŒì´í”„ ë¼ì¸Node ë¸”ë¡ + ìŠ¤í…Œì´ì§€ ë¸”ë¡ + ë””ë ‰í‹°ë¸Œ ìŠ¤íƒ­ = ì„œìˆ ì  íŒŒì´í”„ë¼ì¸ node ë¸”ë¡ (í•„ìˆ˜)node (&lt;parameter&gt;){&lt;constituents&gt;} ë…¸ë“œ ë¸”ë¡(ì  í‚¨ìŠ¤ ì—ì´ì „íŠ¸) = ìŠ¤í…Œì´ì§€ ë¸”ë¡ + ë””ë ‰í‹°ë¸Œ + ìŠ¤íƒ­ node &#123; ìŠ¤í…Œì´ì§€ ë¸”ë¡ (í•„ìˆ˜)stage (&lt;parameter&gt;){&lt;constituents&gt;} ìŠ¤í…Œì´ì§€ ë¸”ë¡ = ìŠ¤í… + ë””ë ‰í‹°ë¸Œ stage('Preparation') &#123; // for display purposes&#125;stage('Build') &#123; // Run the maven build&#125;stage('Results') &#123;&#125; ë””ë ‰í‹°ë¸Œ (ì˜µì…˜)def mvnHomemvnHome = tool 'M3' í™˜ê²½ë³€ìˆ˜, ì˜µì…˜, íŒŒë¼ë¯¸í„°, íŠ¸ë¦¬ê±° ë“±ì„ í‘œí˜„ github ì—°ê²°í•˜ê¸°Credentials ì„¤ì •Jenkins ëŒ€ì‰¬ë³´ë“œ(ìµœìƒìœ„ í™”ë©´) Credentials &gt; System &gt; Global credentials &gt; Add Credentials Kind : Username with password Scope : Global Username : github id, name ë˜ëŠ” email password : github password ID : id Description : ì•„ë¬´ê±°ë‚˜ Credentials ì—°ê²°Jenkins ëŒ€ì‰¬ë³´ë“œ(ìµœìƒìœ„ í™”ë©´) Jenkinsê´€ë¦¬ &gt; ì‹œìŠ¤í…œì„¤ì • GitHub ì˜ì—­ìœ¼ë¡œ ì´ë™ Name : ì•„ë¬´ê±°ë‚˜ API URL : https://api.github.com Manage hooks : ì„ íƒ 2ë²ˆì§¸ ê³ ê¸‰ í´ë¦­ Additional actions : Convert login and password to token ì„ íƒ From credentionas &gt; Credentilas &gt; ìƒìœ„ ë§Œë“  Credentials ì„ íƒ Create token credentials í´ë¦­ ì •ìƒì ìœ¼ë¡œ í† í°ì´ ìƒì„± ë˜ì—ˆë‹¤ë©´ &quot;ì €ìž¥&quot; í›„ ì¢…ë£Œ github ì‚¬ì´íŠ¸ &gt; ìš°ìƒë‹¨ ë‚´ ì•„ì´ì½˜ í´ë¦­ &gt; Setting í´ë¦­ Developer setting í´ë¦­ Personal access tokens ì„ íƒ github ì‚¬ì´íŠ¸ì— ê¸° ë“±ë¡ëœ tokenì´ ì–‘ìª½ë‹¤ ë“±ë¡ ë˜ì—ˆë‹¤ë©´ ì •ìƒ ì²˜ë¦¬ ì™„ë£Œ ëœ ê²ƒìž„ ë‚´ github repository ì—°ë™ ì—°ë™í•  ë‚´ github repository ë¡œ ì´ë™ Create new file ìƒì„± &gt; Jenkinsfile (ëŒ€ì†Œë¬¸ìž ì™„ì „ížˆ ê°™ì•„ì•¼ í•¨) node ('master')&#123; checkout scm stage('Build')&#123; withMaven(maven: 'M3')&#123; if(isUnix())&#123; sh 'mvn -Dmaven.test.failure.ignore clean package' &#125; else &#123; bat 'mvn -Dmaven.test.failure.ignore clean package' &#125; &#125; &#125; stage('Results')&#123; junit '**/target/surefire-reports/TEST-*.xml' archive 'target/*.jar' &#125;&#125; ìƒìœ„ reposiboryëŠ” &quot;https://github.com/jglick/simple-maven-project-with-tests&quot;ë¥¼ Cloneí•œ ê²ƒìž„ master branchì— ìƒìœ„ì™€ ê°™ì´ Jenkinsfile ìƒì„± Multi BranchëŒ€ì‰¬ë³´ë“œ &gt; ìƒˆë¡œìš´ Item &gt; Multibranch Pipeline &gt; Branch Sources Credentials : ìƒìœ„ Credentials ì„ íƒ Owner : id or name ìž‘ì„± (ì´ê±¸ í•´ì•¼ Repository ë¦¬ìŠ¤íŠ¸ ë‚˜ì˜®) Repository ì„ íƒ ì €ìž¥ webhook ì—°ê²°webhookì„ ì—°ê²°í•´ì•¼ githubì—ì„œ ìˆ˜ì •ì‚¬í•­ì´ ìžˆì„ ë•Œ pushë¥¼ ìˆ˜ì‹  í•  ìˆ˜ ìžˆë‹¤. Jenkinsê´€ë¦¬ &gt; ì‹œìŠ¤í…œì„¤ì • &gt; Github &gt; 2ë²ˆì§¸ ê³ ê¸‰ í´ë¦­ &gt; Re-register hooks for all jobs í´ë¦­ github ë“±ë¡ í™•ì¸ ìƒìœ„ ë“±ë¡í•œ github repository ì´ë™(ë¸Œë¼ìš°ì €) &gt; Settings ì„ íƒ &gt; Webhooks í´ë¦­ ìš°ì¸¡ì— ë‚´ jenkinsì™€ ì—°ê²°ëœ ë‚´ìš©ì´ ë³´ì´ë©´ ë¨ ì£¼ì˜ í•´ì•¼í•  ì ì€ jenkinsê°€ public ip ì—¬ì•¼ë§Œ í•œë‹¤. privateì˜ ê²½ìš° githubê°€ jenkinsë¥¼ ì ‘ê·¼ í•  ìˆ˜ ì—†ê²Œëœë‹¤. new Branch ìƒì„±githubì—ì„œ master branch í™”ë©´ì—ì„œ ì¢Œìƒë‹¨ Branch:master ë²„íŠ¼ì„ í´ë¦­í•˜ê³ , ì•„ë¬´ Branch ëª…ì´ë‚˜ ì ê²Œ ë˜ë©´ Create Branchê°€ ê°€ëŠ¥í•˜ê²Œ ëœë‹¤. ì´ë•Œ Create Branchë¥¼ í•˜ê²Œ ë˜ë©´ masterì™€ ë˜‘ê°™ì€ ë‚´ìš©ì„ ê°–ëŠ” ì‹ ê·œ Branch Repoê°€ ë§Œë“¤ì–´ì§€ëŠ”ë° Webhookì„ í†µí•´ì„œ jenkinsì— ë³€í™”ê°€ ìžˆìŒì„ í†µì§€ í•´ì£¼ê²Œ ëœë‹¤. Jenkins &gt; multiBranch itemí™”ë©´ ì§„ìž… í•˜ê²Œ ë˜ë©´ ì•žì„œ ë§Œë“¤ì—ˆë˜ ì‹ ê·œ ë¸Œëžœì¹˜ê°€ ë¹Œë“œëœ ëª¨ìŠµì„ í™•ì¸ í•  ìˆ˜ ìžˆë‹¤. Docker Remote api openjenkins nodeë¥¼ docker ì´ìš©í•´ì„œ ì²˜ë¦¬ í•˜ê¸° ìœ„í•´ì„œëŠ” dockerì˜ remote apiê°€ open ë˜ì–´ ìžˆì–´ì•¼ í•œë‹¤. dockerì˜ ì¸ìŠ¤í†¨ì„ ì—¬ê¸°ì„œ ë‹¤ë£¨ì§€ ì•ŠëŠ”ë‹¤. systemctl status docker ë¥¼ ìž…ë ¥í–ˆì„ ë•Œ ì•„ëž˜ì™€ ê°™ì´ ë‚˜ì˜¤ë©´, ì •ìƒì ìœ¼ë¡œ dockerê°€ ì¸ìŠ¤í†¨ ë˜ì–´ ìžˆë‹¤ëŠ” ëœ»ì´ë‹¤. [root@localhost system]# systemctl status dockerâ— docker.service - Docker Application Container Engine Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; vendor preset: disabled) Active: active (running) since ì›” 2019-06-24 13:17:30 KST; 2 days ago Docs: http://docs.docker.com Main PID: 25542 (dockerd-current) Tasks: 52 Memory: 16.1M CGroup: /system.slice/docker.service â”œâ”€19662 /usr/libexec/docker/docker-proxy-current -proto tcp -host-ip 0.0.0.0 -host-port 8081 -container-ip 172.17.0.2 -container-port 8081 â”œâ”€19670 /usr/bin/docker-containerd-shim-current 67826ba9e0179b6009c9c7a177fe1815fd320cdac65ea91d479413f7c4e5e81a /var/run/docker/libcontainerd/67826ba9e0179b6009c9c7a177fe1815fd320cdac65ea91d479413f7c4e5e81a /usr/libexec/docker/docker-runc-current â”œâ”€25542 /usr/bin/dockerd-current --add-runtime docker-runc=/usr/libexec/docker/docker-runc-current --default-runtime=docker-runc --exec-opt native.cgroupdriver=systemd --userland-proxy-path=/usr/libexec/docker/docker-proxy-current --init-path=/usr/libexec/d... â””â”€25550 /usr/bin/docker-containerd-current -l unix:///var/run/docker/libcontainerd/docker-containerd.sock --metrics-interval=0 --start-timeout 2m --state-dir /var/run/docker/libcontainerd/containerd --shim docker-containerd-shim --runtime docker-runc --runt... 6ì›” 26 15:45:58 localhost.localdomain dockerd-current[25542]: https://hub.docker.com/ 6ì›” 26 15:45:58 localhost.localdomain dockerd-current[25542]: 6ì›” 26 15:45:58 localhost.localdomain dockerd-current[25542]: For more examples and ideas, visit: 6ì›” 26 15:45:58 localhost.localdomain dockerd-current[25542]: https://docs.docker.com/get-started/ 6ì›” 26 15:45:58 localhost.localdomain dockerd-current[25542]: 6ì›” 26 15:45:58 localhost.localdomain dockerd-current[25542]: time=&quot;2019-06-26T15:45:58.670141563+09:00&quot; level=warning msg=&quot;f4cca30a56eb3a20bbb7a9943103db28a15c3bd60ddc524adae438ea459c6b2c cleanup: failed to unmount secrets: invalid argument&quot; 6ì›” 26 15:50:00 localhost.localdomain dockerd-current[25542]: 2019-06-26 06:50:00,005+0000 INFO [quartz-3-thread-20] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &apos;Storage facet cleanup&apos; [repository.storage-facet-cleanup] s...WAITING -&gt; RUNNING 6ì›” 26 15:50:00 localhost.localdomain dockerd-current[25542]: 2019-06-26 06:50:00,010+0000 INFO [quartz-3-thread-20] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &apos;Storage facet cleanup&apos; [repository.storage-facet-cleanup] s...NG -&gt; WAITING (OK) 6ì›” 26 16:00:00 localhost.localdomain dockerd-current[25542]: 2019-06-26 07:00:00,005+0000 INFO [quartz-3-thread-20] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &apos;Storage facet cleanup&apos; [repository.storage-facet-cleanup] s...WAITING -&gt; RUNNING 6ì›” 26 16:00:00 localhost.localdomain dockerd-current[25542]: 2019-06-26 07:00:00,010+0000 INFO [quartz-3-thread-20] *SYSTEM org.sonatype.nexus.quartz.internal.task.QuartzTaskInfo - Task &apos;Storage facet cleanup&apos; [repository.storage-facet-cleanup] s...NG -&gt; WAITING (OK)Hint: Some lines were ellipsized, use -l to show in full. ì´ìœ ëŠ” ì•Œ ìˆ˜ì—†ì§€ë§Œ dockerìƒì—ì„œ remote apië¥¼ open í•˜ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ ê°€ì§€ê°€ ìžˆë‹¤. ì‹¤ì œë¡œëŠ” ì´ì¤‘ì— ë˜ëŠ”ê²Œ ìžˆìœ¼ë©´ ë‹¤í–‰ì¸ë°, ì—†ë‹¤ë©´... ë‹¤ì‹œ ì²˜ìŒë¶€í„° dockerë¥¼ install í•´ì•¼í•œë‹¤. docker.conf íŒŒì¼ ìˆ˜ì •vi /etc/.init/docker.conf DOCKER_OPS=&apos;-H tcp://0.0.0.0:4243 -H unix:///var/run/docker.sock&apos; ë„ì»¤ ì„œë²„ë¥¼ ìœ ë‹‰ìŠ¤ ë„ì»¤ ì—”ì§„ê³¼ 4243í¬íŠ¸ë¡œ ì—°ê²°í•œë‹¤. ìƒìœ„ ë‚´ìš© ì €ëŠ” ì‹¤íŒ¨ docker.service íŒŒì¼ ìˆ˜ì •ìœ„ì¹˜ê°€ ë‹¤ë¥¸ ê²½ìš°ê°€ ë§Žì€ ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤. ìƒìœ„ statusë¥¼ í†µí•´ì„œ ì–»ì–´ì˜¤ ë°ì´íƒ€ì¸ Loaded: loaded (/usr/lib/systemd/system/docker.service; enabled; vendor preset: disabled) ë¡œ ìœ„ì¹˜ë¥¼ ì¶”ì¸¡ í•˜ì˜€ë‹¤. vi /lib/systemd/system/docker.service ì¸í„°ë„·ì´ ë§í•˜ëŠ” path vi /usr/lib/systemd/system/docker.service ë‚´ path ExecStart=/usr/bin/docker daemon -H fd:// -H tcp://0.0.0.0:4243 ê·¸ëŸ¬ë‚˜ ì‹¤ì œë¡œ ìƒìœ„ íŒŒì¼ì„ ìˆ˜ì • í•˜ë ¤ê³  ë³´ë©´, ê¸°ì¡´ ë‚´ìš©ì„ ì§€ì›Œì•¼ í• ì§€ ì•„ë‹ˆë©´ ExecStartë¥¼ í•˜ë‚˜ë” ì¶”ê°€ í•˜ë¼ëŠ” ê±´ì§€ ëª¨ë¥´ê² ë‹¤. docker.service [Unit]Description=Docker Application Container EngineDocumentation=http://docs.docker.comAfter=network.targetWants=docker-storage-setup.serviceRequires=docker-cleanup.timer[Service]Type=notifyNotifyAccess=mainEnvironmentFile=-/run/containers/registries.confEnvironmentFile=-/etc/sysconfig/dockerEnvironmentFile=-/etc/sysconfig/docker-storageEnvironmentFile=-/etc/sysconfig/docker-networkEnvironment=GOTRACEBACK=crashEnvironment=DOCKER_HTTP_HOST_COMPAT=1Environment=PATH=/usr/libexec/docker:/usr/bin:/usr/sbinExecStart=/usr/bin/dockerd-current \ --add-runtime docker-runc=/usr/libexec/docker/docker-runc-current \ --default-runtime=docker-runc \ --exec-opt native.cgroupdriver=systemd \ --userland-proxy-path=/usr/libexec/docker/docker-proxy-current \ --init-path=/usr/libexec/docker/docker-init-current \ --seccomp-profile=/etc/docker/seccomp.json \ $OPTIONS \ $DOCKER_STORAGE_OPTIONS \ $DOCKER_NETWORK_OPTIONS \ $ADD_REGISTRY \ $BLOCK_REGISTRY \ $INSECURE_REGISTRY \ $REGISTRIESExecReload=/bin/kill -s HUP $MAINPIDLimitNOFILE=1048576LimitNPROC=1048576LimitCORE=infinityTimeoutStartSec=0Restart=on-abnormalKillMode=process[Install]WantedBy=multi-user.target docker íŒŒì¼ ìˆ˜ì •vi /etc/sysconfig/docker # /etc/sysconfig/docker# Modify these options if you want to change the way the docker daemon runsOPTIONS='--selinux-enabled --log-driver=journald --signature-verification=false'if [ -z "$&#123;DOCKER_CERT_PATH&#125;" ]; then DOCKER_CERT_PATH=/etc/dockerfi# Do not add registries in this file anymore. Use /etc/containers/registries.conf# instead. For more information reference the registries.conf(5) man page.# Location used for temporary files, such as those created by# docker load and build operations. Default is /var/lib/docker/tmp# Can be overriden by setting the following environment variable.# DOCKER_TMPDIR=/var/tmp# Controls the /etc/cron.daily/docker-logrotate cron job status.# To disable, uncomment the line below.# LOGROTATE=false# docker-latest daemon can be used by starting the docker-latest unitfile.# To use docker-latest client, uncomment below lines#DOCKERBINARY=/usr/bin/docker-latest#DOCKERDBINARY=/usr/bin/dockerd-latest#DOCKER_CONTAINERD_BINARY=/usr/bin/docker-containerd-latest#DOCKER_CONTAINERD_SHIM_BINARY=/usr/bin/docker-containerd-shim-latestOPTIONS='--selinux-enabled --log-driver=journald --signature-verification=false -H tcp://0.0.0.0:4243 -H unix:///var/run/docker.sock' ìƒìœ„ íŒŒì¼ì˜ ë§ˆì§€ë§‰ OPTIONSë¥¼ ê¸°ì¡´ íŒŒì¼ì— ì¶”ê°€ í•˜ì˜€ë‹¤. ì €ëŠ” ìƒìœ„ íŒŒì¼ ìˆ˜ì •ìœ¼ë¡œ ì„±ê³µ í•˜ì˜€ìŠµë‹ˆë‹¤. ì£¼ì˜ í•´ì•¼í•˜ëŠ” ê²ƒì€ tcp ì´í›„ 0.0.0.0 ì´ ì•„ë‹ˆ 127.0.0.1ë¡œ ì“°ê²Œ ë˜ë©´ local ì ‘ê·¼ë§Œ ë˜ê³  ëŒ€ì™¸ ì ‘ê·¼ì€ ë¶ˆê°€ í•©ë‹ˆë‹¤. ì„œë¹„ìŠ¤ ìž¬ ì‹¤í–‰ ë° TEST demon ìž¬ì‹¤í–‰ : systemctl daemon-reload ì„œë¹„ìŠ¤ ìž¬ì‹¤í–‰ : service docker restart Test : curl -X GET http://localhost:4243/images/json [root@localhost system]# systemctl daemon-reload[root@localhost system]# service docker restartRedirecting to /bin/systemctl restart docker.service[root@localhost system]# curl -X GET http://localhost:4243/images/json[&#123;"Containers":-1,"Created":1561408399,"Id":"sha256:36b0df681a47e5948f2088a446652766132141175dece2d6d47ef6e749385c05","Labels":&#123;"com.sonatype.license":"Apache License, Version 2.0","com.sonatype.name":"Nexus Repository Manager base image","org.label-schema.build-date":"20190305","org.label-schema.license":"GPLv2","org.label-schema.name":"CentOS Base Image","org.label-schema.schema-version":"1.0","org.label-schema.vendor":"CentOS","vendor":"Sonatype"&#125;,"ParentId":"","RepoDigests":["docker.io/sonatype/nexus3@sha256:970b09779992bf88d041d074428c54dc153f7b9c8cafe4ff364dd26d69200f7a"],"RepoTags":["docker.io/sonatype/nexus3:latest"],"SharedSize":-1,"Size":581556647,"VirtualSize":581556647&#125;,&#123;"Containers":-1,"Created":1546306167,"Id":"sha256:fce289e99eb9bca977dae136fbe2a82b6b7d4c372474c9235adc1741675f587e","Labels":null,"ParentId":"","RepoDigests":["docker.io/hello-world@sha256:41a65640635299bab090f783209c1e3a3f11934cf7756b09cb2f1e02147c6ed8"],"RepoTags":["docker.io/hello-world:latest"],"SharedSize":-1,"Size":1840,"VirtualSize":1840&#125;] í¬íŠ¸ open[root@localhost system]# firewall-cmd --permanent --zone=public --add-port=4243/tcpsuccess[root@localhost system]# firewall-cmd --reload]]></content>
      <tags>
        <tag>centos</tag>
        <tag>Jenkins</tag>
        <tag>CI</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Virtual Box And Vagrant Install on Centos]]></title>
    <url>%2Fvirtualbox-on-centos7%2F</url>
    <content type="text"><![CDATA[yum installDependency Installvirtual boxì— ê´€ë ¨ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìš°ì„  install í•œë‹¤. yum -y install gcc dkms make qt libgomp patch yum -y install kernel-headers kernel-devel binutils glibc-headers glibc-devel font-forge [devops@localhost ~]$ suì•”í˜¸:[root@localhost devops]# yum -y install gcc dkms make qt libgomp patchLoaded plugins: fastestmirror, langpacksbase | 3.6 kB 00:00:00docker-ce-stable | 3.5 kB 00:00:00epel | 5.3 kB 00:00:00extras | 3.4 kB 00:00:00maradb | 2.9 kB 00:00:00updates | 3.4 kB 00:00:00webtatic | 3.6 kB 00:00:00(1/2): epel/x86_64/primary_db | 6.1 MB 00:00:05(2/2): epel/x86_64/updateinfo | 782 kB 00:00:11Loading mirror speeds from cached hostfile * base: centos.mirror.moack.net * extras: data.aonenetworks.kr * updates: mirror.kakao.com * webtatic: us-east.repo.webtatic.comResolving Dependencies--&gt; Running transaction check---&gt; Package dkms.noarch 0:2.4.0-1.20170926git959bd74.el6 will be installed--&gt; Processing Dependency: elfutils-libelf-devel for package: dkms-2.4.0-1.20170926git959bd74.el6.noarch--&gt; Processing Dependency: kernel-devel-uname-r for package: dkms-2.4.0-1.20170926git959bd74.el6.noarch---&gt; Package gcc.x86_64 0:4.8.5-11.el7 will be updated--&gt; Processing Dependency: gcc = 4.8.5-11.el7 for package: gcc-c++-4.8.5-11.el7.x86_64---&gt; Package gcc.x86_64 0:4.8.5-36.el7_6.2 will be an update--&gt; Processing Dependency: cpp = 4.8.5-36.el7_6.2 for package: gcc-4.8.5-36.el7_6.2.x86_64--&gt; Processing Dependency: libgcc &gt;= 4.8.5-36.el7_6.2 for package: gcc-4.8.5-36.el7_6.2.x86_64---&gt; Package libgomp.x86_64 0:4.8.5-11.el7 will be updated---&gt; Package libgomp.x86_64 0:4.8.5-36.el7_6.2 will be an update---&gt; Package make.x86_64 1:3.82-21.el7 will be updated---&gt; Package make.x86_64 1:3.82-23.el7 will be an update---&gt; Package patch.x86_64 0:2.7.1-10.el7_5 will be installed---&gt; Package qt.x86_64 1:4.8.7-2.el7 will be installed--&gt; Processing Dependency: qt-settings for package: 1:qt-4.8.7-2.el7.x86_64--&gt; Processing Dependency: libcrypto.so.10(OPENSSL_1.0.2)(64bit) for package: 1:qt-4.8.7-2.el7.x86_64--&gt; Running transaction check---&gt; Package cpp.x86_64 0:4.8.5-11.el7 will be updated---&gt; Package cpp.x86_64 0:4.8.5-36.el7_6.2 will be an update---&gt; Package elfutils-libelf-devel.x86_64 0:0.172-2.el7 will be installed--&gt; Processing Dependency: elfutils-libelf(x86-64) = 0.172-2.el7 for package: elfutils-libelf-devel-0.172-2.el7.x86_64---&gt; Package gcc-c++.x86_64 0:4.8.5-11.el7 will be updated---&gt; Package gcc-c++.x86_64 0:4.8.5-36.el7_6.2 will be an update--&gt; Processing Dependency: libstdc++-devel = 4.8.5-36.el7_6.2 for package: gcc-c++-4.8.5-36.el7_6.2.x86_64--&gt; Processing Dependency: libstdc++ = 4.8.5-36.el7_6.2 for package: gcc-c++-4.8.5-36.el7_6.2.x86_64---&gt; Package kernel-debug-devel.x86_64 0:3.10.0-957.21.3.el7 will be installed---&gt; Package libgcc.x86_64 0:4.8.5-11.el7 will be updated---&gt; Package libgcc.x86_64 0:4.8.5-36.el7_6.2 will be an update---&gt; Package openssl-libs.x86_64 1:1.0.1e-60.el7_3.1 will be updated--&gt; Processing Dependency: openssl-libs(x86-64) = 1:1.0.1e-60.el7_3.1 for package: 1:openssl-1.0.1e-60.el7_3.1.x86_64--&gt; Processing Dependency: openssl-libs(x86-64) = 1:1.0.1e-60.el7_3.1 for package: 1:openssl-devel-1.0.1e-60.el7_3.1.x86_64---&gt; Package openssl-libs.x86_64 1:1.0.2k-16.el7_6.1 will be an update---&gt; Package qt-settings.noarch 0:19-23.8.el7.centos will be installed--&gt; Running transaction check---&gt; Package elfutils-libelf.x86_64 0:0.160-1.el7 will be updated--&gt; Processing Dependency: elfutils-libelf(x86-64) = 0.160-1.el7 for package: elfutils-libs-0.160-1.el7.x86_64--&gt; Processing Dependency: elfutils-libelf(x86-64) = 0.160-1.el7 for package: elfutils-0.160-1.el7.x86_64---&gt; Package elfutils-libelf.x86_64 0:0.172-2.el7 will be an update---&gt; Package libstdc++.x86_64 0:4.8.5-11.el7 will be updated---&gt; Package libstdc++.x86_64 0:4.8.5-36.el7_6.2 will be an update---&gt; Package libstdc++-devel.x86_64 0:4.8.5-11.el7 will be updated---&gt; Package libstdc++-devel.x86_64 0:4.8.5-36.el7_6.2 will be an update---&gt; Package openssl.x86_64 1:1.0.1e-60.el7_3.1 will be updated---&gt; Package openssl.x86_64 1:1.0.2k-16.el7_6.1 will be an update---&gt; Package openssl-devel.x86_64 1:1.0.1e-60.el7_3.1 will be updated---&gt; Package openssl-devel.x86_64 1:1.0.2k-16.el7_6.1 will be an update--&gt; Running transaction check---&gt; Package elfutils.x86_64 0:0.160-1.el7 will be updated---&gt; Package elfutils.x86_64 0:0.172-2.el7 will be an update---&gt; Package elfutils-libs.x86_64 0:0.160-1.el7 will be updated---&gt; Package elfutils-libs.x86_64 0:0.172-2.el7 will be an update--&gt; Processing Dependency: default-yama-scope for package: elfutils-libs-0.172-2.el7.x86_64--&gt; Running transaction check---&gt; Package elfutils-default-yama-scope.noarch 0:0.172-2.el7 will be installed--&gt; Finished Dependency ResolutionDependencies Resolved=============================================================================================================================================================================================================================================================================== Package Arch Version Repository Size===============================================================================================================================================================================================================================================================================Installing: dkms noarch 2.4.0-1.20170926git959bd74.el6 epel 78 k patch x86_64 2.7.1-10.el7_5 base 110 k qt x86_64 1:4.8.7-2.el7 base 4.6 MUpdating: gcc x86_64 4.8.5-36.el7_6.2 updates 16 M libgomp x86_64 4.8.5-36.el7_6.2 updates 158 k make x86_64 1:3.82-23.el7 base 420 kInstalling for dependencies: elfutils-default-yama-scope noarch 0.172-2.el7 base 32 k elfutils-libelf-devel x86_64 0.172-2.el7 base 39 k kernel-debug-devel x86_64 3.10.0-957.21.3.el7 updates 17 M qt-settings noarch 19-23.8.el7.centos base 17 kUpdating for dependencies: cpp x86_64 4.8.5-36.el7_6.2 updates 5.9 M elfutils x86_64 0.172-2.el7 base 299 k elfutils-libelf x86_64 0.172-2.el7 base 194 k elfutils-libs x86_64 0.172-2.el7 base 285 k gcc-c++ x86_64 4.8.5-36.el7_6.2 updates 7.2 M libgcc x86_64 4.8.5-36.el7_6.2 updates 102 k libstdc++ x86_64 4.8.5-36.el7_6.2 updates 305 k libstdc++-devel x86_64 4.8.5-36.el7_6.2 updates 1.5 M openssl x86_64 1:1.0.2k-16.el7_6.1 updates 493 k openssl-devel x86_64 1:1.0.2k-16.el7_6.1 updates 1.5 M openssl-libs x86_64 1:1.0.2k-16.el7_6.1 updates 1.2 MTransaction Summary===============================================================================================================================================================================================================================================================================Install 3 Packages (+ 4 Dependent packages)Upgrade 3 Packages (+11 Dependent packages)Total size: 57 MTotal download size: 57 MDownloading packages:No Presto metadata available for base(1/20): elfutils-default-yama-scope-0.172-2.el7.noarch.rpm | 32 kB 00:00:00(2/20): elfutils-libelf-0.172-2.el7.x86_64.rpm | 194 kB 00:00:00(3/20): elfutils-0.172-2.el7.x86_64.rpm | 299 kB 00:00:00(4/20): elfutils-libelf-devel-0.172-2.el7.x86_64.rpm | 39 kB 00:00:00(5/20): elfutils-libs-0.172-2.el7.x86_64.rpm | 285 kB 00:00:00(6/20): cpp-4.8.5-36.el7_6.2.x86_64.rpm | 5.9 MB 00:00:00warning: /var/cache/yum/x86_64/7/epel/packages/dkms-2.4.0-1.20170926git959bd74.el6.noarch.rpm: Header V3 RSA/SHA256 Signature, key ID 0608b895: NOKEY ] 4.7 MB/s | 11 MB 00:00:09 ETAPublic key for dkms-2.4.0-1.20170926git959bd74.el6.noarch.rpm is not installed(7/20): dkms-2.4.0-1.20170926git959bd74.el6.noarch.rpm | 78 kB 00:00:01(8/20): gcc-c++-4.8.5-36.el7_6.2.x86_64.rpm | 7.2 MB 00:00:00(9/20): kernel-debug-devel-3.10.0-957.21.3.el7.x86_64.rpm | 17 MB 00:00:02(10/20): libgomp-4.8.5-36.el7_6.2.x86_64.rpm | 158 kB 00:00:00(11/20): libstdc++-4.8.5-36.el7_6.2.x86_64.rpm | 305 kB 00:00:00(12/20): gcc-4.8.5-36.el7_6.2.x86_64.rpm | 16 MB 00:00:04(13/20): libstdc++-devel-4.8.5-36.el7_6.2.x86_64.rpm | 1.5 MB 00:00:00(14/20): make-3.82-23.el7.x86_64.rpm | 420 kB 00:00:00(15/20): openssl-1.0.2k-16.el7_6.1.x86_64.rpm | 493 kB 00:00:00(16/20): openssl-devel-1.0.2k-16.el7_6.1.x86_64.rpm | 1.5 MB 00:00:00(17/20): patch-2.7.1-10.el7_5.x86_64.rpm | 110 kB 00:00:00(18/20): openssl-libs-1.0.2k-16.el7_6.1.x86_64.rpm | 1.2 MB 00:00:00(19/20): qt-settings-19-23.8.el7.centos.noarch.rpm | 17 kB 00:00:00(20/20): qt-4.8.7-2.el7.x86_64.rpm | 4.6 MB 00:00:00-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------Total 11 MB/s | 57 MB 00:00:05Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6Importing GPG key 0x0608B895: Userid : "EPEL (6) &lt;epel@fedoraproject.org&gt;" Fingerprint: 8c3b e96a f230 9184 da5c 0dae 3b49 df2a 0608 b895 Package : epel-release-6-8.noarch (installed) From : /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-6Running transaction checkRunning transaction testTransaction test succeededRunning transaction Updating : libgcc-4.8.5-36.el7_6.2.x86_64 1/35 Updating : libstdc++-4.8.5-36.el7_6.2.x86_64 2/35 Updating : 1:openssl-libs-1.0.2k-16.el7_6.1.x86_64 3/35 Updating : elfutils-libelf-0.172-2.el7.x86_64 4/35 Installing : elfutils-libelf-devel-0.172-2.el7.x86_64 5/35 Updating : libstdc++-devel-4.8.5-36.el7_6.2.x86_64 6/35 Updating : cpp-4.8.5-36.el7_6.2.x86_64 7/35 Updating : 1:make-3.82-23.el7.x86_64 8/35 Installing : elfutils-default-yama-scope-0.172-2.el7.noarch 9/35 Updating : elfutils-libs-0.172-2.el7.x86_64 10/35 Updating : libgomp-4.8.5-36.el7_6.2.x86_64 11/35 Updating : gcc-4.8.5-36.el7_6.2.x86_64 12/35 Installing : qt-settings-19-23.8.el7.centos.noarch 13/35 Installing : kernel-debug-devel-3.10.0-957.21.3.el7.x86_64 14/35 Installing : dkms-2.4.0-1.20170926git959bd74.el6.noarch 15/35 Installing : 1:qt-4.8.7-2.el7.x86_64 16/35 Updating : gcc-c++-4.8.5-36.el7_6.2.x86_64 17/35 Updating : elfutils-0.172-2.el7.x86_64 18/35 Updating : 1:openssl-1.0.2k-16.el7_6.1.x86_64 19/35 Updating : 1:openssl-devel-1.0.2k-16.el7_6.1.x86_64 20/35 Installing : patch-2.7.1-10.el7_5.x86_64 21/35 Cleanup : 1:openssl-devel-1.0.1e-60.el7_3.1.x86_64 22/35 Cleanup : elfutils-0.160-1.el7.x86_64 23/35 Cleanup : gcc-c++-4.8.5-11.el7.x86_64 24/35 Cleanup : gcc-4.8.5-11.el7.x86_64 25/35 Cleanup : 1:openssl-1.0.1e-60.el7_3.1.x86_64 26/35 Cleanup : elfutils-libs-0.160-1.el7.x86_64 27/35 Cleanup : libstdc++-devel-4.8.5-11.el7.x86_64 28/35 Cleanup : libstdc++-4.8.5-11.el7.x86_64 29/35 Cleanup : libgcc-4.8.5-11.el7.x86_64 30/35 Cleanup : elfutils-libelf-0.160-1.el7.x86_64 31/35 Cleanup : 1:openssl-libs-1.0.1e-60.el7_3.1.x86_64 32/35 Cleanup : 1:make-3.82-21.el7.x86_64 33/35 Cleanup : cpp-4.8.5-11.el7.x86_64 34/35 Cleanup : libgomp-4.8.5-11.el7.x86_64 35/35 Verifying : elfutils-libelf-devel-0.172-2.el7.x86_64 1/35 Verifying : kernel-debug-devel-3.10.0-957.21.3.el7.x86_64 2/35 Verifying : 1:qt-4.8.7-2.el7.x86_64 3/35 Verifying : qt-settings-19-23.8.el7.centos.noarch 4/35 Verifying : patch-2.7.1-10.el7_5.x86_64 5/35 Verifying : gcc-4.8.5-36.el7_6.2.x86_64 6/35 Verifying : libstdc++-4.8.5-36.el7_6.2.x86_64 7/35 Verifying : 1:openssl-devel-1.0.2k-16.el7_6.1.x86_64 8/35 Verifying : libgcc-4.8.5-36.el7_6.2.x86_64 9/35 Verifying : libgomp-4.8.5-36.el7_6.2.x86_64 10/35 Verifying : dkms-2.4.0-1.20170926git959bd74.el6.noarch 11/35 Verifying : libstdc++-devel-4.8.5-36.el7_6.2.x86_64 12/35 Verifying : 1:openssl-1.0.2k-16.el7_6.1.x86_64 13/35 Verifying : elfutils-libelf-0.172-2.el7.x86_64 14/35 Verifying : elfutils-default-yama-scope-0.172-2.el7.noarch 15/35 Verifying : gcc-c++-4.8.5-36.el7_6.2.x86_64 16/35 Verifying : 1:make-3.82-23.el7.x86_64 17/35 Verifying : elfutils-libs-0.172-2.el7.x86_64 18/35 Verifying : cpp-4.8.5-36.el7_6.2.x86_64 19/35 Verifying : 1:openssl-libs-1.0.2k-16.el7_6.1.x86_64 20/35 Verifying : elfutils-0.172-2.el7.x86_64 21/35 Verifying : 1:openssl-1.0.1e-60.el7_3.1.x86_64 22/35 Verifying : gcc-c++-4.8.5-11.el7.x86_64 23/35 Verifying : elfutils-libs-0.160-1.el7.x86_64 24/35 Verifying : cpp-4.8.5-11.el7.x86_64 25/35 Verifying : 1:openssl-libs-1.0.1e-60.el7_3.1.x86_64 26/35 Verifying : elfutils-libelf-0.160-1.el7.x86_64 27/35 Verifying : 1:openssl-devel-1.0.1e-60.el7_3.1.x86_64 28/35 Verifying : libgcc-4.8.5-11.el7.x86_64 29/35 Verifying : libstdc++-4.8.5-11.el7.x86_64 30/35 Verifying : 1:make-3.82-21.el7.x86_64 31/35 Verifying : elfutils-0.160-1.el7.x86_64 32/35 Verifying : libgomp-4.8.5-11.el7.x86_64 33/35 Verifying : gcc-4.8.5-11.el7.x86_64 34/35 Verifying : libstdc++-devel-4.8.5-11.el7.x86_64 35/35Installed: dkms.noarch 0:2.4.0-1.20170926git959bd74.el6 patch.x86_64 0:2.7.1-10.el7_5 qt.x86_64 1:4.8.7-2.el7Dependency Installed: elfutils-default-yama-scope.noarch 0:0.172-2.el7 elfutils-libelf-devel.x86_64 0:0.172-2.el7 kernel-debug-devel.x86_64 0:3.10.0-957.21.3.el7 qt-settings.noarch 0:19-23.8.el7.centosUpdated: gcc.x86_64 0:4.8.5-36.el7_6.2 libgomp.x86_64 0:4.8.5-36.el7_6.2 make.x86_64 1:3.82-23.el7Dependency Updated: cpp.x86_64 0:4.8.5-36.el7_6.2 elfutils.x86_64 0:0.172-2.el7 elfutils-libelf.x86_64 0:0.172-2.el7 elfutils-libs.x86_64 0:0.172-2.el7 gcc-c++.x86_64 0:4.8.5-36.el7_6.2 libgcc.x86_64 0:4.8.5-36.el7_6.2 libstdc++.x86_64 0:4.8.5-36.el7_6.2 libstdc++-devel.x86_64 0:4.8.5-36.el7_6.2 openssl.x86_64 1:1.0.2k-16.el7_6.1 openssl-devel.x86_64 1:1.0.2k-16.el7_6.1 openssl-libs.x86_64 1:1.0.2k-16.el7_6.1Complete! [root@localhost devops]# yum -y install kernel-headers kernel-devel binutils glibc-headers glibc-devel font-forgeLoaded plugins: fastestmirror, langpacksLoading mirror speeds from cached hostfile * base: centos.mirror.moack.net * extras: data.aonenetworks.kr * updates: mirror.kakao.com * webtatic: us-east.repo.webtatic.comNo package font-forge available.Resolving Dependencies--&gt; Running transaction check---&gt; Package binutils.x86_64 0:2.23.52.0.1-30.el7 will be updated---&gt; Package binutils.x86_64 0:2.27-34.base.el7 will be an update---&gt; Package glibc-devel.x86_64 0:2.17-157.el7_3.1 will be updated---&gt; Package glibc-devel.x86_64 0:2.17-260.el7_6.5 will be an update--&gt; Processing Dependency: glibc = 2.17-260.el7_6.5 for package: glibc-devel-2.17-260.el7_6.5.x86_64---&gt; Package glibc-headers.x86_64 0:2.17-157.el7_3.1 will be updated---&gt; Package glibc-headers.x86_64 0:2.17-260.el7_6.5 will be an update---&gt; Package kernel-devel.x86_64 0:3.10.0-957.21.3.el7 will be installed---&gt; Package kernel-headers.x86_64 0:3.10.0-514.10.2.el7 will be updated---&gt; Package kernel-headers.x86_64 0:3.10.0-957.21.3.el7 will be an update--&gt; Running transaction check---&gt; Package glibc.x86_64 0:2.17-157.el7_3.1 will be updated--&gt; Processing Dependency: glibc = 2.17-157.el7_3.1 for package: glibc-common-2.17-157.el7_3.1.x86_64---&gt; Package glibc.x86_64 0:2.17-260.el7_6.5 will be an update--&gt; Running transaction check---&gt; Package glibc-common.x86_64 0:2.17-157.el7_3.1 will be updated---&gt; Package glibc-common.x86_64 0:2.17-260.el7_6.5 will be an update--&gt; Finished Dependency ResolutionDependencies Resolved=============================================================================================================================================================================================================================================================================== Package Arch Version Repository Size===============================================================================================================================================================================================================================================================================Installing: kernel-devel x86_64 3.10.0-957.21.3.el7 updates 17 MUpdating: binutils x86_64 2.27-34.base.el7 base 5.9 M glibc-devel x86_64 2.17-260.el7_6.5 updates 1.1 M glibc-headers x86_64 2.17-260.el7_6.5 updates 683 k kernel-headers x86_64 3.10.0-957.21.3.el7 updates 8.0 MUpdating for dependencies: glibc x86_64 2.17-260.el7_6.5 updates 3.7 M glibc-common x86_64 2.17-260.el7_6.5 updates 12 MTransaction Summary===============================================================================================================================================================================================================================================================================Install 1 PackageUpgrade 4 Packages (+2 Dependent packages)Total download size: 48 MDownloading packages:No Presto metadata available for base(1/7): glibc-2.17-260.el7_6.5.x86_64.rpm | 3.7 MB 00:00:00(2/7): glibc-devel-2.17-260.el7_6.5.x86_64.rpm | 1.1 MB 00:00:00(3/7): binutils-2.27-34.base.el7.x86_64.rpm | 5.9 MB 00:00:01(4/7): glibc-headers-2.17-260.el7_6.5.x86_64.rpm | 683 kB 00:00:00(5/7): glibc-common-2.17-260.el7_6.5.x86_64.rpm | 12 MB 00:00:02(6/7): kernel-headers-3.10.0-957.21.3.el7.x86_64.rpm | 8.0 MB 00:00:01(7/7): kernel-devel-3.10.0-957.21.3.el7.x86_64.rpm | 17 MB 00:00:02-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------Total 11 MB/s | 48 MB 00:00:04Running transaction checkRunning transaction testTransaction test succeededRunning transaction Updating : glibc-common-2.17-260.el7_6.5.x86_64 1/13 Updating : glibc-2.17-260.el7_6.5.x86_64 2/13warning: /etc/nsswitch.conf created as /etc/nsswitch.conf.rpmnew Updating : kernel-headers-3.10.0-957.21.3.el7.x86_64 3/13 Updating : glibc-headers-2.17-260.el7_6.5.x86_64 4/13 Updating : glibc-devel-2.17-260.el7_6.5.x86_64 5/13 Updating : binutils-2.27-34.base.el7.x86_64 6/13 Installing : kernel-devel-3.10.0-957.21.3.el7.x86_64 7/13 Cleanup : glibc-devel-2.17-157.el7_3.1.x86_64 8/13 Cleanup : glibc-headers-2.17-157.el7_3.1.x86_64 9/13 Cleanup : binutils-2.23.52.0.1-30.el7.x86_64 10/13 Cleanup : kernel-headers-3.10.0-514.10.2.el7.x86_64 11/13 Cleanup : glibc-common-2.17-157.el7_3.1.x86_64 12/13 Cleanup : glibc-2.17-157.el7_3.1.x86_64 13/13 Verifying : kernel-devel-3.10.0-957.21.3.el7.x86_64 1/13 Verifying : binutils-2.27-34.base.el7.x86_64 2/13 Verifying : glibc-headers-2.17-260.el7_6.5.x86_64 3/13 Verifying : glibc-2.17-260.el7_6.5.x86_64 4/13 Verifying : glibc-common-2.17-260.el7_6.5.x86_64 5/13 Verifying : glibc-devel-2.17-260.el7_6.5.x86_64 6/13 Verifying : kernel-headers-3.10.0-957.21.3.el7.x86_64 7/13 Verifying : glibc-headers-2.17-157.el7_3.1.x86_64 8/13 Verifying : glibc-common-2.17-157.el7_3.1.x86_64 9/13 Verifying : glibc-2.17-157.el7_3.1.x86_64 10/13 Verifying : kernel-headers-3.10.0-514.10.2.el7.x86_64 11/13 Verifying : binutils-2.23.52.0.1-30.el7.x86_64 12/13 Verifying : glibc-devel-2.17-157.el7_3.1.x86_64 13/13Installed: kernel-devel.x86_64 0:3.10.0-957.21.3.el7Updated: binutils.x86_64 0:2.27-34.base.el7 glibc-devel.x86_64 0:2.17-260.el7_6.5 glibc-headers.x86_64 0:2.17-260.el7_6.5 kernel-headers.x86_64 0:3.10.0-957.21.3.el7Dependency Updated: glibc.x86_64 0:2.17-260.el7_6.5 glibc-common.x86_64 0:2.17-260.el7_6.5Complete! Add Repositoryvirtual boxë¥¼ ì¸ìŠ¤í†¨í•˜ê¸° ìœ„í•œ yum repositoryë¥¼ ë“±ë¡ í•œë‹¤. wget http://download.virtualbox.org/virtualbox/rpm/rhel/virtualbox.repo [root@localhost devops]# cd /etc/yum.repos.d/[root@localhost yum.repos.d]# lsCentOS-Base.repo CentOS-CR.repo CentOS-Debuginfo.repo CentOS-Sources.repo CentOS-Vault.repo CentOS-fasttrack.repo docker-ce.repo epel-testing.repo epel.repo mariadb.repo webtatic-archive.repo webtatic-testing.repo webtatic.repo[root@localhost yum.repos.d]# llí•©ê³„ 52-rw-r--r--. 1 root root 1664 4ì›” 1 2015 CentOS-Base.repo-rw-r--r--. 1 root root 1309 4ì›” 1 2015 CentOS-CR.repo-rw-r--r--. 1 root root 649 4ì›” 1 2015 CentOS-Debuginfo.repo-rw-r--r--. 1 root root 1331 4ì›” 1 2015 CentOS-Sources.repo-rw-r--r--. 1 root root 1002 4ì›” 1 2015 CentOS-Vault.repo-rw-r--r--. 1 root root 290 4ì›” 1 2015 CentOS-fasttrack.repo-rw-r--r--. 1 root root 2424 10ì›” 25 2018 docker-ce.repo-rw-r--r--. 1 root root 1056 11ì›” 5 2012 epel-testing.repo-rw-r--r--. 1 root root 960 6ì›” 20 12:28 epel.repo-rw-r--r--. 1 root root 139 2ì›” 24 2017 mariadb.repo-rw-r--r--. 1 root root 963 11ì›” 13 2016 webtatic-archive.repo-rw-r--r--. 1 root root 963 11ì›” 13 2016 webtatic-testing.repo-rw-r--r--. 1 root root 865 11ì›” 13 2016 webtatic.repo[root@localhost yum.repos.d]# wget http://download.virtualbox.org/virtualbox/rpm/rhel/virtualbox.repo--2019-06-21 11:04:18-- http://download.virtualbox.org/virtualbox/rpm/rhel/virtualbox.repoResolving download.virtualbox.org (download.virtualbox.org)... 23.35.220.157Connecting to download.virtualbox.org (download.virtualbox.org)|23.35.220.157|:80... connected.HTTP request sent, awaiting response... 200 OKLength: 259 [text/plain]Saving to: â€˜virtualbox.repoâ€™100%[=====================================================================================================================================================================================================================================&gt;] 259 --.-K/s in 0s2019-06-21 11:04:19 (40.2 MB/s) - â€˜virtualbox.repoâ€™ saved [259/259] install virtualboxvirtual boxë¥¼ install í•œë‹¤. 6.0ì´ í˜„ìž¬ ê¸°ì¤€ ìµœì‹ ì´ë‹¤. yum install -y VirtualBox-6.0 [root@localhost yum.repos.d]# yum install -y VirtualBox-6.0Loaded plugins: fastestmirror, langpacksvirtualbox/7/x86_64/signature | 181 B 00:00:00Retrieving key from https://www.virtualbox.org/download/oracle_vbox.ascImporting GPG key 0x98AB5139: Userid : "Oracle Corporation (VirtualBox archive signing key) &lt;info@virtualbox.org&gt;" Fingerprint: 7b0f ab3a 13b9 0743 5925 d9c9 5442 2a4b 98ab 5139 From : https://www.virtualbox.org/download/oracle_vbox.ascvirtualbox/7/x86_64/signature | 2.9 kB 00:00:01 !!!virtualbox/7/x86_64/primary_db | 130 kB 00:00:00Loading mirror speeds from cached hostfile * base: centos.mirror.moack.net * extras: data.aonenetworks.kr * updates: mirror.kakao.com * webtatic: us-east.repo.webtatic.comResolving Dependencies--&gt; Running transaction check---&gt; Package VirtualBox-6.0.x86_64 0:6.0.8_130520_el7-1 will be installed--&gt; Finished Dependency ResolutionDependencies Resolved=============================================================================================================================================================================================================================================================================== Package Arch Version Repository Size===============================================================================================================================================================================================================================================================================Installing: VirtualBox-6.0 x86_64 6.0.8_130520_el7-1 virtualbox 116 MTransaction Summary===============================================================================================================================================================================================================================================================================Install 1 PackageTotal download size: 116 MInstalled size: 238 MDownloading packages:ê²½ê³ : /var/cache/yum/x86_64/7/virtualbox/packages/VirtualBox-6.0-6.0.8_130520_el7-1.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 98ab5139: NOKEY========================================================================================-] 8.1 MB/s | 116 MB 00:00:00 ETAPublic key for VirtualBox-6.0-6.0.8_130520_el7-1.x86_64.rpm is not installedVirtualBox-6.0-6.0.8_130520_el7-1.x86_64.rpm | 116 MB 00:00:14Retrieving key from https://www.virtualbox.org/download/oracle_vbox.ascImporting GPG key 0x98AB5139: Userid : "Oracle Corporation (VirtualBox archive signing key) &lt;info@virtualbox.org&gt;" Fingerprint: 7b0f ab3a 13b9 0743 5925 d9c9 5442 2a4b 98ab 5139 From : https://www.virtualbox.org/download/oracle_vbox.ascRunning transaction checkRunning transaction testTransaction test succeededRunning transaction Installing : VirtualBox-6.0-6.0.8_130520_el7-1.x86_64 1/1Creating group 'vboxusers'. VM users must be member of that group!This system is currently not set up to build kernel modules.Please install the Linux kernel "header" files matching the current kernelfor adding new hardware support to the system.The distribution packages containing the headers are probably: kernel-devel kernel-devel-3.10.0-229.el7.x86_64This system is currently not set up to build kernel modules.Please install the Linux kernel "header" files matching the current kernelfor adding new hardware support to the system.The distribution packages containing the headers are probably: kernel-devel kernel-devel-3.10.0-229.el7.x86_64There were problems setting up VirtualBox. To re-start the set-up process, run /sbin/vboxconfigas root. If your system is using EFI Secure Boot you may need to sign thekernel modules (vboxdrv, vboxnetflt, vboxnetadp, vboxpci) before you can loadthem. Please see your Linux system's documentation for more information. Verifying : VirtualBox-6.0-6.0.8_130520_el7-1.x86_64 1/1Installed: VirtualBox-6.0.x86_64 0:6.0.8_130520_el7-1Complete! [root@localhost yum.repos.d]# rcvboxdrv setupvboxdrv.sh: Stopping VirtualBox services.vboxdrv.sh: Starting VirtualBox services.vboxdrv.sh: Building VirtualBox kernel modules.This system is currently not set up to build kernel modules.Please install the Linux kernel "header" files matching the current kernelfor adding new hardware support to the system.The distribution packages containing the headers are probably: kernel-devel kernel-devel-3.10.0-957.el7.x86_64 ìƒìœ„ì™€ ê°™ì´ virtual boxë¥¼ ì…‹ì—… í–ˆì„ ê²½ìš° Please install the Linux kernel &quot;header&quot; files matching the current kernel ì™€ ê°™ì€ ê¸€ì´ ë‚˜ì˜¤ë©´ ì •ìƒì ì¸ ì…‹ì—…ì´ ë˜ì§€ ì•Šì•˜ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. virtual boxì—ì„œ ìš”ì²­í•˜ëŠ” ì»¤ë„ headerëŠ” sudo yum install &quot;kernel-devel-uname-r == $(uname -r)&quot; ë¥¼ ì‚¬ìš©í•´ì„œ installì´ ê°€ëŠ¥í•œë°, ì–´ë–¤ ê²½ìš°ëŠ” devel header kernelì´ ì—†ëŠ” ê²½ìš°ê°€ ìžˆë‹¤. (ì§ì ‘ ë¹Œë“œ í–ˆë‹¤ë˜ì§€...) [root@localhost yum.repos.d]# sudo yum install &quot;kernel-devel-uname-r == $(uname -r)&quot;Loaded plugins: fastestmirror, langpacksLoading mirror speeds from cached hostfile * base: centos.mirror.moack.net * extras: centos.mirror.moack.net * updates: centos.mirror.moack.netResolving Dependencies--&gt; Running transaction check---&gt; Package kernel-devel.x86_64 0:3.10.0-957.el7 will be installed--&gt; Finished Dependency ResolutionDependencies Resolved================================================================================================================================================================================================================== Package Arch Version Repository Size==================================================================================================================================================================================================================Installing: kernel-devel x86_64 3.10.0-957.el7 base 17 MTransaction Summary==================================================================================================================================================================================================================Install 1 PackageTotal download size: 17 MInstalled size: 37 MIs this ok [y/d/N]: yDownloading packages:No Presto metadata available for basekernel-devel-3.10.0-957.el7.x86_64.rpm | 17 MB 00:00:01Running transaction checkRunning transaction testTransaction test succeededRunning transaction Installing : kernel-devel-3.10.0-957.el7.x86_64 1/1 Verifying : kernel-devel-3.10.0-957.el7.x86_64 1/1Installed: kernel-devel.x86_64 0:3.10.0-957.el7Complete! [root@localhost yum.repos.d]# rcvboxdrv setupvboxdrv.sh: Stopping VirtualBox services.vboxdrv.sh: Starting VirtualBox services.vboxdrv.sh: Building VirtualBox kernel modules. ìƒìœ„ì™€ ê°™ì´ ìž‘ë™ ì•ˆë˜ë©´ cent0S ìƒˆë¡œ ê¹ŒëŠ”ê²Œ ì •ì‹  ê±´ê°•ì— ì¢‹ë‹¤. Vagrant installvirtual boxê°€ ì •ìƒì ìœ¼ë¡œ ì¸ìŠ¤í†¨ ì™„ë£Œ ë˜ì—ˆë‹¤ë©´, vagrantë¥¼ installí•œë‹¤. yum -y install https://releases.hashicorp.com/vagrant/1.9.6/vagrant_1.9.6_x86_64.rpm 1.9.6ë²„ì „ì€ virtual box 5.1ë²„ì „ê¹Œì§€ë§Œ í˜¸í™˜ ê°€ëŠ¥í•˜ê³  6.0ë¶€í„°ëŠ” 2.0 ì´ìƒì˜ vagrantë¥¼ install í•´ì•¼ í•œë‹¤. í•˜ê¸°ëŠ” 1.x vagrantë¥¼ ê¹ŒëŠ” ê²ƒì„ ë³´ì—¬ì¤€ë‹¤. (ì•žì„œ virtual box 6.xë¥¼ ê¹”ì•˜ìŒìœ¼ë¡œ ì‹¤íŒ¨ í•œë‹¤.) [root@localhost ~]# yum -y install https://releases.hashicorp.com/vagrant/1.9.6/vagrant_1.9.6_x86_64.rpmLoaded plugins: fastestmirror, langpacksvagrant_1.9.6_x86_64.rpm | 75 MB 00:00:11Examining /var/tmp/yum-root-4ytLB4/vagrant_1.9.6_x86_64.rpm: 1:vagrant-1.9.6-1.x86_64Marking /var/tmp/yum-root-4ytLB4/vagrant_1.9.6_x86_64.rpm to be installedResolving Dependencies--&gt; Running transaction check---&gt; Package vagrant.x86_64 1:1.9.6-1 will be installed--&gt; Finished Dependency ResolutionDependencies Resolved=============================================================================================================================================================================================================================================================================== Package Arch Version Repository Size===============================================================================================================================================================================================================================================================================Installing: vagrant x86_64 1:1.9.6-1 /vagrant_1.9.6_x86_64 190 MTransaction Summary===============================================================================================================================================================================================================================================================================Install 1 PackageTotal size: 190 MInstalled size: 190 MDownloading packages:Running transaction checkRunning transaction testTransaction test succeededRunning transaction Installing : 1:vagrant-1.9.6-1.x86_64 1/1 Verifying : 1:vagrant-1.9.6-1.x86_64 1/1Installed: vagrant.x86_64 1:1.9.6-1Complete! Vagrant Startvagrant init vagrant up ìœ¼ë¡œ ìµœì´ˆ vagrantê°€ ìž˜ install ë˜ì—ˆëŠ”ì§€ í™•ì¸ ê°€ëŠ¥í•˜ì§€ë§Œ Providerë¥¼ ì„¤ì •í•´ë‹¬ë¼ëŠ” ìš”ì²­ì´ ë‚˜ì˜¤ê²Œ ë˜ëŠ”ë° vagrant up --provider=virtualbox ì™€ ê°™ì´ providerë¥¼ ì„¤ì • í•´ì£¼ë©´ ëœë‹¤. [root@localhost yum.repos.d]# cd ~[root@localhost ~]# lsanaconda-ks.cfg[root@localhost ~]# mkdir vagrant[root@localhost ~]# cd vagrant/[root@localhost vagrant]# ls[root@localhost vagrant]# vagrant initA `Vagrantfile` has been placed in this directory. You are nowready to `vagrant up` your first virtual environment! Please readthe comments in the Vagrantfile as well as documentation on`vagrantup.com` for more information on using Vagrant.[root@localhost vagrant]# vagrant upNo usable default provider could be found for your system.Vagrant relies on interactions with 3rd party systems, known as"providers", to provide Vagrant with resources to run developmentenvironments. Examples are VirtualBox, VMware, Hyper-V.The easiest solution to this message is to install VirtualBox, whichis available for free on all major platforms.If you believe you already have a provider available, make sure itis properly installed and configured. You can see more details aboutwhy a particular provider isn't working by forcing usage with`vagrant up --provider=PROVIDER`, which should give you a more specificerror message for that particular provider. centos/7ì´ë¼ëŠ” boxë¥¼ vagrantì— ë“±ë¡ í•´ì¤€ë‹¤. ì´ë•Œ default Providerë¥¼ ì„ íƒí•˜ë©´ ì•žì„œ --provider= ì˜µì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. [root@localhost vagrant]# vagrant box add centos/7==&gt; box: Loading metadata for box 'centos/7' box: URL: https://vagrantcloud.com/centos/7This box can work with multiple providers! The providers that itcan work with are listed below. Please review the list and choosethe provider you will be working with.1) hyperv2) libvirt3) virtualbox4) vmware_desktopEnter your choice: 3==&gt; box: Adding box 'centos/7' (v1902.01) for provider: virtualbox box: Downloading: https://vagrantcloud.com/centos/boxes/7/versions/1902.01/providers/virtualbox.box==&gt; box: Successfully added box 'centos/7' (v1902.01) for 'virtualbox'! vagrant init ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ê²½ìš° í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œ ë””ë ‰í† ë¦¬ì— Vagrantfileì´ ìƒì„±ë˜ëŠ”ë°, VMì— ëŒ€í•œ ì„¤ì •ì„ í•  ìˆ˜ìžˆë‹¤. ì—¬ê¸°ì—ì„œëŠ” config.vm.box = &quot;centos/7&quot; ì´ ë¶€ë¶„ë§Œ ìˆ˜ì • í•¨ìœ¼ë¡œì¨ ê¸°ë³¸ OSê°€ centos 7 ë²„ì „ì´ë¼ëŠ” ê²ƒì„ ì•Œë ¤ì£¼ì—ˆë‹¤. # -*- mode: ruby -*-# vi: set ft=ruby :# All Vagrant configuration is done below. The "2" in Vagrant.configure# configures the configuration version (we support older styles for# backwards compatibility). Please don't change it unless you know what# you're doing.Vagrant.configure("2") do |config| # The most common configuration options are documented and commented below. # For a complete reference, please see the online documentation at # https://docs.vagrantup.com. # Every Vagrant development environment requires a box. You can search for # boxes at https://vagrantcloud.com/search. config.vm.box = "centos/7" ì•žì„œì„œ vagrantë¥¼ 1.xë¡œ ê¹”ì•˜ìŒìœ¼ë¡œ ì•„ëž˜ì™€ ê°™ì´ ì˜¤ë¥˜ê°€ ë‚˜ì˜¨ë‹¤. 4.0, 4.1, 4.2, 4.3, 5.0, 5.1 Virtual Box 5.1ê¹Œì§€ë§Œ í˜¸í™˜ í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. Vagrantë¥¼ 1.xì—ì„œ 2.xë¡œ ìƒˆë¡œ install í•˜ìž. vagrant ì‚­ì œ [root@localhost vagrant]# rm -rf /opt/vagrant/[root@localhost vagrant]# rm -f /usr/bin/vagrant vagrant install [root@localhost vagrant]# sudo wget https://releases.hashicorp.com/vagrant/2.2.4/vagrant_2.2.4_x86_64.rp [root@localhost vagrant]# sudo yum localinstall vagrant_2.2.4_x86_64.rpm [root@localhost vagrant]# vagrant up --provider=virtualboxThe provider 'virtualbox' that was requested to back the machine'default' is reporting that it isn't usable on this system. Thereason is shown below:Vagrant has detected that you have a version of VirtualBox installedthat is not supported by this version of Vagrant. Please install one ofthe supported versions listed below to use Vagrant:4.0, 4.1, 4.2, 4.3, 5.0, 5.1A Vagrant update may also be available that adds support for the versionyou specified. Please check www.vagrantup.com/downloads.html to downloadthe latest version.[root@localhost vagrant]# yum update vagrantLoaded plugins: fastestmirror, langpacksLoading mirror speeds from cached hostfile * base: centos.mirror.moack.net * extras: centos.mirror.moack.net * updates: centos.mirror.moack.netNo packages marked for update[root@localhost vagrant]# yum uninstall vagrantLoaded plugins: fastestmirror, langpacksNo such command: uninstall. Please use /usr/bin/yum --help[root@localhost vagrant]# rm -rf /opt/vagrant/[root@localhost vagrant]# rm -f /usr/bin/vagrant[root@localhost vagrant]# sudo wget https://releases.hashicorp.com/vagrant/2.2.4/vagrant_2.2.4_x86_64.rpm--2019-06-21 19:40:06-- https://releases.hashicorp.com/vagrant/2.2.4/vagrant_2.2.4_x86_64.rpmResolving releases.hashicorp.com (releases.hashicorp.com)... 151.101.229.183, 2a04:4e42:36::439Connecting to releases.hashicorp.com (releases.hashicorp.com)|151.101.229.183|:443... connected.HTTP request sent, awaiting response... 200 OKLength: 40824607 (39M) [application/x-redhat-package-manager]Saving to: â€˜vagrant_2.2.4_x86_64.rpmâ€™100%[========================================================================================================================================================================&gt;] 40,824,607 9.96MB/s in 4.7s2019-06-21 19:40:12 (8.20 MB/s) - â€˜vagrant_2.2.4_x86_64.rpmâ€™ saved [40824607/40824607][root@localhost vagrant]# vagrant --versionbash: /usr/bin/vagrant: ê·¸ëŸ° íŒŒì¼ì´ë‚˜ ë””ë ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤[root@localhost vagrant]# vagrnatbash: vagrnat: ëª…ë ¹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤...[root@localhost vagrant]# lsVagrantfile vagrant_2.2.4_x86_64.rpm[root@localhost vagrant]# sudo yum localinstall vagrant_2.2.4_x86_64.rpmLoaded plugins: fastestmirror, langpacksExamining vagrant_2.2.4_x86_64.rpm: 1:vagrant-2.2.4-1.x86_64Marking vagrant_2.2.4_x86_64.rpm as an update to 1:vagrant-1.9.6-1.x86_64Resolving Dependencies--&gt; Running transaction check---&gt; Package vagrant.x86_64 1:1.9.6-1 will be updated---&gt; Package vagrant.x86_64 1:2.2.4-1 will be an update--&gt; Finished Dependency ResolutionDependencies Resolved================================================================================================================================================================================================================== Package Arch Version Repository Size==================================================================================================================================================================================================================Updating: vagrant x86_64 1:2.2.4-1 /vagrant_2.2.4_x86_64 110 MTransaction Summary==================================================================================================================================================================================================================Upgrade 1 PackageTotal size: 110 MIs this ok [y/d/N]: yDownloading packages:Running transaction checkRunning transaction testTransaction test succeededRunning transaction Updating : 1:vagrant-2.2.4-1.x86_64 1/2 Cleanup : 1:vagrant-1.9.6-1.x86_64 2/2ê²½ê³ : file /opt/vagrant/embedded/share/info/rluserman.info: remove failed: ê·¸ëŸ° íŒŒì¼ì´ë‚˜ ë””ë ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤ê²½ê³ : file /opt/vagrant/embedded/share/info/readline.info: remove failed: ê·¸ëŸ° íŒŒì¼ì´ë‚˜ ë””ë ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤ê²½ê³ : file /opt/vagrant/embedded/share/info/libffi.info: remove failed: ê·¸ëŸ° íŒŒì¼ì´ë‚˜ ë””ë ‰í„°ë¦¬ê°€ ì—†ìŠµë‹ˆë‹¤ ì•žì„œ vagrantë¥¼ ìƒˆë¡­ê²Œ install í•˜ì˜€ê³ , ì•„ëž˜ì™€ ê°™ì´ centos/7ì„ init í•´ë³´ìž. vagrant init centos/7 vagrant up [root@localhost vagrant-centos-7]# vagrant init centos/7A `Vagrantfile` has been placed in this directory. You are nowready to `vagrant up` your first virtual environment! Please readthe comments in the Vagrantfile as well as documentation on`vagrantup.com` for more information on using Vagrant.[root@localhost vagrant-centos-7]# vagrant upBringing machine 'default' up with 'virtualbox' provider...==&gt; default: Importing base box 'centos/7'...==&gt; default: Matching MAC address for NAT networking...==&gt; default: Checking if box 'centos/7' version '1902.01' is up to date...==&gt; default: Setting the name of the VM: vagrant-centos-7_default_1561113935045_2937==&gt; default: Clearing any previously set network interfaces...==&gt; default: Preparing network interfaces based on configuration... default: Adapter 1: nat==&gt; default: Forwarding ports... default: 22 (guest) =&gt; 2222 (host) (adapter 1)==&gt; default: Booting VM...==&gt; default: Waiting for machine to boot. This may take a few minutes... default: SSH address: 127.0.0.1:2222 default: SSH username: vagrant default: SSH auth method: private key default: default: Vagrant insecure key detected. Vagrant will automatically replace default: this with a newly generated keypair for better security. default: default: Inserting generated public key within guest... default: Removing insecure key from the guest if it's present... default: Key inserted! Disconnecting and reconnecting using new SSH key...==&gt; default: Machine booted and ready!==&gt; default: Checking for guest additions in VM... default: No guest additions were detected on the base box for this VM! Guest default: additions are required for forwarded ports, shared folders, host only default: networking, and more. If SSH fails on this machine, please install default: the guest additions and repackage the box to continue. default: default: This is not an error message; everything may continue to work properly, default: in which case you may ignore this message.==&gt; default: Rsyncing folder: /root/vagrant-centos-7/ =&gt; /vagrant ìƒìœ„ì™€ ê°™ì´ ë¡œê·¸ê°€ ë‚˜ì™”ë‹¤ë©´, ì„±ê³µì ìœ¼ë¡œ virtual box, vagrantê°€ install ëœê²ƒì´ë‹¤. vagrant sshë¡œ ì ‘ì†ê¹Œì§€ ëœë‹¤ë©´ ì™„ë£Œ ì´ë‹¤. vagrant ssh [devops@localhost ~]$ vagrant ssh[vagrant@localhost ~]$ ls[vagrant@localhost ~]$ pwd/home/vagrant[vagrant@localhost ~]$]]></content>
      <tags>
        <tag>virtual box</tag>
        <tag>vagrant</tag>
        <tag>centos</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Network setup CentOS7 on Virtual Box]]></title>
    <url>%2FNetwork-setup-CentOS7-on-Virtual%20Box%2F</url>
    <content type="text"><![CDATA[ifconfiglinux network ì„¤ì •ì„ í™•ì¸ í•  ìˆ˜ ìžˆëŠ” ëª…ë ¹ì–´ì´ë‚˜ centos7ì—ì„œ ì‚­ì œ ë˜ì—ˆë‹¤. ip addr ë¡œ ë³€ê²½ë˜ì—ˆë‹¤. ip addrip addrì„ ì‹¤í–‰ í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ NIC ì •ë³´ë¥¼ í™•ì¸ í•  ìˆ˜ ìžˆë‹¤. 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000 link/ether 08:00:27:6f:d9:08 brd ff:ff:ff:ff:ff:ff ì—¬ê¸°ì„œ enpOs3ì´ í•´ë‹¹ NIC ì´ë¦„ì´ë‹¤. í•´ë‹¹ NICì— ëŒ€í•œ ì„¤ì •ì„ í™•ì¸ í•˜ê¸° ìœ„í•´ì„œ ë‹¤ìŒ pathë¡œ ì´ë™í•œë‹¤. /etc/sysconfig/network-scripts í•´ë‹¹ ë””ë ‰í† ë¦¬ë¥¼ ë³´ë©´ [root@localhost network-scripts]# lsifcfg-enp0s3 ifdown-bnep ifdown-ipv6 ifdown-ppp ifdown-Team ifup ifup-eth ifup-isdn ifup-post ifup-sit ifup-tunnel network-functionsifcfg-lo ifdown-eth ifdown-isdn ifdown-routes ifdown-TeamPort ifup-aliases ifup-ippp ifup-plip ifup-ppp ifup-Team ifup-wireless network-functions-ipv6ifdown ifdown-ippp ifdown-post ifdown-sit ifdown-tunnel ifup-bnep ifup-ipv6 ifup-plusb ifup-routes ifup-TeamPort init.ipv6-global ifcfg-enp0s3ê³¼ ê°™ì´ NIC ëª…ìœ¼ë¡œ ëœ config íŒŒì¼ì„ í™•ì¸ í•  ìˆ˜ ìžˆë‹¤. TYPE=EthernetPROXY_METHOD=noneBROWSER_ONLY=noBOOTPROTO=dhcpDEFROUTE=yesIPV4_FAILURE_FATAL=noIPV6INIT=yesIPV6_AUTOCONF=yesIPV6_DEFROUTE=yesIPV6_FAILURE_FATAL=noIPV6_ADDR_GEN_MODE=stable-privacyNAME=enp0s3UUID=a0377aa0-2efa-48a1-91eb-5a547c6d3b43DEVICE=enp0s3ONBOOT=yes í•´ë‹¹ íŒŒì¼ ë§ˆì§€ë§‰ ë¶€ë¶„ì„ ONBOOT=yesë¡œ ë³€ê²½ í•œí›„ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ipë¥¼ ì–»ì–´ ì˜¬ ìˆ˜ ìžˆë‹¤. [root@localhost network-scripts]# dhclient ì•„ëž˜ì™€ ê°™ì´ ipë¥¼ ì–»ì–´ ì˜¤ë©´ ëœë‹¤. [root@localhost network-scripts]# ip addr1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000 link/ether 08:00:27:6f:d9:08 brd ff:ff:ff:ff:ff:ff inet 192.168.0.14/24 brd 192.168.0.255 scope global dynamic enp0s3 valid_lft 4486sec preferred_lft 4486sec inet6 fe80::6940:5b2a:23b9:cafd/64 scope link noprefixroute valid_lft forever preferred_lft forever dhcpì˜ ê²½ìš° ë³¸ì²´ ì»´í“¨í„° ipì™€ëŠ” ë…ë¦½ì ì¸ ipë¥¼ ìƒˆë¡­ê²Œ ë°œí–‰ í•˜ê²Œ ëœë‹¤. 192.168.0.12 A4-70-C8-99-8A-12 DESKTOP ë¬´ì„ :ìžë™í• ë‹¹ // ë³¸ì²´ ì»´í“¨í„°192.168.0.14 A4-70-C8-99-8A-12 ë¬´ì„ :ìžë™í• ë‹¹ // virtual box centos Virtual Box Network ì–´ëŒ‘í„° ì„¤ì •ë„¤íŠ¸ì›Œí¬ ì–´ëŒ‘í„° ì‚¬ìš©í•˜ê¸° : check ë‹¤ìŒì— ì—°ê²°ë¨ : ì–´ëŒ‘í„°ì— ë¸Œë¦¬ì§€ ì´ë¦„ : ì‚¬ìš©í•˜ê³ ìž í•˜ëŠ” ì‹¤ ì»´í“¨í„° NIC (wifi deviceë¼ë˜ê°€ ì´ë”ë„· ë“±) yum updateë„¤íŠ¸ì›Œí¬ê°€ ì •ìƒì ìœ¼ë¡œ ì„¤ì •ë˜ì—ˆë‹¤ë©´, ìƒìœ„ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰ í–ˆì„ ì‹œ ì •ìƒì ìœ¼ë¡œ updateê°€ ì§„í–‰ ë˜ê±°ë‚˜ ë˜ëŠ” updateí•  ê²ƒì´ ì—†ë‹¤ëŠ” ë‚´ìš©ì„ í™•ì¸ í•  ìˆ˜ ìžˆë‹¤. [root@localhost network-scripts]# yum updateLoaded plugins: fastestmirrorLoading mirror speeds from cached hostfile * base: data.aonenetworks.kr * extras: data.aonenetworks.kr * updates: data.aonenetworks.krNo packages marked for update]]></content>
      <tags>
        <tag>VirtualBox</tag>
        <tag>CentOS</tag>
        <tag>Network</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Redis Config Explain]]></title>
    <url>%2Fredis-config-explain%2F</url>
    <content type="text"><![CDATA[Redis Config Sectionredis-clië¥¼ í†µí•´ì„œ redis consoleì— ì§„ìž… í•  ê²½ìš° infoëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ ë‹¤ìŒ sectionì— ëŒ€í•œ ì •ë³´ë¥¼ íšë“ í•  ìˆ˜ìžˆë‹¤. info &lt;&lt;ì•„ëž˜ ëª…ë ¹ì–´&gt;&gt; server : ê¸°ë³¸ ì •ë³´ clients : clientì˜ ì ‘ì† ì •ë³´ memory : ë©”ëª¨ë¦¬ ì‚¬ìš© ê´€ë ¨ ì •ë³´ persistence : RDBì™€ AOF(Append Only File) ê´€ë ¨ ì •ë³´ AOFì˜ ê²½ìš°ëŠ” appendonly.aof íŒŒì¼ì— ìž…ë ¥/ìˆ˜ì •/ì‚­ì œ ì‹¤í–‰ ëª…ë ¹ ì‹¤í–‰ì‹œ ë§ˆë‹¤ ê¸°ë¡ (ì¡°íšŒ ì œì™¸) Redis ì„œë²„ ìž‘ë™ì‹œ FLUSHALLëª…ë ¹ì„ ì‚¬ìš©í•œ ê²½ìš° í•´ë‹¹ íŒŒì¼ì„ ì´ìš©í•´ì„œ DBë¥¼ ìž¬ êµ¬ì¶• í•  ìˆ˜ ìžˆìŒ http://redisgate.kr/redis/configuration/persistence.php RDBì˜ ê²½ìš°ì—ëŠ” í˜„ìž¬ ë©”ëª¨ë¦¬ì— ìžˆëŠ” redis dataë¥¼ íŠ¹ì • ì‹œì ì„ ê¸°ì¤€ìœ¼ë¡œ íŒŒì¼ë¡œ write í•œ ì¼ì¢…ì˜ backup íŒŒì¼ ë˜ëŠ” ìŠ¤ëƒ…ìƒ·ìœ¼ë¡œ ìƒê° í•˜ë©´ ëœë‹¤. stats : ì¼ë°˜ í†µê³„ ì •ë³´ replication : Master, Slaveê°„ì— ë°ì´í„° ë³µì‚¬ì— ëŒ€í•œ ì„¤ì • cpu : cpu ì‚¬ìš© í†µê³„ commandstats : redisì— commandë¥¼ ì²˜ë¦¬í•œ í†µê³„ cluster : redis clusterì— ëŒ€í•œ ì„¤ì • (master, slave ë“±) keyspace : database ê´€ë ¨ í†µê³„ serverredis_version : redis ì„œë²„ ë²„ì „redis_git_sha1 : git sha1 (?)redis_git_dirty : git dirty flag (?)redis_build_idì†ŒìŠ¤ë¡œ ë¶€í„° redisë¥¼ ë¹Œë“œí•œ id redis_modestandalone : ë…ë¦½ì ìœ¼ë¡œ ë™ìž‘ sentinel : sentinelì— ì˜í•´ ëª¨ë‹ˆí„°ë§ ë˜ê³  ê´€ë¦¬ë¨ cluster : redisê°„ clustering ì²˜ë¦¬ osarch_bits32bits or 64bits multiplexing_api (?)evnet loop ë©”ì¹´ë‹ˆì¦˜ process_idì„œë²„ PID tcp_portTCP/IP ë¦¬ìŠ¨í¬íŠ¸ (6379 ê¸°ë³¸ í¬íŠ¸) uptime_in_secondsredis server ìž‘ë™ í›„ ì‹œê°„ uptime_in_daysredis server ìž‘ë™ í›„ ì¼ìž lru_clockLRU ì•Œê³ ë¦¬ì¦˜ì„ ìœ„í•œ ì‹œê°„ (ë§¤ë¶„ ë§ˆë‹¤ ì¦ê°€í•¨) Least Recently Used ê°€ìž¥ ì˜¤ëž«ë™ì•ˆ ì ‘ê·¼ ë˜ì§€ ì•Šì€ í‚¤ì˜ ë°ì´í„°ë¥¼ ì‚­ì œí•œë‹¤ëŠ” ì˜ë¯¸ excutableì‹¤í–‰ íŒŒì¼ ìœ„ì¹˜ config_fileí™˜ê²½ ì„¤ì • íŒŒì¼ ìœ„ì¹˜ clientsconnected_clientsí˜„ìž¬ ì ‘ì† ë˜ì–´ ìžˆëŠ” clients ê°œìˆ˜ (replicasë¥¼ í†µí•œ ì ‘ê·¼ ì œì™¸) client_longest_output_listí˜„ìž¬ ì ‘ì†ë˜ì–´ ìžˆëŠ” clients ì¤‘ì— ê°€ìž¥ ì˜¤ëž˜ output(? ê°€ìž¥ ì˜¤ëž˜ ì ‘ì† í•˜ê³  ìžˆëŠ” ì˜ë¯¸ë¡œ ë³´ìž„)í•˜ê³  ìžˆëŠ” list client_biggest_input_bufí˜„ìž¬ ì ‘ì†ë˜ì–´ìžˆëŠ” clients ì¤‘ì— ê°€ìž¥ í° input bufferë¥¼ ë„£ê³  ìžˆëŠ” connection blocked_clientsblocking call(BLPOP, BRPOP, BRPOPLPUSH)ì— ì˜í•´ blocked ë˜ì–´ìžˆëŠ” client ê°œìˆ˜ BLPOP(ë¦¬ìŠ¤íŠ¸ì˜ ì²˜ìŒ), BRPOP(ë¦¬ìŠ¤íŠ¸ì˜ ë§ˆì§€ë§‰),BRPOPLPUSH (ì›ë³¸ ë§ˆì§€ë§‰ìœ¼ë¡œ ëŒ€ìƒ ë¦¬ìŠ¤íŠ¸ì˜ ì²«ë²ˆì§¸ë¡œ ìž…ë ¥) ëª…ë ¹ì–´ì˜ ê²½ìš° ê¸°ë³¸ì ìœ¼ë¡œ blocking ëª¨ë“œ ìž‘ë™ì„ í•œë‹¤. ì¦‰, í•´ë‹¹ commandê°€ ìž‘ë™ ì¤‘ì—ëŠ” ë‹¤ìŒ commandëŠ” blocking ë˜ê²Œ ëœë‹¤. memoryused_memoryredisê°€ ì‚¬ìš©ì¤‘ì¸ ì´ ë©”ëª¨ë¦¬ì–‘ used_memory_humanì‚¬ëžŒì´ ì½ì„ ìˆ˜ìžˆëŠ” ë©”ëª¨ë¦¬ì–‘ í‘œì‹œ (Gë¡œ í‘œì‹œí•œë‹¤) used_memory_rssOSìƒì—ì„œ ì‚¬ìš©ì¤‘ì¸ ë©”ëª¨ë¦¬ì–‘ ì¼ë°˜ì ìœ¼ë¡œ í•´ë‹¹ ì†”ë£¨ì…˜ì—ì„œ ì‚¬ìš©ëœ ë©”ëª¨ë¦¬ì–‘ + shared ë©”ëª¨ë¦¬ì–‘ì˜ ì´í•©ìœ¼ë¡œ used memory ë³´ë‹¤ í¬ë‹¤ used_memory_rss_humanì‚¬ëžŒì´ ì½ì„ ìˆ˜ ìžˆëŠ” ë©”ëª¨ë¦¬ì–‘ í‘œì‹œ (Gë¡œ í‘œì‹œí•œë‹¤) used_memory_peakë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë©”ëª¨ë¦¬ê°€ peakì— ìžˆì„ ë•Œ ì‚¬ìš©ëŸ‰ used_memory_peak_percused_memory ëŒ€ë¹„ used_memoryì˜ í¼ì„¼íŠ¸ (peakì´ ë” ë†’ë‹¤) used_memory_overheadëª¨ë“  overheadsì— ëŒ€í•œ ë°”ì´íŠ¸ í•© used_memory_startupredisê°€ startí•˜ëŠ” ì‹œì ì— ì‚¬ìš©ëœ ì „ì²´ ë©”ëª¨ë¦¬ì–‘ used_memory_datasetdatasetì˜ ë°”ì´íŠ¸ ë‹¨ìœ„ ì‚¬ì´ì¦ˆ maxmemoryì„¤ì •ëœ ìµœëŒ€ ë©”ëª¨ë¦¬ 32bitì˜ ê²½ìš°ëŠ” 3G 64bitì˜ ê²½ìš°ëŠ” 0 (unlimitë¡œ ì²˜ë¦¬ ë˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ìž„) maxmemory_policy noeviction : memoryì˜ limitì— ì ‘ê·¼í•˜ë©´ ì—ëŸ¬ë¥¼ ë‚¸ë‹¤ allkeys-lru : ì‹ ê·œ ë°ì´í„° ìž…ë ¥ì‹œ keyë¥¼ ê¸°ë°˜ìœ¼ë¡œ LRU ì•Œê³ ë¦¬ì¦˜ ì ìš© volatile-lru : allkeys-lruì™€ ê°™ì€ ì¡°ê±´ì´ë‚˜, expire setì´ ìžˆëŠ” ê²½ìš°ë§Œ ëŒ€ìƒìœ¼ë¡œ í•¨ EXPIRE (https://redis.io/commands/expire) ëª…ë ¹ì–´ë¡œ ì§€ì •ëœ keyë¥¼ ëŒ€ìƒìœ¼ë¡œë§Œ í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ìž„ allkeys-random : randomìœ¼ë¡œ ì‚­ì œ(ì§„ì§œ?) volatile-random : expire setì´ ìžˆëŠ” ê²½ìš°ë§Œ randomìœ¼ë¡œ ì‚­ì œ volatile-ttl : expire setì˜ ttlì„ í™•ì¸ í›„ ìµœìš°ì„ ìœ¼ë¡œ ì‚­ì œ https://redis.io/topics/lru-cache persistenceloadingdump íŒŒì¼ì´ ë¡œë”© ì¤‘ì¸ì§€ í‘œì‹œ í•œë‹¤ (í‰ì†Œì—ëŠ” 0ì´ë‹¤ê°€ ë¡œë”©í•˜ê²Œ ë˜ë©´ 1ë¡œ ë³€í™”í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤) rdb_changes_since_last_saveë§ˆì§€ë§‰ dump í›„ ë³€ê²½ëœ íšŸìˆ˜ rdb_last_save_timeepoch ê¸°ì¤€ìœ¼ë¡œ ë§ˆì§€ë§‰ ì„±ê³µí•œ ì €ìž¥ ì‹œì  aof_enabledaof ì„¤ì • ì—¬ë¶€ (0 false) replicationrolemaster or slave master_replidredis server replication ID master_repl_offsetí˜„ìž¬ ì„œë²„ì˜ replication offset Redis Sentinel ì‚¬ìš©ì‹œ ìˆ˜ì‹œ Disconnectê°€ ë°œìƒí•˜ëŠ” ê²½ìš°sentinel down-after-milliseconds mymaster 3000ì„¤ì •ì„ í™•ì¸í•œë‹¤. ìƒìœ„ì—ì„œ ë§ˆì§€ë§‰ ë¶€ë¶„ì— ìžˆëŠ” 3000ì€ 3ì´ˆë¥¼ ì˜ë¯¸ í•œë‹¤. ì´ë¥¼ ë§¤ìš° ìž‘ê²Œ ì‚¬ìš©í•œë‹¤ë©´ Redisê°„ Syncì‹œ Disconnectë¥¼ ê°ì§€í•˜ê³  Master Slave ì „í™˜ì„ ì²˜ë¦¬ í•˜ê²Œ ëœë‹¤. ì¼ë°˜ì ìœ¼ë¡œ 3ì´ˆì—ì„œ 5ì´ˆ ì‚¬ì´ë¡œ ì„¤ì •í•´ ë†“ê³  ì“°ë©´ëœë‹¤. Reids Sync ì²˜ë¦¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— Masterì—ì„œ BGSAVEì²˜ë¦¬ë¥¼ í•˜ê²Œ ëœë‹¤. BGSAVEëŠ” ë©”ëª¨ë¦¬ ë°ì´í„°ë¥¼ íŒŒì¼ë¡œ Writeí•˜ëŠ” í–‰ë™ì¸ë°, ì´ë•Œ Redis ì†ŒìŠ¤ ë‚´ë¶€ì ìœ¼ë¡œ Slaveì™€ Disconnectë¥¼ ì²˜ë¦¬ í•œë‹¤. ì´ ìˆœê°„ì˜ ë‹¨ì ˆ ìƒí™©ì„ Sentinelì—ì„œ ê°ì§€í•˜ê²Œ ë˜ëŠ” ë¬¸ì œì´ë‹¤. client-output-buffer-limitclient-output-buffer-limit normal 0 0 0client-output-buffer-limit slave 256mb 64mb 60client-output-buffer-limit pubsub 32mb 8mb 60 Redisì™€ Slave ê°„ì˜ ë°ì´í„° ì´ë™ ì–‘ì„ ì •í•˜ëŠ” ë¶€ë¶„ì´ë‹¤ client-output-buffer-limit slave 256mb 64mb 60 hard : ìµœëŒ€ 256mbì˜ ë°ì´í„°ë¥¼ ì†¡ìˆ˜ì‹  í•  ìˆ˜ ìžˆë‹¤. ë„˜ì–´ê°€ë©´ Disconnectê°€ ë°œìƒí•œë‹¤. Soft : 64mb ë°ì´í„°ë¥¼ 60ì´ˆ ë™ì•ˆ ì´ë™ ì‹œí‚¨ë‹¤. ë„˜ì–´ê°€ë©´ Disconnectê°€ ë°œìƒí•œë‹¤.]]></content>
      <tags>
        <tag>Redis</tag>
        <tag>Config</tag>
        <tag>Sentinel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[android keyboard show on the web]]></title>
    <url>%2FAndroid-Webview-Keyboard-Process-With-IME%2F</url>
    <content type="text"><![CDATA[Androidì—ì„œ Keyboard ìž‘ë™ì„ ìœ„í•œ ìš”ì†Œ Input Method Manager : í´ë¼ì´ì–¸íŠ¸ Sideì˜ application contextì— ìœ„ì¹˜ í•˜ë©´ì„œ Android ì „ì²´ ì‹œìŠ¤í…œ ìƒ í”„ë¡œì„¸ìŠ¤ ê°„ì˜ í†µë¡œ ì—­í• ì„ í•œë‹¤ Input Method (IME &amp; Keyboard) : ì‰½ê²Œ keyboardë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ì‚¬ìš©ìžì˜ textë¥¼ ìƒì„±í•˜ê³  ìž…ë ¥í•  ìˆ˜ìžˆê²Œ í•˜ëŠ” ì—­í• ì„ í•œë‹¤. IMEëŠ” ì˜¤ì§ í•œë²ˆì— í•˜ë‚˜ë§Œ í™”ë©´ì— í‘œì‹œ ë  ìˆ˜ìžˆë‹¤. Client Application : IMEì„ ì‚¬ìš©í•˜ëŠ” ëŒ€ìƒ applicationì´ ë˜ë©°, í•œë²ˆì— ì˜¤ì§ í•˜ë‚˜ì˜ ìž…ë ¥ í™”ë©´(ì†ŒìŠ¤ë¥¼ ë³´ë©´ Viewë¼ê³  ìƒê°ëœë‹¤)ê³¼ Active ìƒíƒœë¥¼ ìœ ì§€ í•  ìˆ˜ìžˆë‹¤. InputMethd Framework (IMF) ì˜ ë³´ì•ˆì  ì œí•œInput Methodì˜ ê²½ìš° ì‚¬ìš©ìžì˜ ëª¨ë“  ìž…ë ¥ì„ í™•ì¸ í•  ìˆ˜ìžˆê¸° ë•Œë¬¸ì—, ë³´ì•ˆì ì¸ ì œí•œì´ ê±¸ë ¤ìžˆë‹¤. IME interface ì ‘ê·¼ : ì˜¤ì§ Manifest.permission.BIND_INPUT_METHOD ê¶Œí•œì„ í†µí•´ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥ ClinetëŠ” Input methodë¥¼ ì‚¬ìš©í• ë•Œ InputMethodSession ì¸í„°íŽ˜ì´ìŠ¤ì—ì„œ ì£¼ì–´ì§„ Accessë¥¼ í†µí•´ì„œë§Œ ê°€ëŠ¥í•˜ë‹¤. ì•„ëž˜ ì½”ë“œëŠ” InputMethodManagerì˜ ì½”ë“œ ì¼ë¶€ë¶„ì´ë‹¤ ì´ë•Œ windowTokenì„ í†µí•´ hide ì‹œí‚¬ ê¶Œí•œì„ ì–»ì–´ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ìžˆë‹¤ public boolean hideSoftInputFromWindow(IBinder windowToken, int flags) &#123; return hideSoftInputFromWindow(windowToken, flags, null); &#125; Input MethodëŠ” í™”ë©´ì´ off ë˜ì–´ìžˆëŠ” ìƒíƒœì—ì„œ ì ˆëŒ€ë¡œ ì‚¬ìš©ë  ìˆ˜ ì—†ë‹¤. ì‹ ê·œ IMEë¥¼ ì¸ìŠ¤í†¨ í• ê²½ìš° IMEì˜ ë³€í™˜ì€ ë°˜ë“¯ì´ ì‚¬ìš©ìžì˜ ì†ì— ì˜í•´ì„œ ë§Œ ë³€ê²½ ë  ìˆ˜ìžˆë‹¤. IMEì˜ Lifecycleì´í•˜ Lifecycleì€ InputMethodService : https://developer.android.com/reference/android/inputmethodservice/InputMethodServiceê°€ ìž‘ë™í•˜ëŠ” ìˆœì„œë¥¼ ë‚˜íƒ€ë‚´ê³  ìžˆë‹¤ onCreateInputView() : ì‚¬ìš©ìž ìž…ë ¥ì„ ë°›ê¸° ìœ„í•´ Viewë¥¼ inití•œë‹¤. (ì—¬ê¸°ì„œ initë˜ëŠ” í™”ë©´ì€ ë‹¨ìˆœížˆ softkey ë¿ë§Œì´ ì•„ë‹Œ Draw ìž…ë ¥ ë“±ë„ í¬í•¨ëœë‹¤) User interfaceì˜ ìƒì„±ì´ë¼ê³  ìƒê°í•˜ë©´ ë  ë“¯ í•˜ë‹¤. ì•„ëž˜ ì½”ë“œëŠ” IMSë¥¼ Overrideí•˜ì—¬ ì–´ë–»ê²Œ UIë¥¼ ìƒì„±í•˜ëŠ”ì§€ ë³´ì—¬ì£¼ëŠ” ì˜ˆì´ë‹¤. public View onCreateInputView() &#123; if (mKeyboardView != null) &#123; mKeyboardView.closing(); &#125; updateKeyboardThemeAndContextThemeWrapper( mLatinIME, KeyboardTheme.getKeyboardTheme(mLatinIME /* context */)); mCurrentInputView = (InputView)LayoutInflater.from(mThemeContext).inflate( R.layout.input_view, null); mMainKeyboardFrame = mCurrentInputView.findViewById(R.id.main_keyboard_frame); mKeyboardView = (MainKeyboardView) mCurrentInputView.findViewById(R.id.keyboard_view); mKeyboardView.setKeyboardActionListener(mLatinIME); return mCurrentInputView;&#125; onEvaluateInputViewShown() : hard keyboard ë“±ì´ ë‹¬ë ¤ ìžˆëŠ” ë‹¨ë§ì˜ ê²½ìš° soft keyboardê°€ ë³´ì¼ í•„ìš”ê°€ ì—†ë‹¤. ì´ì™€ê°™ì´ keyboardë¥¼ ì‚¬ìš©ìžì—ê²Œ ë³´ì—¬ì¤„ì§€ë¥¼ í™•ì¸ í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. (ë¬¼ë¡  softkeyboardê°€ ì—´ë ¤ ìžˆë‹¤ë©´ return ì€ trueê°€ ë  ê²ƒì´ë‹¤)ì•„ëž˜ëŠ” IMSì˜ codeì´ë‹¤. falseê°€ return ë˜ë©´ ì‚¬ìš©ìžì—ê²Œ ë³´ì—¬ì£¼ë©´ ëœë‹¤. public boolean onEvaluateInputViewShown() &#123; if (mSettingsObserver == null) &#123; Log.w(TAG, "onEvaluateInputViewShown: mSettingsObserver must not be null here."); return false; &#125; if (mSettingsObserver.shouldShowImeWithHardKeyboard()) &#123; return true; &#125; Configuration config = getResources().getConfiguration(); return config.keyboard == Configuration.KEYBOARD_NOKEYS || config.hardKeyboardHidden == Configuration.HARDKEYBOARDHIDDEN_YES;&#125; onStartInput() &amp; onStartInputView() : text ìž…ë ¥ì˜ ì‹œìž‘ì„ ì•Œë¦¬ëŠ” ë¶€ë¶„ìœ¼ë¡œ, í•´ë‹¹ ë©”ì„œë“œì˜ call ìˆœì„œëŠ” onStartInputì´ ì¼ì–´ë‚˜ê³  ê·¸ë‹¤ìŒì— onStartInputViewê°€ Callë˜ê²Œ ëœë‹¤. í•´ë‹¹ Callì˜ ìˆœì„œì²˜ë¦¬ì— ë”°ë¼ì„œ lifecycleì´ ë‹¤ì†Œ ë‹¬ë¼ì§€ëŠ”ë° í•´ë‹¹ ë‚´ìš©ì€ &quot;Webviewì—ì„œì˜ Keyboard ì²˜ë¦¬&quot;ì—ì„œ ìƒì„¸í•˜ê²Œ ë‹¤ë£°ê²ƒì´ë‹¤. IMSì—ì„œëŠ” doStartInputì´ ë°œìƒí•  ê²½ìš° onStartInputì„ ìš”ì²­í•˜ê³  ì´í›„ì— InputViewë¥¼ callí•˜ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìžˆë‹¤. void doStartInput(InputConnection ic, EditorInfo attribute, boolean restarting) &#123; if (!restarting) &#123; doFinishInput(); &#125; mInputStarted = true; mStartedInputConnection = ic; mInputEditorInfo = attribute; initialize(); if (DEBUG) Log.v(TAG, "CALL: onStartInput"); onStartInput(attribute, restarting); if (mWindowVisible) &#123; if (mShowInputRequested) &#123; if (DEBUG) Log.v(TAG, "CALL: onStartInputView"); mInputViewStarted = true; onStartInputView(mInputEditorInfo, restarting); startExtractingText(true); &#125; else if (mCandidatesVisibility == View.VISIBLE) &#123; if (DEBUG) Log.v(TAG, "CALL: onStartCandidatesView"); mCandidatesViewStarted = true; onStartCandidatesView(mInputEditorInfo, restarting); &#125; &#125;&#125; onStartInputê³¼ onStartInputViewì˜ ì°¨ì´ì ì„ ë¬¸ì„œ ìƒìœ¼ë¡œ í™•ì¸í•˜ê¸°ëŠ” ì‰½ì§€ ì•Šë‹¤. ì½”ë“œìƒìœ¼ë¡œ ë³´ë©´ onStartInputì˜ ê²½ìš°ëŠ” Localê³¼ ê°™ì€ ì„¤ì •, onStartInputViewëŠ” ì‹¤ì œë¡œ ë³´ì—¬ì¤„ keyboardì— ëŒ€í•œ ëª¨ë“  ì„¤ì •ì„ ì²˜ë¦¬ í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤. Webviewì—ì„œì˜ Keyboard ì²˜ë¦¬Webviewë¥¼ ì´ìš©í•œ í‚¤ë³´ë“œ ì²˜ë¦¬ëŠ” í¬ê²Œ 3ê°€ì§€ë¡œ ë‚˜ëˆŒ ìˆ˜ ìžˆë‹¤. Webviewì—ì„œ loadëœ htmlì˜ input ìž…ë ¥ì‹œ ìžë™ìœ¼ë¡œ IME Show Webviewì˜ public InputConnection onCreateInputConnection(EditorInfo outAttrs) {ì„ Override ì‹œì¼œì„œ íŠ¹ì • í‚¤ë³´ë“œ í™˜ê²½ì„ ì§€ì • showSoftInputì„ í™œìš© í•˜ëŠ” ë°©ë²• onCreateInputConnection() Overrideandroid.webkit.Webview ê°ì²´ë¥¼ override í•˜ë©´ ëœë‹¤. package com.example.app;...public class BaseWebView extends WebView &#123;... @Override public InputConnection onCreateInputConnection(EditorInfo outAttrs) &#123; InputConnection ic = super.onCreateInputConnection(outAttrs); int original = outAttrs.imeOptions; int notMask = ~EditorInfo.IME_MASK_ACTION; int maskResult = original &amp; notMask; if((outAttrs.inputType &amp; EditorInfo.TYPE_MASK_CLASS) == EditorInfo.TYPE_CLASS_NUMBER)&#123; Log.d(TAG,"IME Options is Number"); outAttrs.privateImeOptions="defaultInputmode=numeric;"; &#125; else &#123; Log.d(TAG,"IME Options is English"); outAttrs.privateImeOptions="defaultInputmode=english;"; &#125; return ic; &#125; InputConnection ic = super.onCreateInputConnection(outAttrs);ì´ ë¶€ë¶„ì€ ë°˜ë“¯ì´ ì²«ë²ˆì§¸ codeë¡œ ì™€ì•¼ í•œë‹¤. í•´ë‹¹ ì½”ë“œê°€ ìµœì´ˆë¡œ ì˜¤ì§€ ì•Šê²Œ ë˜ë©´ loadëœ htmlì´ ì–´ë–¤ input tagë¥¼ focusí•˜ê³  ìžˆëŠ”ì§€ ì•Œ ìˆ˜ê°€ ì—†ê²Œ ëœë‹¤. ì´ ì½”ë“œë¥¼ í†µê³¼ í•˜ê³  ë‚˜ì•¼ ë¹„ë¡œì†Œ EditorInfoì— ì˜ë¯¸ ìžˆëŠ” ê°’ë“¤ì´ ì €ìž¥ë˜ê²Œ ëœë‹¤. ì´ë•Œ ê°œë°œìžê°€ í™•ì¸ ê°€ëŠ¥í•œ ê°’ì€ 2ê°€ì§€ê°€ ìžˆëŠ”ë° imeOptionsì™€ inputTypeì¸ë° imeOptionsëŠ” IMEê°€ ì–´ë–¤ í˜•íƒœë¡œ í‘œí˜„ë ì§€ ì–´ë–¤ ê¸°ëŠ¥ì„ ì œê³µí• ì§€ì— ëŒ€í•œ í‘œí˜„ì„ ì œê³µí•œë‹¤. í•´ë‹¹ ê°’ì— ëŒ€í•œ í‘œí˜„ ë°©ë²•ì€ EditorInfo.IME_MASK_ACTIONì„ ê¸°ì¤€ìœ¼ë¡œ Action ì²˜ë¦¬ì™€ FLAG ì²˜ë¦¬ë¡œ ë¶„ë¦¬ ëœë‹¤. Action : GO, NEXT, NONE, PREVIOUS, SEARCH, SEND ë“± ì—”í„° ë²„íŠ¼ì— ëŒ€í•œ ê¸°ëŠ¥ì„ ì •ì˜í•˜ê²Œ ëœë‹¤. Flag : ASCII, NAVIGATE,ACCESSORY,NO_ENTER,EXTRACT, FULLSCREEN ë“± í‚¤ë³´ë“œì˜ í˜•íƒœë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ ìƒìœ„ ê°’ë“¤ì— ëŒ€í•œ ì •í™•í•œ OPTIONì€ ë‹¤ìŒ íŽ˜ì´ì§€ë¥¼ ì°¸ì¡° í•´ì•¼í•˜ë‚˜, ì‹¤ì§ˆì ìœ¼ë¡œ í•´ë‹¹ Optionsì„ ëª¨ë‘ ì ìš©í•œ IMEê°€ ë§Žì§€ëŠ” ì•Šë‹¤. ì¼ë‹¨ í•´ë‹¹ ê°’ë“¤ì— ëŒ€í•œ ë§ˆìŠ¤í‚¹ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬ í•˜ë©´ëœë‹¤. FLAG ê°’ì„ ì½ì–´ ì˜¬ ìˆ˜ìžˆëŠ” ë°©ë²• (Webviewë¥¼ ì´ìš©í•´ì„œëŠ” í•´ë‹¹ ì˜µì…˜ì„ ì–»ì–´ ì˜¬ìˆ˜ ì—†ì—ˆë‹¤.) ë¹„ë¡ html styleì— ime-modeê°€ ìžˆë‹¤ê³ ëŠ” í•˜ì§€ë§Œ ì´ì™€ëŠ” ê´€ë ¨ì ì´ ì—†ì—ˆë‹¤ int original = outAttrs.imeOptions;int notMask = ~EditorInfo.IME_MASK_ACTION;int flag = original &amp; notMask; ime-modeëŠ” í¬ë¡¬ë“±ì—ì„œ í˜¸í™˜ë˜ì§€ ì•Šê³ , deprecated ëœ ê¸°ëŠ¥ì´ë‹¤ Action ê°’ì„ ì½ì–´ ì˜¬ìˆ˜ ìžˆëŠ” ë°©ë²• (ì—­ì‹œ Webviewì—ì„œëŠ” ì˜ë¯¸ ìžˆëŠ”ë°ì´í„°ë¥¼ ì–»ì–´ ì˜¬ ìˆ˜ ì—†ì—ˆë‹¤) int action = original &amp; EditorInfo.IME_MASK_ACTION; ê²°ê³¼ì ìœ¼ë¡œ ì´ì‹œì ì— ê°œë°œìžê°€ ì²˜ë¦¬ í•  ìˆ˜ìžˆëŠ” ê°’ì€ inputTypeì´ë‹¤. í•´ë‹¹ ê°’ì€ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œë¡œ ì½ì–´ ì˜¬ ìˆ˜ìžˆë‹¤. int inputType = outAttrs.inputType &amp; EditorInfo.TYPE_MASK_CLASS MASKë¡œ ì–»ì–´ì˜¬ìˆ˜ ìžˆëŠ” ê°’ì€ text, number, phone, datetime ì •ë„ì´ê³  webviewì—ì„œ ì˜ë¯¸ ìžˆëŠ” ê°’ì€ textì™€ number ì •ë„ê°€ ë  ê²ƒì´ë‹¤. TYPE_CLASS_TEXT, TYPE_CLASS_NUMBER, TYPE_CLASS_PHONE, TYPE_CLASS_DATETIME ì•„ëž˜ ì½”ë“œëŠ” inputTypeì„ ë°”íƒ•ìœ¼ë¡œ ì–´ë–¤ keyboardë¥¼ í‘œí˜„ í•˜ê²Œ í• ì§€ ë‚˜íƒ€ë‚´ëŠ” ì½”ë“œì´ë‹¤. if((outAttrs.inputType &amp; EditorInfo.TYPE_MASK_CLASS) == EditorInfo.TYPE_CLASS_NUMBER) &#123; Log.d(TAG,&quot;IME Options is Number&quot;); ...&#125; else &#123; Log.d(TAG,&quot;IME Options is English&quot;); ...&#125; ê·¸ëŸ¬ë‚˜ ìƒìœ„ì™€ ê°™ì€ ì½”ë“œëŠ” ì•„ì£¼ íŠ¹ë³„í•œ ê²½ìš°ë¥¼ ì œì™¸í•˜ê³ ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ ì´ìœ ëŠ” ì–´ë–¤ ì¢…ë¥˜ì˜ keyboardë¥¼ ë³´ì—¬ ì¤„ì§€ë¥¼ ì •ì˜ í•˜ëŠ”ê±´ IMEì˜ onStartInputViewë‚´ë¶€ì—ì„œ ì²˜ë¦¬ê°€ ë ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ onCreateInputConnectionì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” IMEë¡œ ë„˜ì–´ ê°€ê¸°ì „ì— EditorInfoë¥¼ ìˆ˜ì •í•˜ê¸° ìœ„í•´ì„œì´ë‹¤. ì˜ˆë¥¼ ë“¤ìžë©´ outAttrs.inputTypeì— EditorInfo.TYPE_CLASS_NUMBERë¥¼ ì£¼ìž…í•˜ê²Œ ë˜ë©´ í•´ë‹¹ webviewë¥¼ ì‚¬ìš©í•œ htmlì€ number typeì˜ í‚¤ë³´ë“œë§Œ ë³´ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤. InputMethodManagerë¥¼ ì´ìš©í•œ showSoftInputì²˜ë¦¬InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);imm.showSoftInput(mWebView, 0); InputMethodManagerë¥¼ ì‹œìŠ¤í…œ ì„œë¹„ìŠ¤ì—ì„œ ì§ì  instanceë¥¼ ì–»ì–´ì™€ì„œ íŠ¹ì • view (ì—¬ê¸°ì„œëŠ” mWebView)ì™€ IMEë¥¼ ì—°ê²°ì‹œí‚¤ëŠ” ì½”ë“œì´ë‹¤. í•´ë‹¹ ì½”ë“œëŠ” Webviewìƒ ì–´ë–¤ html elementì™€ accessë¥¼ í•´ì•¼í• ì§€ ì•Œê¸°ê°€ ì–´ë µê¸° ë•Œë¬¸ì— ì–´ë–¤ keyboardë¥¼ ê°•ì œë¡œ ë›°ìš¸ ìˆ˜ê°€ ì—†ë‹¤. ë¹„ë¡ Webviewë¥¼ ìƒì† ë°›ì•„ì„œ onCreateInputConnection()ì„ ìž¬ì •ì˜ í•œë‹¤ê³  í•˜ë”ë¼ë„ ì´ê²½ìš°ì—ëŠ” í•´ë‹¹ Methodë¥¼ íƒ€ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— EditorInfo ì—­ì‹œ ì¶”ì¶œ í•  ìˆ˜ê°€ ì—†ëŠ” ìƒíƒœê°€ ëœë‹¤. ì´ë ‡ë‹¤ ë³´ë‹ˆ ë¬´ì¡°ê±´ default keyboardë§Œ ë‚˜íƒ€ë‚˜ê²Œ ë˜ëŠ”ë°, ì´ ë¶€ë¶„ì„ í•´ê²° í•˜ëŠ” ë°©ë²•ì€ webviewì— inputTypeì„ ì¶”ê°€ í•´ì£¼ëŠ” ê²ƒì´ë‹¤. public class BaseWebView extends WebView &#123; int inputType = EditorInfo.TYPE_NULL; public void setInputType(int type) &#123; inputType = type; &#125; public int getInputType() &#123; return inputType; &#125; ê·¸ë¦¬ê³  í•´ë‹¹ ë‚´ìš©ì„ ì•„ëž˜ì™€ ê°™ì´ ì¶”ê°€í•´ ì¤€ë‹¤. InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);mWebView.setInputType(InputType.TYPE_CLASS_NUMBER);imm.showSoftInput(mWebView, 0); onStartInputViewì—ì„œ inputTypeì„ í™•ì¸ í•œ í›„ number keyboardë¥¼ ë³´ì—¬ ì£¼ê²Œ ë ê²ƒì´ë‹¤. imeOptionsë‚˜ ë‹¤ë¥¸ íŒŒë¼ë©”í„°ë“¤ì€ ìƒìœ„ì™€ ê°™ì´ ê°•ì œ Settingì„ í•´ë„ keyboardì— ë³„ë‹¤ë¥¼ ì˜í–¥ì„ ì£¼ì§€ ëª»í–ˆë‹¤. Keyboard ì²˜ë¦¬ì— ëŒ€í•œ IME Call Flowì‚¬ì‹¤ ìƒìœ„ ë‘ ê°€ì§€ì˜ Call Flowê°€ ë‹¤ë¥¼ ê±°ë¼ê³  í¬ê²Œ ìƒê°í•˜ì§€ ëª»í–ˆìœ¼ë‚˜ ì˜ì™¸ë¡œ ì „í˜€ ë‹¤ë¥¸ processë¥¼ íƒ€ê³  ìžˆì—ˆë‹¤. ì•„ëž˜ëŠ” https://github.com/rkkr/simple-keyboardì˜ ì†ŒìŠ¤ì— Logë¥¼ ë¶™ì—¬ì„œ ì–´ë–¤ flowë¥¼ traceí•œ í‘œì´ë‹¤. htmlì—ì„œ input tagë¥¼ ëˆŒëŸ¬ì„œ keyboard í‘œì‹œ í–ˆì„ ë•Œ//inputì„ ì´ìš©í•œ show05-24 09:53:41.362 13828 13828 D LatinIME: onStartInput = 24578: rkr.simplekeyboard.inputmethod05-24 09:53:41.362 13828 13828 D LatinIME: onStartInput editorInfo.inputyType 24578: rkr.simplekeyboard.inputmethod05-24 09:53:41.363 13828 13828 D LatinIME: executePendingImsCallback editorInfo.inputyType 24578: rkr.simplekeyboard.inputmethod05-24 09:53:41.363 13828 13828 D LatinIME: onStartInputInternal editorInfo inputType24578: rkr.simplekeyboard.inputmethod05-24 09:53:41.364 13828 13828 D LatinIME: onShowInputRequested: rkr.simplekeyboard.inputmethod05-24 09:53:41.364 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod05-24 09:53:41.364 13828 13828 D LatinIME: onEvaluateFullscreenMode: rkr.simplekeyboard.inputmethod05-24 09:53:41.364 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod05-24 09:53:41.371 13828 13828 D LatinIME: updateFullscreenMode: rkr.simplekeyboard.inputmethod05-24 09:53:41.371 13828 13828 D LatinIME: updateSoftInputWindowLayoutParameters: rkr.simplekeyboard.inputmethod05-24 09:53:41.375 13828 13828 D LatinIME: onStartInputView: rkr.simplekeyboard.inputmethod05-24 09:53:41.376 13828 13828 D LatinIME: executePendingImsCallback editorInfo.inputyType 24578: rkr.simplekeyboard.inputmethod05-24 09:53:41.395 13828 13828 I LatinIME: Starting input. Cursor position = 1,1: rkr.simplekeyboard.inputmethod05-24 09:53:41.395 13828 13828 D LatinIME: onEvaluateFullscreenMode: rkr.simplekeyboard.inputmethod05-24 09:53:41.395 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod05-24 09:53:41.395 13828 13828 D LatinIME: updateFullscreenMode: rkr.simplekeyboard.inputmethod05-24 09:53:41.395 13828 13828 D LatinIME: updateSoftInputWindowLayoutParameters: rkr.simplekeyboard.inputmethod05-24 09:53:41.396 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod05-24 09:53:41.411 13828 13828 D LatinIME: loadSettings: rkr.simplekeyboard.inputmethod05-24 09:53:41.422 13828 13828 D LatinIME: getCurrentAutoCapsState: rkr.simplekeyboard.inputmethod05-24 09:53:41.422 13828 13828 D LatinIME: getCurrentRecapitalizeState: rkr.simplekeyboard.inputmethod05-24 09:53:41.426 13828 13828 D LatinIME: shouldShowLanguageSwitchKey: rkr.simplekeyboard.inputmethod05-24 09:53:41.487 13828 13828 D LatinIME: onComputeInsets: rkr.simplekeyboard.inputmethod05-24 09:53:41.487 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod05-24 09:53:41.498 13828 13828 D LatinIME: onComputeInsets: rkr.simplekeyboard.inputmethod05-24 09:53:41.498 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod//input hide05-24 09:54:38.197 13828 13828 D LatinIME: hideWindow: rkr.simplekeyboard.inputmethod05-24 09:54:38.197 13828 13828 D LatinIME: isShowingOptionDialog: rkr.simplekeyboard.inputmethod05-24 09:54:38.197 13828 13828 D LatinIME: onFinishInputView: rkr.simplekeyboard.inputmethod05-24 09:54:38.197 13828 13828 D LatinIME: onFinishInputViewInternal: rkr.simplekeyboard.inputmethod05-24 09:54:38.200 13828 13828 D LatinIME: onWindowHidden: rkr.simplekeyboard.inputmethod05-24 09:54:38.202 13828 13828 D LatinIME: updateFullscreenMode: rkr.simplekeyboard.inputmethod05-24 09:54:38.202 13828 13828 D LatinIME: updateSoftInputWindowLayoutParameters: rkr.simplekeyboard.inputmethod05-24 09:54:38.230 13828 13828 D LatinIME: onComputeInsets: rkr.simplekeyboard.inputmethod05-24 09:54:38.230 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod showSoftInputì„ ì²˜ë¦¬ í–ˆì„ ë•Œ//keyboard show05-24 09:48:48.369 13828 13828 D LatinIME: onShowInputRequested: rkr.simplekeyboard.inputmethod05-24 09:48:48.369 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod05-24 09:48:48.369 13828 13828 D LatinIME: onEvaluateFullscreenMode: rkr.simplekeyboard.inputmethod05-24 09:48:48.369 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod05-24 09:48:48.370 13828 13828 D LatinIME: updateFullscreenMode: rkr.simplekeyboard.inputmethod05-24 09:48:48.370 13828 13828 D LatinIME: updateSoftInputWindowLayoutParameters: rkr.simplekeyboard.inputmethod05-24 09:48:48.371 13828 13828 D LatinIME: onStartInputView: rkr.simplekeyboard.inputmethod05-24 09:48:48.372 13828 13828 D LatinIME: executePendingImsCallback editorInfo.inputyType 49313: rkr.simplekeyboard.inputmethod05-24 09:48:48.382 13828 13828 I LatinIME: Starting input. Cursor position = 0,0: rkr.simplekeyboard.inputmethod05-24 09:48:48.382 13828 13828 D LatinIME: onEvaluateFullscreenMode: rkr.simplekeyboard.inputmethod05-24 09:48:48.382 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod05-24 09:48:48.383 13828 13828 D LatinIME: updateFullscreenMode: rkr.simplekeyboard.inputmethod05-24 09:48:48.383 13828 13828 D LatinIME: updateSoftInputWindowLayoutParameters: rkr.simplekeyboard.inputmethod05-24 09:48:48.383 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod05-24 09:48:48.395 13828 13828 D LatinIME: loadSettings: rkr.simplekeyboard.inputmethod05-24 09:48:48.402 13828 13828 D LatinIME: getCurrentAutoCapsState: rkr.simplekeyboard.inputmethod05-24 09:48:48.402 13828 13828 D LatinIME: getCurrentRecapitalizeState: rkr.simplekeyboard.inputmethod05-24 09:48:48.404 13828 13828 D LatinIME: shouldShowLanguageSwitchKey: rkr.simplekeyboard.inputmethod05-24 09:48:48.440 13828 13828 D LatinIME: onComputeInsets: rkr.simplekeyboard.inputmethod05-24 09:48:48.440 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod05-24 09:48:48.452 13828 13828 D LatinIME: onComputeInsets: rkr.simplekeyboard.inputmethod05-24 09:48:48.452 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod//keyboard hide05-24 09:52:19.722 13828 13828 D LatinIME: hideWindow: rkr.simplekeyboard.inputmethod05-24 09:52:19.723 13828 13828 D LatinIME: isShowingOptionDialog: rkr.simplekeyboard.inputmethod05-24 09:52:19.723 13828 13828 D LatinIME: onFinishInputView: rkr.simplekeyboard.inputmethod05-24 09:52:19.723 13828 13828 D LatinIME: onFinishInputViewInternal: rkr.simplekeyboard.inputmethod05-24 09:52:19.725 13828 13828 D LatinIME: onWindowHidden: rkr.simplekeyboard.inputmethod05-24 09:52:19.728 13828 13828 D LatinIME: updateFullscreenMode: rkr.simplekeyboard.inputmethod05-24 09:52:19.728 13828 13828 D LatinIME: updateSoftInputWindowLayoutParameters: rkr.simplekeyboard.inputmethod05-24 09:52:19.748 13828 13828 D LatinIME: onComputeInsets: rkr.simplekeyboard.inputmethod05-24 09:52:19.748 13828 13828 D LatinIME: isImeSuppressedByHardwareKeyboard: rkr.simplekeyboard.inputmethod]]></content>
      <tags>
        <tag>Android</tag>
        <tag>keyboard</tag>
        <tag>IME</tag>
        <tag>InputMethod Framework</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Android Grafika Texture Surface]]></title>
    <url>%2Fgrafika%2F</url>
    <content type="text"><![CDATA[í…ŒìŠ¤íŠ¸ mp4íŒŒì¼ ë°›ê¸°com.android.grafika public static void initialize(Context context) &#123; ContentManager mgr = getInstance(); synchronized (sLock) &#123; if (!mgr.mInitialized) &#123;+ mgr.mFilesDir = context.getExternalFilesDir(Environment.DIRECTORY_MOVIES);- // mgr.mFilesDir = context.getFilesDir(); mgr.mContent = new ArrayList&lt;Content&gt;(); mgr.mInitialized = true; &#125; &#125; &#125; app ì¸í„°ë„ storageë¥¼ externalë¡œ ë³€ê²½ ì•± ìž¬ì‹¤í–‰ í›„ íŒŒì¼ ë‹¤ìš´ë¡œë“œ í‘œì‹œ ëë‚˜ë©´ android file exploreë¥¼ ì´ìš©í•´ì„œ sdcard&gt; Android &gt; data &gt; com.google.grafica &gt; files &gt; Movies ì´í•˜ë¥¼ ì¡°íšŒí•˜ë©´, gen-eight-rects.mp4 gen-sliders.mp4 íŒŒì¼ í™•ì¸ ê°€ëŠ¥í•¨ MediaFormatë¹„ë””ì˜¤ íŒŒì¼(ì˜ˆ, mp4)ë“±ì˜ headerë¥¼ ë¶„ì„í•œ ê²°ê³¼ MediaExtractorë¥¼ í†µí•´ì„œ ì •ë³´ë¥¼ ì¶”ì¶œí•  ìˆ˜ ìžˆìŒ ì•„ëž˜ ì†ŒìŠ¤ëŠ” android app ë‚´ì˜ res&gt;raw ì´í•˜ì— ë¹„ë””ì˜¤ë‚˜ ì˜¤ë””ì˜¤ íŒŒì¼ì„ ìœ„ì¹˜ ì‹œì¼°ì„ ë•Œ uri ë°©ì‹ìœ¼ë¡œ ìˆ˜ì‹  í•  ìˆ˜ ìžˆëŠ” ì½”ë“œì´ë‹¤. ê´€ë ¨ ìˆ˜ì •ì‚¬í•­ì€ extractor.setDataSource(ctx,uri,null); ì´ ë¶€ë¶„ ì „í›„ë¥¼ ë³´ë©´ ëœë‹¤. í•´ë‹¹ ë©”ì„œë“œë¥¼ ìš”ì²­í•˜ëŠ” ë°©ë²•ì€ Activityì—ì„œ ì•„ëž˜ì™€ ê°™ì´ call í•˜ë©´ ëœë‹¤ player = new MoviePlayer(getApplicationContext(), Uri.parse(&quot;android.resource://&quot;+getPackageName()+&quot;/raw/gen_eight_rects&quot;), surface, callback); MoviePlayer.java public MoviePlayer(Context ctx, Uri uri, Surface outputSurface, FrameCallback frameCallback) throws IOException &#123; mContext = ctx; mUri = uri;// mSourceFile = sourceFile; mOutputSurface = outputSurface; mFrameCallback = frameCallback; // Pop the file open and pull out the video characteristics. // TODO: consider leaving the extractor open. Should be able to just seek back to // the start after each iteration of play. Need to rearrange the API a bit -- // currently play() is taking an all-in-one open+work+release approach. MediaExtractor extractor = null; try &#123; extractor = new MediaExtractor(); extractor.setDataSource(ctx,uri,null); int trackIndex = selectTrack(extractor); if (trackIndex &lt; 0) &#123; throw new RuntimeException("No video track found in " + mSourceFile); &#125; extractor.selectTrack(trackIndex); MediaFormat format = extractor.getTrackFormat(trackIndex); mVideoWidth = format.getInteger(MediaFormat.KEY_WIDTH); mVideoHeight = format.getInteger(MediaFormat.KEY_HEIGHT); if (VERBOSE) &#123; Log.d(TAG, "Video size is " + mVideoWidth + "x" + mVideoHeight); &#125; &#125; finally &#123; if (extractor != null) &#123; extractor.release(); &#125; &#125; &#125; /** * Returns the width, in pixels, of the video. */ public int getVideoWidth() &#123; return mVideoWidth; &#125; /** * Returns the height, in pixels, of the video. */ public int getVideoHeight() &#123; return mVideoHeight; &#125; /** * Sets the loop mode. If true, playback will loop forever. */ public void setLoopMode(boolean loopMode) &#123; mLoop = loopMode; &#125; /** * Asks the player to stop. Returns without waiting for playback to halt. * &lt;p&gt; * Called from arbitrary thread. */ public void requestStop() &#123; mIsStopRequested = true; &#125; /** * Decodes the video stream, sending frames to the surface. * &lt;p&gt; * Does not return until video playback is complete, or we get a "stop" signal from * frameCallback. */ public void play() throws IOException &#123; MediaExtractor extractor = null; MediaCodec decoder = null; boolean fileBased = true; // The MediaExtractor error messages aren't very useful. Check to see if the input // file exists so we can throw a better one if it's not there. if (mSourceFile != null &amp;&amp; !mSourceFile.canRead()) &#123; throw new FileNotFoundException("Unable to read " + mSourceFile); &#125; else &#123; fileBased = false; &#125; try &#123; extractor = new MediaExtractor();// extractor.setDataSource(mSourceFile.toString()); extractor.setDataSource(mContext,mUri,null); int trackIndex = selectTrack(extractor); if (trackIndex &lt; 0) &#123; throw new RuntimeException("No video track found in " + mSourceFile); &#125; extractor.selectTrack(trackIndex); MediaFormat format = extractor.getTrackFormat(trackIndex); // Create a MediaCodec decoder, and configure it with the MediaFormat from the // extractor. It's very important to use the format from the extractor because // it contains a copy of the CSD-0/CSD-1 codec-specific data chunks. String mime = format.getString(MediaFormat.KEY_MIME); decoder = MediaCodec.createDecoderByType(mime); decoder.configure(format, mOutputSurface, null, 0); decoder.start(); doExtract(extractor, trackIndex, decoder, mFrameCallback); &#125; finally &#123; // release everything we grabbed if (decoder != null) &#123; decoder.stop(); decoder.release(); decoder = null; &#125; if (extractor != null) &#123; extractor.release(); extractor = null; &#125; &#125; &#125; MediaFormat format = extractor.getTrackFormat(trackIndex);ì´ ë¶€ë¶„ì´ track ìœ¼ë¡œ ë¶€í„° Mediaì˜ ì •ë³´ë¥¼ ì–»ì–´ì˜¤ëŠ” ë¶€ë¶„ì´ë‹¤. Audio / Video ê³µí†µ í¬ë©§ ì •ë³´ Name Value Type Description KEY_MIME String The type of the format. KEY_MAX_INPUT_SIZE Integer optional, maximum size of a buffer of input data KEY_BIT_RATE Integer encoder-only, desired bitrate in bits/second Video í¬ë©§ ì •ë³´ Name Value Type Description KEY_WIDTH Integer KEY_HEIGHT Integer KEY_COLOR_FORMAT Integer set by the user for encoders, readable in the output format of decoders KEY_FRAME_RATE Integer or Float required for encoders, optional for decoders KEY_CAPTURE_RATE Integer KEY_I_FRAME_INTERVAL Integer (or Float) encoder-only, time-interval between key frames. Float support added in Build.VERSION_CODES.N_MR1 KEY_INTRA_REFRESH_PERIOD Integer encoder-only, optional KEY_LATENCY Integer encoder-only, optional KEY_MAX_WIDTH Integer decoder-only, optional, max-resolution width KEY_MAX_HEIGHT Integer decoder-only, optional, max-resolution height KEY_REPEAT_PREVIOUS_FRAME_AFTER Long encoder in surface-mode only, optional KEY_PUSH_BLANK_BUFFERS_ON_STOP Integer(1) decoder rendering to a surface only, optional KEY_TEMPORAL_LAYERING String encoder only, optional, temporal-layering schema ì˜¤ë””ì˜¤ í¬ë©§ì •ë³´ Name Value Type Description KEY_CHANNEL_COUNT Integer KEY_SAMPLE_RATE Integer KEY_PCM_ENCODING Integer optional KEY_IS_ADTS Integer optional, if decoding AAC audio content, setting this key to 1 indicates that each audio frame is prefixed by the ADTS header. KEY_AAC_PROFILE Integer encoder-only, optional, if content is AAC audio, specifies the desired profile. KEY_AAC_SBR_MODE Integer encoder-only, optional, if content is AAC audio, specifies the desired SBR mode. KEY_AAC_DRC_TARGET_REFERENCE_LEVEL Integer decoder-only, optional, if content is AAC audio, specifies the target reference level. KEY_AAC_ENCODED_TARGET_LEVEL Integer decoder-only, optional, if content is AAC audio, specifies the target reference level used at encoder. KEY_AAC_DRC_BOOST_FACTOR Integer decoder-only, optional, if content is AAC audio, specifies the DRC boost factor. KEY_AAC_DRC_ATTENUATION_FACTOR Integer decoder-only, optional, if content is AAC audio, specifies the DRC attenuation factor. KEY_AAC_DRC_HEAVY_COMPRESSION Integer decoder-only, optional, if content is AAC audio, specifies whether to use heavy compression. KEY_AAC_MAX_OUTPUT_CHANNEL_COUNT Integer decoder-only, optional, if content is AAC audio, specifies the maximum number of channels the decoder outputs. KEY_AAC_DRC_EFFECT_TYPE Integer decoder-only, optional, if content is AAC audio, specifies the MPEG-D DRC effect type to use. KEY_CHANNEL_MASK Integer optional, a mask of audio channel assignments KEY_FLAC_COMPRESSION_LEVEL Integer encoder-only, optional, if content is FLAC audio, specifies the desired compression level. ìžë§‰ì •ë³´ Name Value Type Description KEY_MIME String The type of the format. KEY_LANGUAGE String The language of the content. ì´ë¯¸ì§€ ì •ë³´ Name Value Type Description KEY_MIME String The type of the format. KEY_WIDTH Integer KEY_HEIGHT Integer KEY_COLOR_FORMAT Integer set by the user for encoders, readable in the output format of decoders KEY_TILE_WIDTH Integer required if the image has grid KEY_TILE_HEIGHT Integer required if the image has grid KEY_GRID_ROWS Integer required if the image has grid KEY_GRID_COLUMNS Integer required if the image has grid MediaCodecë¯¸ë””ì–´ ì½”ë±ì€ ë¯¸ë””ì–´ ë°ì´í„°ì˜ ì œê³µìžì™€ ë¯¸ë””ì–´ ë°ì´í„°ë¥¼ ì†Œë¹„í•˜ëŠ” ì†Œë¹„ìžì˜ ì¤‘ê°„ì— ìœ„ì¹˜í•˜ëŠ” ì¡´ìž¬ì´ë‹¤. ì¦‰, (ë¯¸ë””ì–´ ë°ì´í„° ì œê³µìž) --(encoded data stream)--&gt; [MediaCodec] --(decoded data stream) --&gt;(ì†Œë¹„ìž) í˜•íƒœë¡œ ë‚˜íƒ€ë‚˜ê²Œ ëœë‹¤. MoviePalyer ì†ŒìŠ¤ ì½”ë“œë¥¼ ë³´ìžë©´ public void play() throws IOException &#123; MediaExtractor extractor = null; MediaCodec decoder = null; boolean fileBased = true; // The MediaExtractor error messages aren't very useful. Check to see if the input // file exists so we can throw a better one if it's not there. if (mSourceFile != null &amp;&amp; !mSourceFile.canRead()) &#123; throw new FileNotFoundException("Unable to read " + mSourceFile); &#125; else &#123; fileBased = false; &#125; try &#123; extractor = new MediaExtractor();// extractor.setDataSource(mSourceFile.toString()); extractor.setDataSource(mContext,mUri,null); int trackIndex = selectTrack(extractor); if (trackIndex &lt; 0) &#123; throw new RuntimeException("No video track found in " + mSourceFile); &#125; extractor.selectTrack(trackIndex); MediaFormat format = extractor.getTrackFormat(trackIndex); // Create a MediaCodec decoder, and configure it with the MediaFormat from the // extractor. It's very important to use the format from the extractor because // it contains a copy of the CSD-0/CSD-1 codec-specific data chunks. String mime = format.getString(MediaFormat.KEY_MIME); decoder = MediaCodec.createDecoderByType(mime); decoder.configure(format, mOutputSurface, null, 0); decoder.start(); String mime = format.getString(MediaFormat.KEY_MIME); decoder = MediaCodec.createDecoderByType(mime); decoder.configure(format, mOutputSurface, null, 0); decoder.start(); ì´ ë¶€ë¶„ì´ MediaCodecì„ ìƒì‚°ìžì™€ ì†Œë¹„ìžì˜ ì‚¬ì´ì— ìœ„ì¹˜ ì‹œí‚¤ëŠ” ì—­í• ì„ í•œë‹¤. ìœ„ì¹˜ë¥¼ ì‹œí‚¨í›„ ì‹¤í–‰ ì‹œí‚¤ëŠ” ì½”ë“œê°€ decoder.start()ì´ë‹¤ startpublic void start () í™˜ê²½ ì„¤ì •ì´ ì™„ë£Œ ëœ ì´í›„ startë¥¼ ì‹¤í–‰ í•˜ë©´ ë¹„ë¡œì†Œ, ë¹„ë™ê¸°ì ìœ¼ë¡œ ìƒì‚°ìžë¡œ ë¶€í„° ë²„í¼ë¥¼ ì½ì–´ì„œ ë””ì½”ë”© ì²˜ë¦¬ í•˜ê¸° ì‹œìž‘í•œë‹¤. Bufferì–»ì–´ ì˜¤ê¸°SyncronizedAPI21(ë¡¤ë¦¬íŒ) ì´í›„ deprecated ëœ ë°©ë²• (grafika)grafikaì˜ Movie PlayerëŠ” ì´ ë°©ë²•ì„ ì‚¬ìš©í•´ì„œ Data Streamì„ ì ‘ê·¼ í•˜ê³  ìžˆë‹¤. ë²„í¼ì˜ í˜•ì‹ì€ ByteBuffer[] start() Call ì´í›„ ë¶€í„° ë²„í¼ë¥¼ ì–»ì–´ ì˜¤ëŠ” ë°©ì‹ì€ getInputê³¼ OutputBuffersë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì–‘ìˆ˜ì˜ buffer idë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì–»ì–´ì˜¨ë‹¤. dequeueInputBuffer() , dequeueOutputBuffer()ëŠ” ë¹„ë™ê¸° ìŠ¤ë ˆë“œì— ìƒíƒœë¥¼ í™•ì¸í•˜ê¸° ìœ„í•œ apiì´ë‹¤. ë¹„ë¡ Syncronized ë°©ì‹ì´ë¼ê³  í•´ë„ ì´ì ì€ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤. íŒŒë¼ë©”í„°ë¡œ timeoutUs ê°€ ì‚¬ìš©ë˜ëŠ”ë°, í•´ë‹¹ ê°’ì€ ìƒìœ„ ìƒíƒœ ë³€í™”ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ê¸°ë‹¤ë¦¬ëŠ” ì‹œê°„ì´ë‹¤. í•´ë‹¹ ì‹œê°„ì„ ê¸°ë‹¤ë ¤ë„ stateì˜ ë³€í™”ê°€ ìƒê¸°ì§€ ì•ŠëŠ”ë‹¤ë©´, í•´ë‹¹ media dataëŠ” invalidate ì²˜ë¦¬ ë˜ê²Œ ëœë‹¤. timeoutUsê°€ 0ì´í•˜ë©´ ë¬´í•œì´ ê¸°ë‹¤ë¦¬ê²Œ ëœë‹¤. 0ì´ë©´ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì¦‰ê° return ì²˜ë¦¬ í•œë‹¤. MoviePlayer.java private void doExtract(MediaExtractor extractor, int trackIndex, MediaCodec decoder, FrameCallback frameCallback) &#123; final int TIMEOUT_USEC = 10000; ByteBuffer[] decoderInputBuffers = decoder.getInputBuffers(); int inputChunk = 0; long firstInputTimeNsec = -1; boolean outputDone = false; boolean inputDone = false; while (!outputDone) &#123; if (VERBOSE) Log.d(TAG, "loop"); if (mIsStopRequested) &#123; Log.d(TAG, "Stop requested"); return; &#125; // Feed more data to the decoder. if (!inputDone) &#123; int inputBufIndex = decoder.dequeueInputBuffer(TIMEOUT_USEC); if (inputBufIndex &gt;= 0) &#123; if (firstInputTimeNsec == -1) &#123; firstInputTimeNsec = System.nanoTime(); &#125; ByteBuffer inputBuf = decoderInputBuffers[inputBufIndex]; // Read the sample data into the ByteBuffer. This neither respects nor // updates inputBuf's position, limit, etc. int chunkSize = extractor.readSampleData(inputBuf, 0); if (chunkSize &lt; 0) &#123; // End of stream -- send empty frame with EOS flag set. decoder.queueInputBuffer(inputBufIndex, 0, 0, 0L, MediaCodec.BUFFER_FLAG_END_OF_STREAM); inputDone = true; if (VERBOSE) Log.d(TAG, "sent input EOS"); &#125; else &#123; if (extractor.getSampleTrackIndex() != trackIndex) &#123; Log.w(TAG, "WEIRD: got sample from track " + extractor.getSampleTrackIndex() + ", expected " + trackIndex); &#125; long presentationTimeUs = extractor.getSampleTime(); decoder.queueInputBuffer(inputBufIndex, 0, chunkSize, presentationTimeUs, 0 /*flags*/); if (VERBOSE) &#123; Log.d(TAG, "submitted frame " + inputChunk + " to dec, size=" + chunkSize); &#125; inputChunk++; extractor.advance(); &#125; &#125; else &#123; if (VERBOSE) Log.d(TAG, "input buffer not available"); &#125; &#125; if (!outputDone) &#123; int decoderStatus = decoder.dequeueOutputBuffer(mBufferInfo, TIMEOUT_USEC); if (decoderStatus == MediaCodec.INFO_TRY_AGAIN_LATER) &#123; // no output available yet if (VERBOSE) Log.d(TAG, "no output from decoder available"); &#125; else if (decoderStatus == MediaCodec.INFO_OUTPUT_BUFFERS_CHANGED) &#123; // not important for us, since we're using Surface if (VERBOSE) Log.d(TAG, "decoder output buffers changed"); &#125; else if (decoderStatus == MediaCodec.INFO_OUTPUT_FORMAT_CHANGED) &#123; MediaFormat newFormat = decoder.getOutputFormat(); if (VERBOSE) Log.d(TAG, "decoder output format changed: " + newFormat); &#125; else if (decoderStatus &lt; 0) &#123; throw new RuntimeException( "unexpected result from decoder.dequeueOutputBuffer: " + decoderStatus); &#125; else &#123; // decoderStatus &gt;= 0 if (firstInputTimeNsec != 0) &#123; // Log the delay from the first buffer of input to the first buffer // of output. long nowNsec = System.nanoTime(); Log.d(TAG, "startup lag " + ((nowNsec-firstInputTimeNsec) / 1000000.0) + " ms"); firstInputTimeNsec = 0; &#125; boolean doLoop = false; if (VERBOSE) Log.d(TAG, "surface decoder given buffer " + decoderStatus + " (size=" + mBufferInfo.size + ")"); if ((mBufferInfo.flags &amp; MediaCodec.BUFFER_FLAG_END_OF_STREAM) != 0) &#123; if (VERBOSE) Log.d(TAG, "output EOS"); if (mLoop) &#123; doLoop = true; &#125; else &#123; outputDone = true; &#125; &#125; boolean doRender = (mBufferInfo.size != 0); // As soon as we call releaseOutputBuffer, the buffer will be forwarded // to SurfaceTexture to convert to a texture. We can't control when it // appears on-screen, but we can manage the pace at which we release // the buffers. if (doRender &amp;&amp; frameCallback != null) &#123; frameCallback.preRender(mBufferInfo.presentationTimeUs); &#125; decoder.releaseOutputBuffer(decoderStatus, doRender); if (doRender &amp;&amp; frameCallback != null) &#123; frameCallback.postRender(); &#125; if (doLoop) &#123; Log.d(TAG, "Reached EOS, looping"); extractor.seekTo(0, MediaExtractor.SEEK_TO_CLOSEST_SYNC); inputDone = false; decoder.flush(); // reset decoder state frameCallback.loopReset(); &#125; &#125; &#125; &#125;&#125; ì´ ë©”ì„œë“œëŠ” videoê°€ ë©ˆì¶”ê±°ë‚˜ ëë‚ ë•Œ ê¹Œì§€ ë£¨í”„ë¥¼ ëŒê²Œ ëœë‹¤. ByteBuffer[] decoderInputBuffers = decoder.getInputBuffers(); getInputBuffers (input surfaceë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì ˆëŒ€ë¡œ ì‚¬ìš©í•˜ë©´ ì•ˆë¨) í•´ë‹¹ ë©”ì„œë“œëŠ” 21ì´í›„ë¡œ ë”ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. getInputBuffer(int)ë¥¼ ëŒ€ì‹  ì‚¬ìš©í•œë‹¤. ë³¸ ë©”ì„œë“œë¥¼ ì´ìš©í•´ì„œ byte streamì„ ì½ì–´ ì˜¤ëŠ”ë° ì¼ë‹¨ í•œë²ˆ ì½ì–´ì§„ bufferëŠ” ìž¬ì‚¬ìš© ë˜ì§€ ì•ŠëŠ”ë‹¤. int inputBufIndex = decoder.dequeueInputBuffer(TIMEOUT_USEC); ì‚¬ìš© ê°€ëŠ¥í•œ ë°ì´í„°ì˜ index(ìœ„ì¹˜)ë¥¼ ì•Œë ¤ì¤€ë‹¤. ByteBuffer inputBuf = decoderInputBuffers[inputBufIndex]; ì•žì„œ ì½ì–´ì˜¨ inputbufferì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë°ì´í„°ì˜ indexì˜ bytebufferë¥¼ ì–»ì–´ì˜¨ë‹¤. decoder.queueInputBuffer(inputBufIndex, 0, chunkSize, presentationTimeUs, 0 /*flags*/);inputDone = true; í™”ë©´ì— í‘œì‹œí•˜ê¸°(decode) ìœ„í•œ bufferë¥¼ ì§€ì •í•œë‹¤. ì—¬ê¸°ì„œ presentationTimeUsëŠ” ì´í›„ í™”ë©´ì— í‘œì‹œí• ë•Œ ë‚˜ì˜¤ëŠ” timestampì™€ ë™ì¼ ê°’ì´ ëœë‹¤. í•´ë‹¹ ë©”ì„œë“œë¥¼ Call í•œ ì´í›„ë¶€í„°ëŠ” outputì´ ê°€ëŠ¥í•œ ë‹¨ê³„ ê¹Œì§€ while ë¬¸ì„ ëŒë©´ì„œ ê¸°ë‹¤ë¦¬ê²Œ ëœë‹¤. inputDone = true;ì€ decodeë¥¼ ìœ„í•œ ë²„í¼ë¥¼ ì±„ì› ë‹¤ëŠ” flagì²˜ë¦¬ì´ë‹¤. ì´í›„ outputDoneì´ ì²˜ë¦¬ ë˜ì–´ì•¼ í•œë‹¤. if (!outputDone) &#123;...&#125; ë°”ì´íŠ¸ë¥¼ ìž…ë ¥ í–ˆìœ¼ë‹ˆ ì´í›„ëŠ” ìž…ë ¥ëœ ë°”ì´íŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ decodeë˜ì–´ì„œ ì½ì„ ìˆ˜ ìžˆìœ¼ë©´ ëœë‹¤. int decoderStatus = decoder.dequeueOutputBuffer(mBufferInfo, TIMEOUT_USEC); ì´ ë¶€ë¶„ì„ í™•ì¸í•˜ëŠ” ì½”ë“œì´ë‹¤. dequeueOutputBuffer decodedê°€ ì™„ë£Œ ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸ í•˜ëŠ” ì½”ë“œë¡œì¨, ë‹¤ìŒ 3ê°€ì§€ ì¤‘ í•˜ë‚˜ì˜ ë¦¬í„´ì„ ê°–ê²Œ ëœë‹¤. NFO_TRY_AGAIN_LATER, INFO_OUTPUT_FORMAT_CHANGED, INFO_OUTPUT_BUFFERS_CHANGED í•´ë‹¹ valueëŠ” ëª¨ë‘ ìŒìˆ˜ì˜ ê°’ì„ ê°–ê³  ìžˆë‹¤. ì´ì™¸ ì–‘ìˆ˜ì˜ ê°’ì´ ìžˆë‹¤ë©´ decodeê°€ ì™„ë£Œ ë˜ì—ˆë‹¤ê³  ìƒê°í•´ë„ ëœë‹¤. if (decoderStatus == MediaCodec.INFO_TRY_AGAIN_LATER) &#123; // no output available yet if (VERBOSE) Log.d(TAG, "no output from decoder available");&#125; else if (decoderStatus == MediaCodec.INFO_OUTPUT_BUFFERS_CHANGED) &#123; // not important for us, since we're using Surface if (VERBOSE) Log.d(TAG, "decoder output buffers changed");&#125; else if (decoderStatus == MediaCodec.INFO_OUTPUT_FORMAT_CHANGED) &#123; MediaFormat newFormat = decoder.getOutputFormat(); if (VERBOSE) Log.d(TAG, "decoder output format changed: " + newFormat);&#125; else if (decoderStatus &lt; 0) &#123; throw new RuntimeException( "unexpected result from decoder.dequeueOutputBuffer: " + decoderStatus);&#125; else &#123; // decoderStatus &gt;= 0 decodeStatusê°€ ì–‘ìˆ˜ì¼ë•Œ ì²˜ë¦¬ í•˜ëŠ” ê°€ëŠ¥ í•µì‹¬ ì ì¸ ì½”ë“œëŠ” ë‹¤ìŒì´ë‹¤. decoder.releaseOutputBuffer(decoderStatus, doRender); releaseOutputBuffer output surfaceì— ê·¸ë ¤ì§ˆ decodeëœ byte bufferë¥¼ ëŒë ¤ì£¼ëŠ” í–‰ìœ„ë¥¼ í•˜ëŠ” ì½”ë“œì´ë‹¤. dequeueOutputBuffer ì—ì„œ ì§€ì •í•´ì¤€ indexë¥¼ ê¸°ì¤€ìœ¼ë¡œ í™”ë©´ì— renderingì„ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤. doRenderê°€ trueì´ë©´ output surfaceì— ìµœìš°ì„  ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ sendí•˜ê²Œ ëœë‹¤. ì¼ë‹¨ í•´ë‹¹ ë²„í¼ê°€ ì‚¬ìš©ë˜ê³  ë‚˜ë©´ surfaceëŠ” codecì—ê²Œ ë”ì´ìƒ ìž¬í™œìš© í•˜ì§€ ë§ê²ƒì„ ìš”ì²­í•˜ê²Œ ëœë‹¤. í•´ë‹¹ ì²˜ë¦¬ì— ëŒ€í•œ ê²°ê³¼ë¡œëŠ” MediaCodec.Callbackì— ì†í•´ ìžˆëŠ” onOutputBufferAvailableê°€ trigger ëœë‹¤. í•´ë‹¹ decodeê°€ ì™„ë£Œëœ ì´í›„ surfacetexture view ìª½ìœ¼ë¡œ í™”ë©´ì˜ redrawë¥¼ ë‹¤ìŒ ë¦¬ìŠ¤ë„ˆë¥¼ í†µí•´ ì•Œë ¤ì¤€ë‹¤. TextureView.SurfaceTextureListener onSurfaceTextureUpdated SurfaceTextureì— ìžˆëŠ” updateTexImageê°€ Callë˜ë©´ ì´ methodê°€ callë˜ê²Œ ë˜ëŠ”ë°, MediaCodecì´ surfaceì— ë³€í™”ë¥¼ ì¤„ë•Œë§ˆë‹¤ í•´ë‹¹ ì‹œì ì„ ì–»ì–´ ì˜¤ê³  ì‹¶ë‹¤ë©´, ë³¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡ í•˜ë©´ ëœë‹¤. PlayMovieActivity.java @Overridepublic void onSurfaceTextureUpdated(SurfaceTexture surface) &#123; Matrix txform = new Matrix(); mTextureView.getTransform(txform); mRotateValue %= 360; txform.postRotate(mRotateValue += 1); mTextureView.setTransform(txform); Log.d(TAG, "onSurfaceTextureUpdated = " + mRotateValue);&#125; grafika ì—ì„œëŠ” adjustAspectRatioë¼ëŠ” ë©”ì„œë“œë¥¼ í†µí•´ì„œ ë™ì˜ìƒì˜ ë¹„ìœ¨ì„ ì¡°ì •í•˜ê²Œ ë˜ëŠ”ë°, í•´ë‹¹ ì½”ë“œì˜ ì¼ë¶€ë¶„ì„ ìƒìœ„ì™€ ê°™ì´ onSurfaceTextureUpdatedì— ë„£ê²Œ ë˜ë©´ ë™ì˜ìƒì´ ëŒì•„ê°€ëŠ” ëª¨ìŠµì„ í™•ì¸ í•  ìˆ˜ìžˆê²Œ ëœë‹¤. Surfaceì— ëŒ€í•œ ìˆ˜ì •ì„ ì²˜ë¦¬ í•˜ê³  ì‹¶ì„ ë•ŒëŠ” onSurfaceTextureAvailableì´ë‚˜ onSurfaceTextureUpdatedì‹œì ì— ì²˜ë¦¬ í•´ì£¼ë©´ ëœë‹¤. ë§Œì•½ ì†¡ì¶œë˜ëŠ” Surfaceì˜ í™”ë©´ì„ mirror(flip) ì²˜ë¦¬ í•˜ê³ ìž í•œë‹¤ë©´ PlayMovieActivity ë‚´ adjustAspectRatioë©”ì„œë“œ ë§ˆì§€ë§‰ì— mTextureView.setScaleX(-1); ì²˜ë¦¬ë¥¼ í•˜ë©´ ëœë‹¤. Matrixì˜ setScale(-1,1)ì„ í†µí•œ flipì€ ì„±ê³µí•˜ì§€ ëª»í–ˆë‹¤.]]></content>
      <tags>
        <tag>android</tag>
        <tag>Grafika</tag>
        <tag>texture surface</tag>
        <tag>video</tag>
        <tag>flip</tag>
        <tag>mirror</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[android graphic architecture]]></title>
    <url>%2Fandroid-graphic-architecture%2F</url>
    <content type="text"><![CDATA[BufferQueueê·¸ëž˜í”½ ë°ì´í„°ì˜ ìƒì‚°ìžì™€ ì†Œë¹„ìžë¥¼ ì—°ê²° ìˆ˜ì¼œì£¼ëŠ” ì—­í• ì„ í•œë‹¤. (í”„ë¡œì„¸ìŠ¤ê°€ ì„œë¡œ ë‹¬ë¼ë„ ëœë‹¤.) ìƒì‚°ìžëŠ” ë²„í¼ íŠ¹ì§•ì„ ê¸°ìˆ í•œë‹¤. ë†’ì´, ë„“ì´, í”½ì…€í¬ë§·, í”Œëž˜ê·¸ ë“± Data Flow dequeBuffer ìƒìƒìž ë²„í¼ ì±„ì›€ queueBuffer ì†Œë¹„ì‚¬ ë²„í¼ íšë“ acquireBuffer ë²„í¼ í™œìš© releaseBuffer gralloc HALallockí•¨ìˆ˜ë¥¼ ì´ìš©í•´ ë²„í¼ë¥¼ í• ë‹¹í•œë‹¤. ë„“ì´,ë†’ì´,í”½ì…€í¬ë§·, ìš©ë„ í”Œëž˜ê·¸ê°€ ì¸ìž ì˜ˆ) RGBA8888 í”½ì…€ í¬ë©§ì˜ ê²½ìš° R-&gt;G-&gt;B-&gt;A ìˆœì„œë¡œ 4ë°”ì´íŠ¸ ë²„í¼ë¥¼ ìƒì„±í•œë‹¤. SurfaceFlingerê·¸ëž˜í”½ ë°ì–´í„° ë²„í¼ë¥¼ ë°›ê³  Displayë¡œ ë³´ë‚´ëŠ” ëª©ì  ì•± í¬ì–´ê·¸ë¼ìš´ë“œ -&gt; ìœˆë„ìš°ë§¤ë‹ˆì € -&gt; surfaceflinger -&gt; draw ìš”ì²­ BufferQueueì˜ ì†Œë¹„ìž ì²˜ëŸ¼ ë™ìž‘í•œë‹¤. ìƒì‚°ìž -&gt; ë°”ì¸ë”ê°ì²´ -&gt; ìœˆë„ìš°ë§¤ë‹ˆì € -&gt; ì•± -&gt; surfaceflinger í”„ë ˆìž„ì „ì†¡showSoftInputí•´ë‹¹ ê¸°ëŠ¥ì€ ë””ìŠ¤í”Œë ˆì´ê°€ ë²„í¼ ì²˜ë¦¬ê°€ëŠ¥í•  ë•Œ ìž‘ë™ì´ ì‹œìž‘ëœë‹¤. í”„ë ˆìž„ë Œë”ë§ êµ¬ì¡°ìƒì‚°ìž -&gt; ë²„í¼ë¥¼ ì±„ì›€ -&gt; ë²„í¼í ì±„ì›€ -&gt; surfacelinger ìª½ìœ¼ë¡œ ì´ë™ -&gt; HWcomposerë¡œ ë‹¤ìŒ frame ì „ì†¡ -&gt; HWComposerëŠ” Systemui(ìƒíƒœë°”ë“±)ì™€ bufferqueu ì •ë³´ë¥¼ í•©ì³ì„œ í™”ë©´ì— í‘œì‹œí•¨ (VSYNC ë°œìƒ ì‹œ frame ê·¸ë¦¼) app -&gt; MediaCodec -&gt; rawë°ì´í„° ë²„í¼ ë˜ëŠ” Surfaceì œê³µ SurfaceBufferQueueì˜ ìƒì‚°ìž ì—­í•  SurfaceFlingerëŠ” Bufferqueueì˜ ì†Œë¹„ìž ì—­í•  dumpsys SurfaceFlingerëª…ë ¹ì„ í†µí•´ ë ˆì´ì–´ì™€ ì—°ê´€ëœ ë²„í¼ ì •ë³´ë¥¼ í™•ì¸ ê°€ëŠ¥ Build configuration: [sf] [libui] [libgui]Sync configuration: [using: EGL_ANDROID_native_fence_sync EGL_KHR_wait_sync]DispSync configuration: app phase 0 ns, sf phase 0 ns, present offset 0 ns (refresh 16666666 ns)Visible layers (count = 6)+ LayerDim 0x9203b000 (DimLayer) Region transparentRegion (this=0x9203b178, count=1) [ 0, 0, 0, 0] Region visibleRegion (this=0x9203b008, count=1) [ 0, 0, 0, 0] layerStack= 0, z= 0, pos=(0,0), size=( 16, 16), crop=( 0, 0, -1, -1), isOpaque=0, invalidate=0, alpha=0xff, flags=0x00000001, tr=[1.00, 0.00][0.00, 1.00] client=0x954391c0 format= 0, activeBuffer=[ 0x 0: 0, 0], queued-frames=0, mRefreshPending=0 mTexName=4 mCurrentTexture=-1 mCurrentCrop=[0,0,0,0] mCurrentTransform=0 mAbandoned=0 -BufferQueue mMaxAcquiredBufferCount=1, mDequeueBufferCannotBlock=0, default-size=[1x1], default-format=1, transform-hint=00, FIFO(0)=&#123;&#125;+ LayerDim 0x92023000 (DimLayer) Region transparentRegion (this=0x92023178, count=1) [ 0, 0, 0, 0] Region visibleRegion (this=0x92023008, count=1) [ 0, 0, 0, 0] layerStack= 0, z= 0, pos=(0,0), size=( 16, 16), crop=( 0, 0, -1, -1), isOpaque=0, invalidate=0, alpha=0xff, flags=0x00000001, tr=[1.00, 0.00][0.00, 1.00] client=0x954391c0 format= 0, activeBuffer=[ 0x 0: 0, 0], queued-frames=0, mRefreshPending=0 mTexName=5 mCurrentTexture=-1 mCurrentCrop=[0,0,0,0] mCurrentTransform=0 mAbandoned=0 -BufferQueue mMaxAcquiredBufferCount=1, mDequeueBufferCannotBlock=0, default-size=[1x1], default-format=1, transform-hint=00, FIFO(0)=&#123;&#125;+ LayerDim 0x963ba000 (DimLayer) Region transparentRegion (this=0x963ba178, count=1) [ 0, 0, 0, 0] Region visibleRegion (this=0x963ba008, count=1) [ 0, 0, 0, 0] layerStack= 0, z= 0, pos=(0,0), size=( 16, 16), crop=( 0, 0, -1, -1), isOpaque=0, invalidate=0, alpha=0xff, flags=0x00000001, tr=[1.00, 0.00][0.00, 1.00] client=0x954391c0 format= 0, activeBuffer=[ 0x 0: 0, 0], queued-frames=0, mRefreshPending=0 mTexName=7 mCurrentTexture=-1 mCurrentCrop=[0,0,0,0] mCurrentTransform=0 mAbandoned=0 -BufferQueue mMaxAcquiredBufferCount=1, mDequeueBufferCannotBlock=0, default-size=[1x1], default-format=1, transform-hint=00, FIFO(0)=&#123;&#125;+ LayerDim 0x92021000 (DimLayer) Region transparentRegion (this=0x92021178, count=1) [ 0, 0, 0, 0] Region visibleRegion (this=0x92021008, count=1) [ 0, 0, 0, 0] layerStack= 0, z= 0, pos=(0,0), size=( 16, 16), crop=( 0, 0, -1, -1), isOpaque=0, invalidate=0, alpha=0xff, flags=0x00000001, tr=[1.00, 0.00][0.00, 1.00] client=0x954391c0 format= 0, activeBuffer=[ 0x 0: 0, 0], queued-frames=0, mRefreshPending=0 mTexName=8 mCurrentTexture=-1 mCurrentCrop=[0,0,0,0] mCurrentTransform=0 mAbandoned=0 -BufferQueue mMaxAcquiredBufferCount=1, mDequeueBufferCannotBlock=0, default-size=[1x1], default-format=1, transform-hint=00, FIFO(0)=&#123;&#125;+ Layer 0x92019000 (com.example /com.example.MainActivity) Region transparentRegion (this=0x92019178, count=1) [ 0, 0, 0, 0] Region visibleRegion (this=0x92019008, count=1) [ 0, 0, 1920, 1080] layerStack= 0, z= 21005, pos=(0,0), size=(1920,1080), crop=( 0, 0,1920,1080), isOpaque=1, invalidate=0, alpha=0xff, flags=0x00000002, tr=[1.00, 0.00][0.00, 1.00] client=0x96074440 format= 1, activeBuffer=[1920x1080:1920, 1], queued-frames=0, mRefreshPending=0 mTexName=9 mCurrentTexture=1 mCurrentCrop=[0,0,0,0] mCurrentTransform=0 mAbandoned=0 -BufferQueue mMaxAcquiredBufferCount=1, mDequeueBufferCannotBlock=0, default-size=[1920x1080], default-format=1, transform-hint=00, FIFO(0)=&#123;&#125; [00:0x9606d980] state=FREE , 0x96087380 [1920x1080:1920, 1] &gt;[01:0x9606da20] state=ACQUIRED, 0x96087440 [1920x1080:1920, 1] [02:0x9606dac0] state=FREE , 0x96087500 [1920x1080:1920, 1]+ Layer 0x9203d000 (FocusedStackFrame) Region transparentRegion (this=0x9203d178, count=1) [ 0, 0, 0, 0] Region visibleRegion (this=0x9203d008, count=1) [ 0, 0, 0, 0] layerStack= 0, z= 21006, pos=(0,0), size=( 1, 1), crop=( 0, 0, -1, -1), isOpaque=0, invalidate=0, alpha=0x4d, flags=0x00000001, tr=[1.00, 0.00][0.00, 1.00] client=0x954391c0 format= 1, activeBuffer=[ 0x 0: 0, 0], queued-frames=0, mRefreshPending=0 mTexName=3 mCurrentTexture=-1 mCurrentCrop=[0,0,0,0] mCurrentTransform=0 mAbandoned=0 -BufferQueue mMaxAcquiredBufferCount=1, mDequeueBufferCannotBlock=0, default-size=[1x1], default-format=1, transform-hint=00, FIFO(0)=&#123;&#125;Displays (1 entries)+ DisplayDevice: Built-in Screen type=0, hwcId=0, layerStack=0, (1920x1080), ANativeWindow=0x96225408, orient= 0 (type=00000000), flips=159, isSecure=1, secureVis=0, powerMode=2, activeConfig=0, numLayers=1 v:[0,0,1920,1080], f:[0,0,1920,1080], s:[0,0,1920,1080],transform:[[1.000,0.000,-0.000][0.000,1.000,-0.000][0.000,0.000,1.000]]mAbandoned=0-BufferQueue mMaxAcquiredBufferCount=1, mDequeueBufferCannotBlock=0, default-size=[1920x1080], default-format=1, transform-hint=00, FIFO(0)=&#123;&#125; [00:0x9606d3e0] state=FREE , 0x96086780 [1920x1080:1920, 1] [01:0x9606d480] state=FREE , 0x96086840 [1920x1080:1920, 1]&gt;[02:0x9606d520] state=ACQUIRED, 0x96086900 [1920x1080:1920, 1]SurfaceFlinger global state:EGL implementation : 1.4 Midgard-"r8p0-02rel0" EGL_ANDROID_image_native_buffer EGL_ANDROID_recordable EGL_ANDROID_native_fence_sync EGL_ANDROID_framebuffer_target EGL_ANDROID_blob_cache EGL_KHR_partial_update EGL_KHR_config_attribs EGL_KHR_image EGL_KHR_image_base EGL_KHR_fence_sync EGL_KHR_wait_sync EGL_KHR_gl_colorspace EGL_KHR_get_all_proc_addresses EGL_IMG_context_priority EGL_KHR_gl_texture_2D_image EGL_KHR_gl_renderbuffer_image EGL_KHR_create_context EGL_KHR_surfaceless_context EGL_KHR_gl_texture_cubemap_image EGL_EXT_create_context_robustnessGLES: ARM, Mali-T720, OpenGL ES 3.1 v1.r8p0-02rel0.b25106f7a00abf0fd922cfe23b51206fGL_EXT_debug_marker GL_ARM_rgba8 GL_ARM_mali_shader_binary GL_OES_depth24 GL_OES_depth_texture GL_OES_depth_texture_cube_map GL_OES_packed_depth_stencil GL_OES_rgb8_rgba8 GL_EXT_read_format_bgra GL_OES_compressed_paletted_texture GL_OES_compressed_ETC1_RGB8_texture GL_OES_standard_derivatives GL_OES_EGL_image GL_OES_EGL_image_external GL_OES_EGL_sync GL_OES_texture_npot GL_OES_vertex_half_float GL_OES_required_internalformat GL_OES_vertex_array_object GL_OES_mapbuffer GL_EXT_texture_format_BGRA8888 GL_EXT_texture_rg GL_EXT_texture_type_2_10_10_10_REV GL_OES_fbo_render_mipmap GL_OES_element_index_uint GL_EXT_shadow_samplers GL_OES_texture_compression_astc GL_KHR_texture_compression_astc_ldr GL_KHR_texture_compression_astc_hdr GL_KHR_debug GL_EXT_occlusion_query_boolean GL_EXT_disjoint_timer_query GL_EXT_blend_minmax GL_EXT_discard_framebuffer GL_OES_get_program_binary GL_OES_texture_3D GL_EXT_texture_storage GL_EXT_multisampled_render_to_texture GL_OES_surfaceless_context GL_OES_texture_stencil8 GL_EXT_shader_pixel_local_storage GL_ARM_shader_framebuffer_fetch GL_ARM_shader_framebuffer_fetch_depth_stencil GL_ARM_mali_program_binary GL_EXT_sRGB GL_EXT_sRGB_write_control GL_EXT_texture_sRGB_decode GL_KHR_blend_equation_advanced GL_KHR_blend_equation_advanced_coherent GL_OES_texture_storage_multisample_2d_array GL_OES_shader_image_atomic GL_EXT_robustness GL_EXT_texture_border_clamp GL_OES_texture_border_clamp GL_EXT_texture_cube_map_array GL_OES_texture_cube_map_array GL_OES_sample_variables GL_OES_sample_shading GL_OES_shader_multisample_interpolation GL_EXT_shader_io_blocks GL_OES_shader_io_blocks GL_EXT_gpu_shader5 GL_OES_gpu_shader5 GL_EXT_texture_buffer GL_OES_texture_buffer GL_EXT_copy_image GL_OES_copy_image Region undefinedRegion (this=0x960b352c, count=1) [ 0, 0, 0, 0] orientation=0, isDisplayOn=1 last eglSwapBuffers() time: 7657.042000 us last transaction time : 180.167000 us transaction-flags : 00000000 refresh-rate : 60.000002 fps x-dpi : 159.895004 y-dpi : 160.421005 gpu_to_cpu_unsupported : 0 eglSwapBuffers time: 0.000000 us transaction time: 0.000000 usVSYNC state: disabled soft-vsync: disabled numListeners=9, events-delivered: 297 0x9544c038: count=-1 0x9544c060: count=-1 0x9544c088: count=-1 0x9544c0b0: count=-1 0x96038b78: count=-1 0x96038ba0: count=-1 0x96038bf0: count=-1 0x96038f38: count=-1 0x96038f60: count=-1h/w composer state: h/w composer present and enabledHardware Composer state (version 01010000): mDebugForceFakeVSync=0 Display[0] configurations (* current): * 0: 1920x1080, xdpi=159.895004, ydpi=160.421005, refresh=16666666 numHwLayers=2, flags=00000000 type | handle | hint | flag | tr | blnd | format | source crop (l,t,r,b) | frame | name-----------+----------+------+------+----+------+-------------+--------------------------------+------------------------+------ HWC | 96087440 | 0000 | 0000 | 00 | 0100 | RGBA_8888 | 0, 0, 1920, 1080 | 0, 0, 1920, 1080 | com.example /com.example FB TARGET | 96086900 | 0000 | 0000 | 00 | 0105 | RGBA_8888 | 0, 0, 1920, 1080 | 0, 0, 1920, 1080 | HWC_FRAMEBUFFER_TARGETAllocated buffers:0x96086780: 8100.00 KiB | 1920 (1920) x 1080 | 1 | 0x00001a000x96086840: 8100.00 KiB | 1920 (1920) x 1080 | 1 | 0x00001a000x96086900: 8100.00 KiB | 1920 (1920) x 1080 | 1 | 0x00001a000x96087380: 8100.00 KiB | 1920 (1920) x 1080 | 1 | 0x00000b000x96087440: 8100.00 KiB | 1920 (1920) x 1080 | 1 | 0x00000b000x96087500: 8100.00 KiB | 1920 (1920) x 1080 | 1 | 0x00000b00Total allocated (estimate): 48600.00 KB Canvas Rendering Skia Graphics Library : ë Œë”ë§ ë¡œìš°ë ˆë°¸ ì²˜ë¦¬ SkiaëŠ” ë°”ì´íŠ¸ë¥¼ ë²„í¼ì˜ í˜•íƒœë¡œ êµ¬ì„±ê¸° ìœ„í•´ ê·¸ë¦¬ê³  ë©€í‹° í´ë¼ì´ì–¸íŠ¸ì— ì˜í•œ ë™ì‹œ ì—…ë°ì´íŠ¸ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´, ë²„í¼ ì•¡ì„¸ìŠ¤ ë½ì„ ì‚¬ìš©í•œë‹¤. lockCanvas() : ë²„í¼ì— ë½ì„ ê±¸ê³  ë“œë¡œìž‰ì„ ìœ„í•œ Canvasë¥¼ ë¦¬í„´ unlockCanvasAndPost() :ë²„í¼ì— ë½ì„ í•´ì œ í•˜ê³  compositorë¡œ ì „ë‹¬ í•˜ë“œì›¨ì–´ ê°€ì† Canvas API (OpenGL ES ì§€ì›ì„ ìœ„í•¨) View onDraw Canvas : í•˜ë“œì›¨ì–´ ê°€ì† ê°€ëŠ¥ APPì´ ì§ì ‘ lockCanvas()ë¥¼ í†µí•´ ìº ë²„ìŠ¤(surface)ë¥¼ ì–»ì–´ ì˜¤ëŠ” ê²ƒê³¼ëŠ” ë‹¤ë¦„ : ì‚¬ìš©ìž lock Canvas ê¸°ë°˜ CPUëžœë”ëŸ¬ëŠ” GLESë¡œ Surfaceë“œë¡œìž‰ì„ í•  ìˆ˜ ì—†ê±°ë‚˜ ë¹„ë””ì˜¤ ë””ì½”ë”ì— ì¶œë ¥ëœ í”„ë ˆìž„ì„ ë³´ë‚¼ ìˆ˜ ì—†ë‹¤. Canvasë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  Surfaceì— ì§ì ‘ ë“œë¡œìž‰ í•˜ëŠ” ì£¼ìš” ë°©ë²•ì€ OpenGL ESë¥¼ ì‚¬ìš©í•˜ë©´ ë¨ SurfaceHoldersurfaceì™€ ê´€ë ¨ëœ ìž‘ì—…ì€ surfaceHolderì™€ surfaceViewê°€ í•„ìš”í•¨ surface : compositorì— ê´€ë¦¬ ë˜ëŠ” ë²„í¼ surfaceholder : ì•±ì— ì˜í•´ ê´€ë¦¬ë˜ê³  surfaceì˜ í¬ê¸°ë‚˜ í¬ë§·ê°™ì€ ê³ ìˆ˜ì¤€ ì •ë³´ë¥¼ ê´€ë¦¬ viewì™€ ê´€ë ¨ëœ ìž‘ì—…ì€ surfaceholderë¥¼ í¬í•¨í•˜ê³ , MediaCodecê°™ì€ APIë“¤ì€ surfaceìƒì—ì„œ ë™ìž‘í•œë‹¤. SurfaceëŠ” surfacehoderë¥¼ í†µí•´ ì–»ì„ ìˆ˜ ìžˆë‹¤. surfaceì˜ ì„¤ì • ì •ë³´ë“¤ì„ ì–»ê³ ìž í•˜ë©´ surfacehoderë¥¼ í†µí•´ êµ¬í•˜ë©´ ëœë‹¤. SurfaceViewSurface + View surfaceview -&gt; íˆ¬ëª… -&gt; viewì»´í¬ë„ŒíŠ¸ ì‹œê°í™” ì‹œìž‘ -&gt; windowmanager -&gt; sufaceflingerê°€ surfaceìƒì„± ìš”ì²­ ë¹„ë™ê¸°ì  ìž‘ë™ìœ¼ë¡œ surfaceìƒì„± ì™„ë£Œì‹œ callbackì²˜ë¦¬ í•´ì•¼í•œë‹¤ ìƒˆë¡œìš´ srufaceëŠ” ë³´ì´ì§€ ì•ŠëŠ” ì˜ì—­ì— ìƒê¹€, z orderingì„ í†µí•´ ìƒìœ„ë¡œ ì˜¬ë ¤ì•¼í•¨ view íŽ€ì¹­ì„ í†µí•œ í™”ë©´ ì œê³µ ë°©ì‹ì´ë‹¤. &quot;surfaceview -&gt; window -&gt; surface -&gt; ì‚¬ìš©ìž ëˆˆ&quot; ì´ë¼ê³  í–ˆì„ë•Œ windowì— fixedëœ ì°½ì„ ëš«ëŠ” ë°©ì‹ì´ë‹¤. ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ì¸í•´ SurfaceViewëŠ” transformation, animation ë“±ì˜ ì²˜ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. SurfaceTextureSurface + GLES Texture ì¡°í•© SurfaceTextureìƒì„± -&gt; BufferQueue ìƒì„± -&gt; ìƒìƒìž SurfaceTexture ìƒì„± -&gt; Bufferqueue ì¸í -&gt; onFrameAvailable() í†µì§€ -&gt; updateTexImage ë©”ì„œë“œ í˜¸ì¶œ -&gt; bufferqueue ë²„í¼ ì–»ìŒ getTimestamp() : timestamp ì •ë³´ getTransformMatrix : ê°€ìž ìµœê·¼ í˜¸ì¶œëœ updateTexImage()ë©”ì„œë“œ ì„¤ì •ëœ ë³€í™˜ í–‰ë ¬() ë³€í™˜í–‰ë ¬ : ìž˜ëª»ëœ ì†ŒìŠ¤ë°ì´í„°ë¥¼ ë³´ì • ê°€ëŠ¥ timestamp : ì¹´ë©”ë¼ ì½”ë“œì— ì˜í•´ ì„¤ì •ë˜ë©° í”„ë ˆìž„ì´ ìº¡ì²˜ë ë•Œ ê¸°ì¤€ìœ¼ë¡œ ë¦¬í„´ëœë‹¤. surfaceviewì™€ëŠ” ë‹¤ë¥´ê²Œ view ê·¸ë£¹ì˜ í•˜ì´ì–´ëŸ¬í‚¤ì— í¬í•¨ëœë‹¤. (surfaceviewì˜ renderingì€ ë‹¤ë¥¸ view ê·¸ë£¹ì˜ ëžœë”ë§ê³¼ ë…ë¦½ìœ¼ë¡œ ì²˜ë¦¬ ë˜ëŠ”ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.) ê·¸ë ‡ê¸°ì— surfacetextureëŠ” transformation, animation ì²˜ë¦¬ ë“±ì´ ê°€ëŠ¥í•˜ë‹¤ ê·¸ëŸ¬ë‚˜ memory ì‚¬ìš©ëŸ‰ì´ ìƒëŒ€ì ìœ¼ë¡œ ë†’ê³ , í•´ë‹¹ surfaceì˜ redrawê°€ í•´ë‹¹ ê·¸ë£¹ ì „ì²´ì˜ redrawì— ì˜í–¥ì„ ì¤„ìˆ˜ ìžˆë‹¤. video playerë¥¼ ê°œë°œí•˜ê²Œ ë˜ë©´ ì‚¬ì‹¤ìƒ surfacetextureë¥¼ ì‚¬ìš©í•  ìˆ˜ ë°–ì— ì—†ëŠ”ë° fullscreen modeê°€ ì „ì œ ëœë‹¤ë©´ surfaceviewë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤(drm contentsëŠ” surfaceview ì‚¬ìš© ê¶Œìž¥) í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ëŠ” ë°˜ë“¯ì´ í•˜ë“œì›¨ì–´ ë Œë”ë§ì„ ì§€ì›í•´ì•¼ í•œë‹¤. TextureViewView + SurfaceTexture TextureViewëŠ” SurfaceTextureë¥¼ wrapí•˜ê³  ìžˆìŒ SurfaceTexture Callback ì‘ë‹µì²˜ë¦¬, ì‹ ê·œ ë²„í¼ íšë“ ì²˜ë¦¬ ì—­í•  View invalidate ìš”ì²­ : ì‹ ê·œ ë²„í¼ ìˆ˜ì‹  ì‹œ ìž¥ì  : View ê³„ì¸µ êµ¬ì¡°ì— ì†Œì†ë˜ì–´ ë™ìž‘, ë‹¤ë¥¸ Viewì™€ ë™ì¼, API ìž„ì˜ ë³€í™˜ ìˆ˜í–‰ ë° ë¹„íŠ¸ë§µì„ ì»¨í…ì¸ ë¡œ ë¡œë“œê°€ëŠ¥ ë‹¨ì  : í•©ì„± ë‹¨ê³„ ì„±ëŠ¥, View í•©ì„±ì´ GLESë¡œ ìˆ˜í–‰ë˜ê³  ë‹¤ë¥¸ View ìš”ì†Œë“¤ì˜ ë¦¬ë“œë¡œìž‰ì„ ë°œìƒ ì‹œí‚´. Video ì²˜ë¦¬ ë“±ì„ ìœ„í•´ì„œëŠ” SurfaceViewê°€ ë” ì¢‹ì€ ì„±ëŠ¥ì„ ì œê³µ (DRM ContentsëŠ” SurfaceViewë¡œë§Œ êµ¬í˜„ ê°€ëŠ¥)]]></content>
      <tags>
        <tag>Android</tag>
        <tag>surfaceview</tag>
        <tag>textureview</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[android memory leak ì²˜ë¦¬]]></title>
    <url>%2Fandroid-memory-leak%2F</url>
    <content type="text"><![CDATA[Inner Class ëˆ„ìˆ˜Activity ë‚´ë¶€ì— ì•„ëž˜ì™€ ê°™ì´ Inner Classë¥¼ ì •ì˜ í•  ê²½ìš° ìž ìž¬ì ìœ¼ë¡œ ëˆ„ìˆ˜ì˜ ëŒ€ìƒì´ ëœë‹¤. ... public class MainActivity extends Activity &#123; private static Innserclass inner; private String mStr; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main2); inner = new Innserclass(); new Thread(inner).start(); mStr = "hello"; &#125; public class Innserclass implements Runnable &#123; public Innserclass() &#123; mStr+="nono!!"; &#125; @Override public void run() &#123; getApplicationContext(); &#125; &#125;&#125; ì²«ë²ˆì§¸ ëˆ„ìˆ˜ ì‚¬ìœ ëŠ” staticì´ë‹¤. private static Innserclass inner; ì¼ë‹¨ staticì— memoryë¥¼ assigneí•˜ê²Œ ë˜ë©´ í•´ë‹¹ instanceëŠ” ëª¨ classì¸ activityì™€ëŠ” ë³„ë„ë¡œ ë©”ëª¨ë¦¬ ìƒì— ì‚´ì•„ ë‚¨ê²Œ ëœë‹¤. ë‘ë²ˆì§¸ ì‚¬ìœ ëŠ” thread ì²˜ë¦¬ì´ë‹¤. inner classë¥¼ threadì²˜ë¦¬ í•¨ìœ¼ë¡œì¨ (ì´ê²½ìš°ëŠ” postdelayë„ ë§ˆì°¬ê°€ì§€ë‹¤) UI Threadê°€ ì£½ì–´ë„ ì‚´ì•„ ë‚¨ì„ ê°€ëŠ¥ ì„±ì´ ìžˆë‹¤. Destroy ì‹œì ì— ë°˜ë“¯ì´ threadë¥¼ ì¢…ë£Œ ì²˜ë¦¬ í•´ì¤˜ì•¼ í•œë‹¤. handlerë„ ì´ ê²½ìš°ì— ì†í•˜ê²Œ ëœë‹¤. ì„¸ë²ˆì§¸ ì‚¬ìœ ëŠ” InnerClass ìžì²´ì— ìžˆë‹¤. ì²«ë²ˆì§¸ ì‚¬ìœ ë“  ë‘ë²ˆì§¸ ì‚¬ìœ ë“  í•´ë‹¹ InstanceëŠ” ìž ìž¬ì ìœ¼ë¡œ ëª¨ Classì˜ Contextë¥¼ ì ‘ê·¼ í•  ìˆ˜ ìžˆê²Œ ëœë‹¤. ì½”ë“œìƒìœ¼ë¡  mStr+=&quot;nono!!&quot;; ì´ ë¶€ë¶„ì´ë‹¤. í•´ê²° ë°©ë²•ì€ ë‹¤ìŒê³  ê°™ë‹¤. Innser Classë¥¼ ì ˆëŒ€ë¡œ static ì²˜ë¦¬ í•˜ì§€ ë§ì•„ë¼- private static Innserclass inner;+ private Innserclass inner; Destroyì‹œì ì— Activityì™€ ê°™ì´ ì¢…ë£Œí•  ìˆ˜ìžˆë‹¤ë©´ ìƒê´€ì´ ì—†ì„ ìˆ˜ëŠ” ìžˆë‹¤. ê·¸ëŸ¬ë‚˜ ë¼ì´í”„ ì‚¬ì´í´ì´ Activityì™€ ê°™ë‹¤ë©´ Staticì„ ì“¸ ì´ìœ ê°€ ì—†ë‹¤. Inner ClassëŠ” staticìœ¼ë¡œ ì •ì˜ í•˜ë˜ê°€ ì™„ì „ížˆ ë³„ë„ íŒŒì¼ë¡œ ì œì™¸ë¥¼ ì‹œì¼œë¼- public class Innserclass implements Runnable &#123;+ public static class Innserclass implements Runnable &#123; static ì²˜ë¦¬ë¥¼ í•˜ê²Œ ë˜ë©´ í•´ë‹¹ í´ëž˜ìŠ¤ëŠ” ëª¨ classì™€ ë…ë¦½ëœ ë©”ëª¨ë¦¬ ì°¸ì¡° êµ¬ì¡°ë¥¼ ê°–ê²Œ ë˜ì–´ ë…ë¦½í•˜ê²Œ ëœë‹¤. weekReferneceë¥¼ ì‚¬ìš©í•´ë¼+ public static class Innserclass implements Runnable &#123;+ private final WeakReference&lt;MainActivity&gt; mActivity; public Innserclass(MainActivity activity) &#123;+ mActivity = new WeakReference&lt;&gt;(activity); &#125; @Override public void run() &#123;- getApplicationContext();+ mActivity.getApplicationContext(); &#125; &#125; ì§ì ‘ì ì¸ Referenceë¥¼ ì£¼ìž…í•´ì„œëŠ” ì•ˆëœë‹¤. ë°˜ë“¯ì´ weekReferneceë¥¼ ì´ìš©í•´ì„œ contextë¥¼ ê³µìœ  í•´ì•¼í•œë‹¤. threadì™€ ê°™ì´ Main Threadì˜ ë²”ìœ„ ë°–ì—ì„œ ìž‘ë™ì´ ëœë‹¤ë©´ MainActivityê°€ ëª…ì‹œì ìœ¼ë¡œ ì¢…ë£Œ ë˜ì–´ë„ í•´ë‹¹ Contextê°€ ë³„ë„ì˜ Threadì— ë‚¨ì•„ìžˆê²Œ ë˜ì–´ì„œ Memory Leakì´ ë‚˜ê²Œ ëœë‹¤. Handler ëˆ„ìˆ˜ë‚´ìš©ìƒìœ¼ë¡œëŠ” Inner classì™€ ë™ì¼í•˜ë‹¤. weekreferenceë¥¼ ì´ìš©í•´ì„œ instanceë¥¼ ìƒì„±í•˜ê²Œ í•´ì•¼í•œë‹¤. private static class MainHandler extends Handler &#123; private final WeakReference&lt;MainActivity&gt; mActivity; public MainHandler(MainActivity activity) &#123; mActivity = new WeakReference&lt;&gt;(activity); &#125; ê¸°ë³¸ ì ì¸ handlerì˜ constructorëŠ” ì¸ìˆ˜ê°€ ì—†ìŒìœ¼ë¡œ ê°•ì œë¡œ ë„£ì–´ì•¼ë§Œ í•œë‹¤. ê·¸ë¦¬ê³  ì¢…ë£Œì‹œì—ëŠ” ë°˜ë“¯ì´ ë‹¤ìŒ í–‰ìœ„ë¥¼ ì²˜ë¦¬í•´ì¤˜ì•¼ í•œë‹¤. @Overrideprotected void onDestroy() &#123; super.onDestroy(); if (MainHandler != null) &#123; MainHandler.removeCallbacksAndMessages(null); MainHandler = null; &#125; í˜¹ì‹œ ë‚¨ì•„ ìžˆì„ì§€ ëª¨ë¥´ëŠ” ë©”ì‹œì§€ í ë‚´ìš©ì„ clearí•´ì¤˜ì•¼ í•œë‹¤. Webview ëˆ„ìˆ˜webviewë¥¼ ì‚¬ìš©í• ë•ŒëŠ” í•´ë‹¹ view itemì´ destoryê°€ ì™„ì „ížˆ ë˜ì—ˆê³ , ê·¸ì—ë”°ë¥¸ ë©”ëª¨ë¦¬ ë°˜ë‚©ì´ ì´ë£¨ì–´ ì¡ŒëŠ”ì§€ í™•ì¸í•´ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ Nativeì˜ì—­ê³¼ Othersì˜ì—­ì˜ ë©”ëª¨ë¦¬ê°€ ì§€ì† ëˆ„ì ë˜ëŠ” í˜„ìƒì´ ë°œìƒ í•˜ê²Œ ëœë‹¤. ì´ëŸ¬í•œ í˜„ìƒì€ layoutìƒì— ìžˆëŠ” webviewë¥¼ callí•˜ê²Œ ë˜ë©´ êµ‰ìž¥ížˆ ë†’ì€ í™•ë¥ ë¡œ Leakì´ ë°œìƒí•˜ê²Œ ëœë‹¤. ì•„ëž˜ëŠ” activity_main.xmlê³¼ MainActivity ìˆ˜ë„ ì½”ë“œì´ë‹¤ &lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent" android:layout_height="match_parent" android:id="@+id/webviewHell" tools:context=".MainActivity"&gt; &lt;WebView android:id="@+id/activity_main_webview" android:layout_width="match_parent" android:layout_height="match_parent" /&gt; &lt;/RelativeLayout&gt; public class MainActivity extends Activity &#123; private WebView mWebView; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); getApplicationContext(); mWebView = findViewById(R.id.activity_main_webview); Destoryì‹œ ë‹¤ìŒê³¼ ê°™ì€ codeë¥¼ ë„£ì–´ ë³´ì•„ë„ ë©”ëª¨ë¦¬ leakì´ ë‚˜ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ìžˆë‹¤. .....@Overrideprotected void onDestroy() &#123; super.onDestroy(); mWebView.clearHistory(); mWebView.destroyDrawingCache(); mWebView.setWebViewClient(null); mWebView.setWebChromeClient(null); mWebView.removeAllViews(); mWebView.clearCache(true); mWebView.freeMemory(); mWebView.removeAllViewsInLayout(); mWebView.setVisibility(View.GONE); mWebView.destroy(); mWebView = null; webviewëŠ” instance ìƒì„±ì„ í†µí•´ì„œ ì²˜ë¦¬í•´ë¼... RelativeLayout mWebviewlayout; WebView mWebView; protected void onCreate(Bundle savedInstanceState) &#123; mWebviewlayout = (RelativeLayout) findViewById(R.id.webviewHell); mWebView = new WebView(getApplicationContext()); mWebView.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT,LayoutParams.MATCH_PARENT)); mWebviewlayout.addView(mWebView); ... ì™„ì „ížˆ ì—°ê´€ ë¦¬ë¡œìŠ¤ë¥¼ clearí•´ë¼@Override protected void onDestroy() &#123; super.onDestroy(); mWebView.removeJavascriptInterface("bridge"); mWebView.loadUrl("about:blank"); jsInterface = null; mJSCallback = null; mWebviewlayout.destroyDrawingCache(); mWebviewlayout.removeAllViews(); mWebviewlayout.removeAllViewsInLayout(); mWebviewlayout.setVisibility(View.GONE); mWebviewlayout = null; mWebView.clearHistory(); mWebView.destroyDrawingCache(); mWebView.setWebViewClient(null); mWebView.setWebChromeClient(null); mWebView.removeAllViews(); mWebView.clearCache(true); mWebView.freeMemory(); mWebView.removeAllViewsInLayout(); mWebView.setVisibility(View.GONE); mWebView.destroy(); mWebView = null; ìƒìœ„ destroy ì½”ë“œëŠ” ë‹¤ì†Œ ê³¼í•˜ë‹¤ ì‹¶ì„ ì •ë„ë¡œ removeí•˜ê³  ìžˆë‹¤. ì—¬ê¸°ì„œ ì£¼ì˜ ê¹Šê²Œ ë´ì•¼í•  ê²ƒì€ mWebView.freeMemory(); ì´ê²ƒì´ë‹¤. freeMemory apiëŠ” deprecatedë˜ì—ˆë‹¤. ê³µì‹ ë¬¸ì„œì—ì„œëŠ” ì´ ê¸°ëŠ¥ì„ ëŒ€ì²´ í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ mWebView.loadUrl(&quot;about:blank&quot;); ì‚¬ìš©ì„ ê¶Œìž¥í•œë‹¤. ìµœí›„ì—ëŠ” app dataë¥¼ ì „ë¶€ ì‚­ì œí•´ë¼public static void deleteCache(Context context) &#123; try &#123; File dir = context.getCacheDir(); deleteDir(dir); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125;&#125;public static boolean deleteDir(File dir) &#123; if (dir != null &amp;&amp; dir.isDirectory()) &#123; String[] children = dir.list(); for (int i = 0; i &lt; children.length; i++) &#123; boolean success = deleteDir(new File(dir, children[i])); if (!success) &#123; return false; &#125; &#125; return dir.delete(); &#125; else if(dir!= null &amp;&amp; dir.isFile()) &#123; return dir.delete(); &#125; else &#123; return false; &#125;&#125; ì•ˆë“œë¡œì´ë“œëŠ” apkë³„ë¡œ ë°ì´íƒ€ë¥¼ ìž„ì‹œ ì €ìž¥í•  ìˆ˜ ìžˆëŠ” ê³µê°„ì´ ìžˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ adb shellì„ ì§„ìž…í–ˆì„ë•Œ /data/&lt;&lt;app package&gt;&gt; ì´í•˜ë¥¼ ê°€ë¥´í‚¤ê²Œ ëœë‹¤. í•´ë‹¹ í´ë” ì´ë‚´ì— ìžˆëŠ” ë””ë ‰í† ë¦¬ë¥¼ ëª¨ë‘ ë‹¤ ì§€ìš°ëŠ” í–‰ìœ„ìž„ìœ¼ë¡œ, ì£¼ì˜ ê¹Šê²Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ImageView ì‚¬ìš©Bitmapì— ëŒ€í•œ ì´ë¯¸ì§€ ë¦­ì€ ë§¤ìš° ìœ ëª…í•˜ë‹¤. í—ˆë‹ˆì½¤(3.2)ì„ ê¸°ì¤€ìœ¼ë¡œ ì´ì „ì—ëŠ” Bitmap ì •ë³´ë¥¼ Native Heapì˜ì—­ì— ë‹´ê³  ì´ë¥¼ í¬ì¸íŒ… ì²˜ë¦¬í•˜ë„ë¡ ë˜ì–´ìžˆì—ˆë‹¤. ì´ë¯¸ì§€í¬ì¸í„°(java heap) -&gt; char[] (native heap) í•˜ì§€ë§Œ ì´ëŠ” í¬ì¸í„°ë¥¼ ìžŠëŠ” ìˆœê°„ Nativeì˜ì—­ì— í•´ì†Œ ë˜ì§€ ì•ŠëŠ” ë©”ëª¨ë¦¬ ë¦­ì„ ë°œìƒ ì‹œì¼°ê³  ì´ì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë©”ëª¨ë¦¬ ì˜ì—­ì„ Heap ì˜ì—­ìœ¼ë¡œ ì˜®ê²¼ë‹¤ . Profilerì—ì„œë„ ë³´ë©´ ë¹„íŠ¸ë§µ íž™ ì˜ì—­ì„ ë³„ë„ë¡ ë³¼ìˆ˜ìžˆê²Œ í•˜ì˜€ë‹¤. ê·¸ë ‡ë‹¤ê³  Bitmapì— ëŒ€í•œ ë©”ëª¨ë¦¬ ë¦­ì´ ì‚¬ë¼ì§€ì§„ ì•Šì•˜ë‹¤. ë¬´ì¡°ê±´ Image ViewëŠ” recycle ì²˜ë¦¬ë¥¼ í•´ì¤˜ì•¼ í•œë‹¤. ... ImageView image = (ImageView) findViewById(R.id.loadingImage); Bitmap myBitmap = BitmapFactory.decodeFile(imgFile.getAbsolutePath()); image.setImageBitmap(myBitmap); ... @Override protected void onDestroy() &#123; super.onDestroy(); image.recycle(); ê·¸ëŸ¬ë‚˜ ì´ì™€ ê°™ì€ ì½”ë“œ ìž‘ì„±ì„ ìœ„í•´ì„œ Bitmapì„ ëª¨ë‘ class ë³€ìˆ˜ë¡œ ëŒì–´ ë‚´ëŠ”ê±´ ì¢‹ì§€ ì•ŠìŒìœ¼ë¡œ ë‹¤ìŒ ì½”ë“œë¥¼ ì‚¬ìš©í•´ì„œ recycleì²˜ë¦¬ í•  ìˆ˜ ìžˆë‹¤. private static void recycleBitmap(ImageView imageView) &#123; if (imageView != null) &#123; Drawable d = imageView.getDrawable(); if (d != null &amp;&amp; d instanceof BitmapDrawable) &#123; Bitmap b = ((BitmapDrawable)d).getBitmap(); if (b != null) &#123; b.recycle(); &#125; &#125; imageView.setImageResource(android.R.color.transparent); imageView.setImageBitmap(null); &#125;&#125; ë‹¨, ì£¼ì˜í•´ì•¼í•  ì½”ë“œê°€ ìžˆë‹¤. ImageView image = (ImageView) findViewById(R.id.loadingImage); Bitmap myBitmap = BitmapFactory.decodeFile(imgFile.getAbsolutePath());- image.setImageBitmap(myBitmap);+ image.setBackgroundResource(myBitmap); setBackgroundResourceì˜ ê²½ìš°ëŠ” recycle ì²˜ë¦¬ê°€ ì–´ë µë‹¤. í•´ë‹¹ ë©”ì„œë“œëŠ” ImageViewê°€ ì•„ë‹Œ Viewìžì²´ì˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ Drawable ê°ì²´ë¥¼ ë°˜í™˜í•˜ì§€ ì•ŠëŠ”ë‹¤.]]></content>
      <tags>
        <tag>Android</tag>
        <tag>Memory</tag>
        <tag>Leak</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[android_ART_GC_Log]]></title>
    <url>%2Fandroid-ART-GC-Log%2F</url>
    <content type="text"><![CDATA[Android Memory ARTARTì˜ ëª©ì ì•ˆë“œë¡œì´ë“œ ìƒ ì‹œìŠ¤í…œì´ë‚˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì— ì˜í•´ ê´€ë¦¬ ë˜ëŠ” Android Runtimeì„ ëŒ€í‘œ í•˜ëŠ” ë§ë¡œì¨, ì˜¤ì§ ì•ˆë“œë¡œì´ë“œ í”„ë¡œì íŠ¸ë¥¼ ìœ„í•´ì„œë§Œ ë§Œë“¤ì–´ì¡Œë‹¤. ARTë‚˜ ë‹¬ë¹…ì˜ ê²½ìš°ëŠ” Dex bytecode ëŸ¬ë‹ì— ì í•©í•˜ê²Œ ë§Œë“¤ì–´ ì¡Œë‹¤. Ahead-of-tiem (AOT) compilationì¸ìŠ¤í†¨ ë° ìž‘ë™ ì‹œê°„ì„ ë¹ ë¥´ê²Œ í•˜ê¸° ìœ„í•´ ìžˆëŠ” ê²ƒìœ¼ë¡œ ìµœì´ˆ apkë¥¼ installí•˜ê²Œ ë˜ë©´ dex2oatë¼ëŠ” device ë‚´ë¶€ì— ìžˆëŠ” toolì„ ì´ìš©í•´ì„œ ìž‘ë™ê°€ëŠ¥í•œ ìƒíƒœë¡œ ë§Œë“¤ì–´ ì¤€ë‹¤. Improved garbage collection GCë¥¼ í•œë²ˆì— ì²˜ë¦¬í•˜ê²Œ ë§Œë“ ë‹¤ GC pauseë™ì•ˆ ë³‘í–‰ í”„ë¡œì„¸ìŠ¤ ì²˜ë¦¬ë¥¼ í•œë‹¤ ìž‘ì€ ê°ì²´(ë§Œë“¤ì–´ì§„ì§€ ì–¼ë§ˆ ì•ˆëœ ê°ì²´, short live ê°ì²´)ë“¤ì„ ìˆ˜ì§‘í•œë‹¤ GC ì²˜ë¦¬ë¥¼ ì ì ˆí•˜ê²Œ ë³‘í–‰ ì²˜ë¦¬ í•¨ìœ¼ë¡œì¨ GC_FOR_ALLOCì´ ìµœëŒ€í•œ ë°œìƒ í•˜ì§€ ì•Šê²Œ í•œë‹¤ ë°±ê·¸ë¼ìš´ë“œ ë©”ëª¨ë¦¬ ì‚¬ìš©ì´ë‚˜, ë©”ëª¨ë¦¬ íŒŒíŽ¸í™”ë¥¼ ì¤„ì—¬ ì¤€ë‹¤ (Compacting GC) Development and debugging improvementsì•„ëž˜ì™€ ê°™ì€ ì˜¤ë¥˜ ì •ë³´ë“¤ì„ ARTê°€ ì œê³µí•˜ê²Œ ëœë‹¤. java.lang.NullPointerException: Attempt to write to field &apos;intandroid.accessibilityservice.AccessibilityServiceInfo.flags&apos; on a null objectreference ART ë¡œê·¸ ì„¤ëª…Art(Android Runtime)ëŠ” ëª…ì‹œì ìœ¼ë¡œ ìš”ì²­ëœ Garbage Collectionì— ëŒ€í•´ì„œë§Œ ê²°ê³¼ë¥¼ ì¶œë ¥í•¨ ì¶œë ¥ í˜•íƒœëŠ” ë‹¤ìŒê³¼ ê°™ìŒ I/art: &lt;GC_Reason&gt; &lt;GC_Name&gt; &lt;Objects_freed&gt;(&lt;Size_freed&gt;) AllocSpace Objects, &lt;Large_objects_freed&gt;(&lt;Large_object_size_freed&gt;) &lt;Heap_stats&gt; LOS objects, &lt;Pause_time(s)&gt; ì‹¤ì œ ì‚¬ìš©ì€ ë‹¤ìŒê³¼ ê°™ì´ ì¶œë ¥ë¨ I art : Explicit concurrent mark sweep GC freed 64(14KB) AllocSpace objects, 2(72KB) LOS objects, 24% free, 4MB/5MB, paused 448us total 20.082ms: ì¡°ê¸ˆë” ìžì„¸í•˜ê²Œ ë‚˜ëˆ„ì–´ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ìŒ Type ëŒ€ìƒ ì„¤ëª… GC_Reason Explicit - Concurrent : ì•±ìŠ¤ë ˆë“œ ì¤‘ë‹¨ ì•ŠëŠ” GC (ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰)- Alloc : íž™ì´ ì´ë¯¸ ê°€ë“ ì°¨ì„œ ë” ì´ìƒ ìš”ì²­ë°›ì€ ë©”ëª¨ë¦¬ í• ë‹¹ì„ í•  ìˆ˜ì—†ì–´ì„œ, GCë¥¼ ìš°ì„  ì‹¤í–‰ ì‹œí‚´-Explicit : ì•±ì´ ëª…ì‹œì ì¸ GCë¥¼ ìš”ì²­í•¨. gc() í˜¸ì¶œ- NativeAlloc : Bitmapë˜ëŠ” Renderscript í• ë‹¹ê³¼ ê°™ì€ Native ë©”ëª¨ë¦¬ í• ë‹¹ì„ ìœ„í•´ì„œ ì‹¤í–‰ ë˜ëŠ” GC (í—ˆë‹ˆë¹„ë¥¼ ê¸°ì ìœ¼ë¡œ Bitmapì€ íž™ìœ¼ë¡œ ìœ„ì¹˜ë¥¼ ë³€ê²½í•˜ì˜€ë‹¤)- CollectorTransition : RAM ì‚¬ì–‘ì´ ë‚®ì€ ê¸°ê¸°ì—ì„œ ì•±ì˜ í”„ë¡œì„¸ìŠ¤ ìƒíƒœ ì¼ì‹œ ì¤‘ì§€ ë° ì¸ì‹ í•  ìˆ˜ì—†ëŠ” ìƒíƒœë¡œ ë³€ê²½ í• ë•Œ ë³€í™˜ì´ ë°œìƒí•¨(ë©”ëª¨ë¦¬ ê³µê°„ì„ ë²”í”„ í¬ì¸í„° ê³µê°„ìœ¼ë¡œ ë³µì‚¬í•˜ëŠ” ìž‘ì—…ìž„)(Eden ì˜ì—­ì—ì„œ -&gt; Survivor ì˜ì—­ìœ¼ë¡œì˜ ì „í™˜ ê³¼ì •ìœ¼ë¡œ ë³´ìž„)- HomogeneousSpaceCompact : ì‚¬ìš©ê°€ëŠ¥í•œ ê³µê°„(ë©”ëª¨ë¦¬ë¡œ ë³´ìž„)ì˜ ì••ì¶• ê¸°ë²•ìœ¼ë¡œ ë°±ê·¸ë¼ìš´ë“œ ìƒíƒœì—ì„œ RAMì‚¬ìš©ëŸ‰ ê°ì†Œì™€ íž™ ì¡°ê° ëª¨ìŒì„ ìœ„í•´ ì²˜ë¦¬ í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ìž„- HeapTrim : íž™íŠ¸ë¦¼ì„ ë§ˆì£¼ì¹  ë•Œê¹Œì§€ ìˆ˜ì§‘ì´ ì°¨ë‹¨ - DisableMovingGc : íž™ì••ì¶•ì´ ì´ë£¨ì–´ì§€ëŠ” ë™ì•ˆ GetPrimitiveArrayCriticalì´ ì‚¬ìš© ë¨ìœ¼ë¡œì¨ íž™ì˜ ìˆ˜ì§‘ê¸° ì´ë™ì„ ì œí•œ ì‹œí‚´ GC_Name concurrent mark sweep - Concurrent mark sweep (CMS) : ì´ë¯¸ì§€ ê³µê°„ ì´ì™¸ì˜ ëª¨ë“  ê³µê°„ì„ íšŒìˆ˜í•˜ê³  ìˆ˜ì§‘í•˜ëŠ” ì™„ì „í•œ íž™ ìˆ˜ì§‘ê¸°- Concurrent partial mark sweep : ì´ë¯¸ì§€ ë° zygote (app_process, ìš”ì²­ì„ ë¦¬ìŠ¤ë‹í•˜ê³  ìš”ì²­ ë°›ì€ í´ëž˜ìŠ¤ë¥¼ í¬í¬í•œë‹¤.)ê³µê°„ ì´ì™¸ì˜ ê³µê°„ì„ ì „ë¶€ ìˆ˜ì§‘í•˜ëŠ” ìˆ˜ì§‘ê¸°- Concurrent sticky mark sweep : ë§ˆì§€ë§‰ GCì´í›„ë¡œ í• ë‹¹ëœ ê°ì²´ë§Œ íšŒìˆ˜ í•˜ëŠ” ì„¸ëŒ€ë³„ ìˆ˜ì§‘ê¸°. ìˆ˜ì§‘ì´ ë¹ ë¥´ê³  ì¼ì‹œ ì¤‘ì§€ë„ ìž˜ ì•ˆì¼ì–´ ë‚¨ìœ¼ë¡œ ìžì£¼ ì‚¬ìš©ë¨-Marksweep + semispace : ê³µê°„ ì••ì¶•ì´ë‚˜ íž™ì „í™˜ì‹œ ì‚¬ìš©ë˜ëŠ” ë³µì‚¬ GC Objects_freed freed 64 íšŒìˆ˜í•œ ê°ì²´ì˜ ìˆ˜(ìž‘ì€ê·œëª¨) Size_freed (14KB) AllocSpace objects, 2 GCë¥¼ í†µí•´ì„œ íšŒìˆ˜í•œ ë°”ì´íŠ¸ì˜ ìˆ˜ Large_objects_freed 2 íšŒìˆ˜í•œ ê°ì²´ì˜ ìˆ˜(í° ê·œëª¨) Large_object_size_freed (72KB) íšŒìˆ˜í•œ ê°ì²´ì˜ í¬ê¸° Heap_stats 24% free, 4MB/5MB, íšŒìˆ˜í•œ ë¹„ìœ¨ë¡œ (ë¼ì´ë¸Œ ê°ì²´ìˆ˜)/(ì´ íž™ í¬ê¸°), ì˜ˆë¥¼ ë“¤ìžë©´ 4MBê°€ ì‚´ì•„ìžˆëŠ” ê°œì²´ì´ê³  5MBê°€ ì „ì²´ íž™ì˜ í¬ê¸°ì´ë‹¤. ì•½ 24% 1MB ì •ë„ê°€ ë¹„ì–´ ìžˆëŠ” ìƒí™©ì´ë¼ê³  ë³´ë©´ ëœë‹¤. ì´ ê°’ìœ¼ ì „ì²´ ì ìœ¼ë¡œ ì¦ê°€ë§Œ í•˜ê³  ìžˆë‹¤ë©´ ë©”ëª¨ë¦¬ ë¦­ì´ë¼ê³  ìƒê°í•´ ë´ì•¼í•œë‹¤ Pause Times paused 448us total 20.082ms ê³µì‹ ë¬¸ì„œìƒì—ëŠ” ì¼ì‹œ ì¤‘ì§€ íšŸìˆ˜ë¡œ ë‚˜ì™€ìžˆìœ¼ë‚˜ ë‹¨ìœ„ë¥¼ ë³´ë©´ ì¼ì‹œ ì¤‘ì§€ ì‹œê°„ì´ ë§žëŠ”ê±° ê°™ë‹¤. ê°ì²´ ìˆ˜ì§‘ì‹œ ë‚˜íƒ€ë‚˜ëŠ” ì¼ì‹œ ì¤‘ì§€ ì‹œê°„ í‰ê·  ë° sumì´ ì´ pause timesìœ¼ë¡œ ìƒê°ëœë‹¤. Android Memory Kill ìˆœì„œ ì‹œìŠ¤í…œ ê´€ë ¨ ì„œë¹„ìŠ¤ memory status Cached í˜„ìž¬ ìž‘ë™ ë˜ê³  ìžˆì§€ ì•Šê³  Backgroundì— ìºì‰¬ ë˜ì–´ ìžˆëŠ” ì„œë¹„ìŠ¤ë“¤ lmk(Low memory killer) threshold Previous í˜„ìž¬ ìž‘ë™ ì¤‘ì¸ ì„œë¹„ìŠ¤ ì§ì „ì— ì‚¬ìš©ëœ ì„œë¹„ìŠ¤ critical Home Home ê¸°ëŠ¥ì´ë¼ê³  í•˜ëŠ”ë° ë‚´ìš©ìƒ ë°”íƒ•í™”ë©´ì˜ Wall paper ì •ë„ë¡œ ë³´ìž„ critical Service í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤, ì‹±í¬ ì„œë¹„ìŠ¤ ë“± ë°±ê·¸ë¼ìš´ë“œ ì„œë¹„ìŠ¤ critical Perceptible ì¡°íšŒê¸°ëŠ¥, ì˜¤ë””ì˜¤, í‚¤ë³´ë“œ ë“± ë“£ê³  ìž…ë ¥í•˜ëŠ” ê¸°ëŠ¥ ë“¤ë¡œ ë³´ìž„ critical Foreground í˜„ìž¬ ë– ìžˆëŠ” ì„œë¹„ìŠ¤ critical Persistent ì „í™” ë³¸ì—°ì˜ ê¸°ëŠ¥ ë° í†µì‹  í”„ë¡œí†¨(ì™€ì´íŒŒì´, ë¸”ë£¨íˆ¬ìŠ¤ ë“±) Crash () System system_server Crash (reboot) Native init, kswapd,netd, logd, adbd ë“± native bin(exec) í”„ë¡œì„¸ìŠ¤ Crash (reboot) ë§¨ ìœ„ì—ì„œ ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ í”„ë¡œì„¸ìŠ¤ê°€ killë˜ê¸° ì‹œìž‘í•¨ lmk : low memory killer kswapd : kernel swap daemon Android Memory Debug Tool Android Studio Profiler showmap (ì‚¬ìš©ë°©ë²•?): https://android.googlesource.com/platform/system/extras/+/android-6.0.1_r28/showmap/showmap.c ahat : https://android.googlesource.com/platform/art/+/master/tools/ahat/README.txt debug malloc : adb logcat -d | grep &quot;malloc debug&quot; https://android.googlesource.com/platform/bionic/+/master/libc/malloc_debug/README.md Profiler ë§Œ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ íˆ´ì„ ì“¸ í•„ìš”ê°€ ì—†ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤. ë‹¨, malloc ê°™ì€ ê²½ìš°ëŠ” native ì˜ì—­ì— ëŒ€í•œ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìžˆëŠ” ìœ ì¼í•œ ë°©ë²•ìœ¼ë¡œ í˜„ìž¬ê¹Œì§€ëŠ” ë³´ìž„ìœ¼ë¡œ native leakì´ ë°œìƒí•˜ë©´ ì“¸ìˆ˜ ë°–ì— ì—†ì§€ ì•Šë‚˜ í•œë‹¤. Android RAMì˜ ì¢…ë¥˜RAM ì‚¬ìš©ëŸ‰ Commandadb shell dumpsys meminfo &lt;package_name|pid&gt; [-d] í•´ë‹¹ ëª…ë ¹ì–´ëŠ” adb connect ê°€ ë˜ì–´ìžˆë‹¤ëŠ” ì „ì œì´ë‹¤ -d ì˜µì…˜ ì˜ë¯¸ : Dalvick ë° ART ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì— ëŒ€í•œ ì •ë³´ê°€ ìƒì„¸ížˆ ì¶œë ¥ëœë‹¤ ê¸°ë³¸ì ì„ KBë‹¨ìœ„ë¡œ ë‚˜ì—´ëœë‹¤. ê°œì¸(í´ë¦¼ ë° ë”í‹°) RAMRAMì€ íŠ¹ì • APPì—ì„œë§Œ ì‚¬ìš©ì¤‘ì¸ ë©”ëª¨ë¦¬ë¡œì¨, í•´ë‹¹ ë©”ëª¨ë¦¬ì˜ ì–‘ì€ íŠ¹ì • APPì˜ ì„œë¹„ìŠ¤ê°€ í”„ë¡œì„¸ìŠ¤ í‚¬ë˜ì—ˆì„ ë•Œ ì˜¨ì „ížˆ Free RAMìœ¼ë¡œ ë˜ëŒë ¤ ë°›ì„ ìˆ˜ ìžˆëŠ” ì–‘ì´ë‹¤. ì´ì¤‘ì— ê°œì¸ ë”í‹° RAMì€ Android ìŠ¤ì™‘ì„ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê°€ìž¥ ì¤‘ìš”í•œ ëŒ€ìƒì´ ëœë‹¤. ë©”ëª¨ë¦¬ Leakì„ í•´ê²° í•´ì•¼ í•˜ëŠ” ì´ìœ ë„ ì´ë¶€ë¶„ì— ìžˆë‹¤. ê°œë°œìžê°€ ì§€ì •í•˜ëŠ” ëª¨ë“  Dalvik ë° Native íž™ ë©”ëª¨ë¦¬ëŠ” ë”í‹° RAMìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤. Zygoteë¥¼ ì‚¬ìš©í•˜ëŠ” ê³µìœ  RAMë„ ìžˆê²Œ ë˜ëŠ”ë° ì´ë¶€ë¶„ì€ ê³µìœ  ë”í‹° Ramìœ¼ë¡œ ë¶ˆë¦°ë‹¤. PSS(Propotional Set Size)PSSëŠ” í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œì„ ë°”ë¼ë³´ëŠ” ì‚¬ì´ì§• ë°©ì‹ì´ ì•„ë‹ˆë¼, ê³µìœ ë˜ëŠ” ëª¨ë“  íŽ˜ì´ì§€ì— ëŒ€í•œ RAMê¹Œì§€ í¬í•¨í•œ ê³„ì‚° ë°©ì‹ì´ë‹¤. ì˜ˆë¥¼ ë“¤ìžë©´ í”„ë¡œì„¸ìŠ¤ 2ê°œê°€ 2ë©”ê°€ë¥¼ ê³µìœ í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ì ‘ê·¼ í•˜ê³  ìžˆë‹¤ë©´, 1MBì”© PSS ì‚¬ì´ì¦ˆë¥¼ ë¶„ë°° ë°›ê²Œ ëœë‹¤. ê·¸ì™¸ ê°œì¸ ë”í‹° RAM ì‚¬ì´ì¦ˆëŠ” ì§ì ‘ì ìœ¼ë¡œ PSSì— ì¶”ê°€ ëœë‹¤. ì •ë¦¬í•˜ìžë©´ ë‹¤ìŒê³¼ ê°™ë‹¤. PSS Size = í”„ë¡œì„¸ìŠ¤1 ê°œì¸ ë”í‹° RAM + í”„ë¡œì„¸ìŠ¤ 2 ê°œì¸ ë”í‹° RAM + í”„ë¡œì„¸ìŠ¤ 3 ê³µìœ  RAM ì ˆë°˜ PSSì™¸ì— 2ê°€ì§€ ì¢…ë¥˜ê°€ ë” ìžˆë‹¤ RSS : Resident Set Size = Private ë”í‹° RAM + Shared RAM ì „ì²´ USS : Unique Set Size = RSS - shared RAM ì „ì²´ = Private Dirty RAMë§Œ ëŒ€ìƒìœ¼ë¡œ í•¨ ì•„ëž˜ëŠ” com.example.appì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ë‚˜íƒ€ë‚¸ë‹¤. Applications Memory Usage (kB):Uptime: 2452592 Realtime: 2452592** MEMINFO in pid 4739 [com.example.app] ** Pss Private Private Swapped Heap Heap Heap Total Dirty Clean Dirty Size Alloc Free ------ ------ ------ ------ ------ ------ ------ Native Heap 6691 6648 0 0 16384 8945 7438 Dalvik Heap 1664 1512 0 0 7045 5418 1627 Dalvik Other 304 304 0 0 Stack 392 392 0 0 Ashmem 128 128 0 0 Other dev 4 0 4 0 .so mmap 8218 260 1640 0 .apk mmap 305 0 24 0 .ttf mmap 93 0 0 0 .dex mmap 2124 0 1776 0 .oat mmap 2144 0 64 0 .art mmap 2214 1988 4 0 Other mmap 296 4 0 0 Unknown 2072 2072 0 0 TOTAL 26649 13308 3512 0 23429 14363 9065 Dalvik Details .Heap 964 964 0 0 .GC 188 188 0 0 .Zygote 424 272 0 0 .NonMoving 276 276 0 0 .IndirectRef 116 116 0 0 Objects Views: 9 ViewRootImpl: 0 AppContexts: 3 Activities: 1 Assets: 3 AssetManagers: 3 Local Binders: 13 Proxy Binders: 15 Parcel memory: 5 Parcel count: 20 Death Recipients: 0 OpenSSL Sockets: 0 SQL MEMORY_USED: 0 PAGECACHE_OVERFLOW: 0 MALLOC_SIZE: 0 Dalvik Heapìžë°” ë¨¸ì‹ ì¸ ë‹¬ë¹…ì˜ heap ëª¨ë¸ì€ Externalê³¼ Dalvik heapìœ¼ë¡œ ë‚˜ë‰˜ê²Œ ë˜ëŠ”ë° ì´ì¤‘ì— Dalvik Heapì€ Javaê°ì²´ ì¸ìŠ¤í„´ìŠ¤ ë©”ëª¨ë¦¬ í• ë‹¹ Zygote í• ë‹¹ ì˜ì—­ í¬í•¨ ì„ í•˜ê²Œ ëœë‹¤. ê·¸ëŸ¬ë‚˜ javaì˜ ë©”ëª¨ë¦¬ ë²”ìœ„ ë°–ì„ ë³´ê²Œ ëœë‹¤ë©´ Native Heapì´ ë‚˜íƒ€ë‚˜ê²Œ ë˜ëŠ”ë°, ì´ë¶€ë¶„ì€ OS ì˜ì—­ì˜ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë²”ìœ„ë¡œ ì£¼ë¡œ NDKë¡œ ê°œë°œëœ ê²½ìš° C++, Cë¡œ ê°œë°œëœ ë¡œìš°ë ˆë²¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ëœë‹¤. Bitmapì˜ ê²½ìš° ê°€ìž¥ ëŒ€í‘œì ì¸ Native Heap ì €ìž¥ ëŒ€ìƒì´ë‹¤. JavaëŠ” Bitmap dataë¥¼ Native Heap ë¶€ë¶„ìœ¼ë¡œ Pointingí•˜ëŠ” ì—­í• ë§Œ í•œë‹¤. Dalvik Otherë¬¸ì„œìƒìœ¼ë¡œëŠ” ì •í™•ížˆ ëª…ì‹œ ë˜ì–´ ìžˆì§€ëŠ” ì•ŠëŠ”ë° ì°¸ê³  ë¬¸í•­ìœ¼ë¡œ ì¶”ë¦¬ í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ìƒê°í•˜ë©´ ë ê²ƒ ê°™ë‹¤ Just in time ì»´íŒŒì¼ ê¸°ë¡ GC ê¸°ë¡ ë“± Dalvik Overhead ì¶”ì¸¡ì´ê¸´ í•œë° ARTì—ì„œ ìƒì„±ë˜ëŠ” ê°ì¢… ì •ë³´ê°€ ì´ìª½ ë©”ëª¨ë¦¬ ì‚¬ì´ì¦ˆë¡œ ìŒ“ì´ëŠ” ê²ƒìœ¼ë¡œ ìƒê°ëœë‹¤. Heap Allocí•´ë‹¹ ì•±ì— í• ë‹¹ëœ ë©”ëª¨ë¦¬ í¬ê¸° ì¸ë‹¤. ì´ê²Œ PSS Totalë³´ë‹¤ í° ì´ìœ ëŠ” ê³µìœ  ìžì›ì— ëŒ€í•œ ê°’ê¹Œì§€ ê°™ì´ í¬í•¨ í•˜ê³  ìžˆê¸° ë•Œë¬¸ì´ë¼ê³  í•œë‹¤. Private Dirtyí•´ë‹¹ ì•± í”„ë¡œì„¸ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ë©”ëª¨ë¦¬ë¡œ íƒ€ ì•± ë° í”„ë¡œì„¸ìŠ¤ì™€ ê³µìœ  ë˜ì§€ ì•ŠëŠ”ë‹¤. í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œ ë˜ë©´ ì´ ë©”ëª¨ë¦¬ëŠ” 100% ë°˜í™˜ ë˜ì–´ì•¼ í•œë‹¤. Private Ceanê°œë°œìž ì•±ì˜ ìžì²´ ì½”ë“œìž„, ê°œë°œìžê°€ ë§Œë“  codeìžì²´ì— ëŒ€í•œ ê¸€ì´ ì´ê³³ì— ì ì œ ë˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ìž„ so,dex mmapê³¼ ê´€ë ¨ì´ ìžˆìŒ .soì—ëŠ” private ë”í‹° RAMì´ í¬ê²Œ í• ë‹¹ ë˜ì–´ìžˆëŠ”ë° ì´ëŠ” ë„¤ì´í‹°ë¸Œ ì½”ë“œë¥¼ ìµœì¢… ì£¼ì†Œ ë¡œë“œ í• ë•Œ ìˆ˜ì •í–ˆê¸° ë•Œë¬¸ì´ë‹¤. ì‹¤í–‰ ì¤‘ì¸ ì½”ë“œì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ëŠ” ë¶€ë¶„ìœ¼ë¡œ ë³´ìž„ .so .dex mmap.so ë„¤ì´í‹°ë¸Œ ë° .dex ë‹¬ë¹… ë˜ëŠ” ARTë¥¼ ìœ„í•œ ì½”ë“œìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” RAM .oat mmapì—¬ëŸ¬ ì•±ì´ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì•±ì˜ ë©”ëª¨ë¦¬ ê³µê°„ìœ¼ë¡œ íŠ¹ì • ì•±ì— ì˜í–¥ì„ ë°›ì§€ ì•ŠìŒ .Unknowë„êµ¬ê°€ ì‹ë³„í•˜ê¸° íž˜ë“  RAM íŽ˜ì´ì§€ë¡œ, ì£¼ë¡œ ë„¤ì´í‹°ë¸Œ í• ë‹¹ì´ ì£¼ë¥¼ ì´ë£¬ë‹¤. Dalvik Detail.Heap : ì•±ì˜ íž™ì˜ ë©”ëª¨ë¦¬ í¬ê¸° (zygote ê³µê°„ ê³¼ private ê³µê°„ í¬í•¨) .LOS : ART ëŒ€í˜• ê°ì²´ ê³µê°„ ë©”ëª¨ë¦¬ .GC : GC ê³„ì • ì˜¤ë²„í—¤ë“œ í¬ê¸°ë¡œ ìˆ˜ì •í•  ìˆ˜ì—†ìŒ .JITCache : ì‹¤í–‰ë˜ëŠ” ì‹œì ìœ¼ë¡œ oì´ ë ê²ƒìž„ .Zygote : ê³µí†µ ë©”ëª¨ë¦¬ í¬ê¸° .NonMoving : ART ë¹„ì´ë™ ê³µê°„ ì‚¬ìš© RAM, ì•±ì—ì„œ ì‚¬ìš©í•˜ëŠ” í•„ë“œì™€ ë©”ì„œë“œ ìˆ˜ë¥¼ ì¤„ì´ë©´ ì´ë¶€ë¶„ì´ ì¤„ì–´ë“¬ .IndirectRef : ART ê°„ì ‘ ì°¸ì¡° í…Œì´ë¸”, ë¡œì»¬ ë° ì „ì—­ JNI ì°¸ì¡° ìˆ˜ë¥¼ ì¤„ì´ë©´ ì¤„ì¼ ìˆ˜ ìžˆìŒ ObjectsViews : ëª¨ë“  View ê°ì²´ì˜ ìˆ˜ì´ë‹¤. ë§Œì•½ì— layoutì— ë²„íŠ¼ 3ê°œê°€ ìžˆê³  viewsê°€ 9ì¸ ìƒíƒœë¼ë©´, í•˜ë‚˜ì˜ ë²„íŠ¼ì„ ì‚­ì œ í•˜ë©´ 8ì´ ëœë‹¤. ViewRootImpl : í˜„ìž¬ ìž‘ë™ì¤‘ì¸ Viewì˜ ê°¯ìˆ˜. ë³´ì´ì§€ ì•ŠëŠ” ì°½ì´ë¼ë˜ê°€ ì—°ê´€ë˜ì–´ìžˆëŠ” viewì™€ì˜ ê°¯ìˆ˜ë¥¼ í™•ì¸í•´ì„œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ í™•ì¸ í•  ìˆ˜ìžˆë‹¤. í™”ë©´ì´ ì•ˆë– ìžˆë‹¤ë©´ 0, í•œê°œ Viewê°€ ë– ìžˆë‹¤ë©´ 1ì´ëŸ°ì‹ì´ë‹¤. Activities Activityì˜ ê°¯ìˆ˜ë¡œì¨ í˜„ìž¬ ë– ìžˆëŠ” Activityì˜ ê°¯ìˆ˜ê°€ ëœë‹¤. í•œê°œì˜ í° í™”ë©´ë§Œ ë– ìžˆë‹¤ë©´ ActivityëŠ” 1ê°œì´ë‹¤ AppContexts ë§Œì•½ì— Activity Aê°€ ì£½ê³  Activity Bê°€ ì‚´ì•„ë‚˜ëŠ” ì‹œì ì—, Aì˜ contextê°€ ì‚´ì•„ìžˆë‹¤ë©´(Leak) ì´ë•Œ AppContextsëŠ” ì§€ì†ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ìž„ ProxyBinders/Parcel count/Local Binders lyaout ìƒ ê°ì²´ë¥¼ Bind í•˜ë©´ì„œ ì¹´ìš´íŠ¸ê°€ ì˜¬ë¼ ê°€ëŠ” ê²ƒìœ¼ë¡œ ë³´ìž„]]></content>
      <tags>
        <tag>Android</tag>
        <tag>Memory</tag>
        <tag>ART</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[javascript object merge]]></title>
    <url>%2Fjavascript-object-merge%2F</url>
    <content type="text"><![CDATA[Object.assignJavascriptì˜ Objectë¥¼ Merge í•˜ëŠ” ë°©ë²• ì¤‘ì— ê°€ìž¥ ë§Žì´ ì‚¬ìš©ë˜ëŠ” ê²ƒì€ Object.assignì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ê¸°ë³¸ ì‚¬ìš©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. Object.assign(target, ...sources) target : Merge ë‹¹í•  ëŒ€ìƒ ê°ì²´ source : Mergeì˜ ëŒ€ìƒ ê°ì²´ì—ê²Œ ì£¼ìž…ì„ í•  ì˜¤ë¸Œì íŠ¸ ê¸°ë³¸ ì‚¬ìš©ë²•var obj1 = &#123;name : 'hi', val: 1&#125;;var obj2 = &#123;name : 'hello', val: 2&#125;;var newObj = Object.assign(obj1, obj2);console.log(obj1);console.log(newObj);obj1.name = 'modified';console.log(obj1);if (obj1 === newObj)&#123; console.log('same object!!')&#125; ì‹¤í–‰ ê²°ê³¼ &#123; name: 'hello', val: 2 &#125;&#123; name: 'hello', val: 2 &#125;&#123; name: 'modified', val: 2 &#125;same object!! ì—¬ê¸°ì„œ ì£¼ëª©í•´ì•¼í•  ì ì€ targetì˜ objectëŠ” assign ì´í›„ ìžê¸° ìžì‹ ì˜ original ì˜ì—­ì„ ì§€ì†ì ìœ¼ë¡œ ì°¸ì¡° í•˜ê³  ìžˆë‹¤ëŠ” ê²ƒì´ë‹¤. ì¦‰, obj1ê³¼ newobjëŠ” ì™„ì „ížˆ ë™ì¼í•œ objectë¼ëŠ” ê²ƒì´ë‹¤. targetì´ì—ˆë˜ obj1ì˜ ê°’ì€ var newObj = Object.assign(obj1, obj2); ì´í›„ obj2ì˜ ê°’ìœ¼ë¡œ ë®ì–´ ì’¸ì›Œ ì§€ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìžˆë‹¤. targetì˜ objectëŠ” source objectì™€ ë™ì¼í•œ propertiesê°€ ìžˆë‹¤ë©´ overwrite ë˜ê²Œ ëœë‹¤. ì½”ë“œë¥¼ ì•„ëž˜ì™€ ê°™ì´ ì‚´ì§ ë³€ê²½í•´ ë³´ê² ë‹¤. var obj1 = &#123;pre:'King', name : 'hi', val: 1&#125;;var obj2 = &#123;name : 'hello', val: 2, nextVal :3&#125;;var newObj = Object.assign(obj1, obj2);console.log(obj1);console.log(newObj);obj1.name = 'modified';console.log(obj1);if (obj1 === newObj)&#123; console.log('same object!!')&#125; ë³€ê²½ ì ì€ sourceì— pre propertyê°€ ìƒê²¼ê³ , obj2ì—ëŠ” nextValì„ ìƒì„± í–ˆë‹¤. í•´ë‹¹ ì½”ë“œë¥¼ ì‹¤í–‰í•´ ë³´ë©´ ì•„ëž˜ì™€ ê°™ì€ ê²°ê³¼ ê°’ì„ í™•ì¸ í•  ìˆ˜ ìžˆë‹¤. &#123; pre: 'King', name: 'hello', val: 2, nextVal: 3 &#125;&#123; pre: 'King', name: 'hello', val: 2, nextVal: 3 &#125;&#123; pre: 'King', name: 'modified', val: 2, nextVal: 3 &#125;same object!! ìƒìœ„ ê²°ê³¼ì—ì„œ ë³¼ ìˆ˜ ìžˆë“¯ì´ í•´ë‹¹ ë©”ì„œë“œëŠ” ì„œë¡œì—ê²Œ ê°–ì§€ ì•ŠëŠ” ê°’ì— ëŒ€í•´ì„œëŠ” targetìœ¼ë¡œ ê°’ì´ ì£¼ìž…ëœë‹¤. Cloningì´ëŸ¬í•œ ë°©ë²•ì„ ì´ìš©í•´ì„œ ê°ì²´ì— ëŒ€í•œ ë‚´ë¶€ properties Cloningì´ ê°€ëŠ¥í•˜ë‹¤. var obj1 = &#123;pre:'King', name : 'hi', val: 1&#125;;var clonedObj = Object.assign(&#123;&#125;, obj1);console.log(obj1);console.log(clonedObj);obj1.name = 'modified';console.log(obj1);if (obj1 === clonedObj)&#123; console.log('same object!!');&#125; else &#123; console.log('different object!!');&#125; ê²°ê³¼ ê°’ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. &#123; pre: 'King', name: 'hi', val: 1 &#125;&#123; pre: 'King', name: 'hi', val: 1 &#125;&#123; pre: 'King', name: 'modified', val: 1 &#125;different object!! ê°ì²´ì— ëŒ€í•œ ì •ë³´ë¥¼ ë™ì¼í•˜ê²Œ copy í•˜ì˜€ìœ¼ë‚˜, ê¸°ì¡´ objectì™€ëŠ” ë‹¤ë¥¸ objectë¥¼ ìƒì„±í•œ ê²ƒì„ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤. ES6 Spread OperatorES6 ë¬¸ë²•ì—ì„œ ì‚¬ìš©ë˜ëŠ” spread operatorë¥¼ ì´ìš©í•´ì„œ mergeê°€ ê°€ëŠ¥í•˜ë‹¤. ê¸°ë³¸ ì‚¬ìš©ë²•var obj1 = [1,2,3];var obj2 = [4,5,6];var length = obj1.push(...obj2);console.log(length);console.log(obj1);obj1.push(7);console.log(obj2);if (obj1 === obj2)&#123; console.log('same object!!');&#125; else &#123; console.log('different object!!');&#125; ê²°ê³¼ê°’ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. 6[ 1, 2, 3, 4, 5, 6 ][ 4, 5, 6 ]different object!! ë³¸ ì‚¬ìš©ë²•ì€ ì‚¬ì‹¤ objectê°„ì˜ ê²°í•©ì„ ëŒ€ìƒìœ¼ë¡œ í•˜ì§€ ì•ŠëŠ”ë‹¤. spread operator ìžì²´ê°€ arrayì™€ ê°™ì€ Iteratorì„± ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œí•œ ë¬¸ë²•ì´ê¸° ë•Œë¬¸ì´ë‹¤. ê²°ê³¼ì ìœ¼ë¡œ Arrayì˜ ê²°í•©ìœ¼ë¡œ ë³¼ìˆ˜ ìžˆìœ¼ë‚˜ objectì˜ mergeìš©ë„ë¡œ ì‚¬ìš©ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ì´ëŸ°ì‹ì˜ ì½”ë“œë„ ë§Žì´ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤. &gt; var obj1 = [1,2,3];&gt; var obj2 = [...obj1, 4,5,6];&gt; &gt; console.log(obj2); &gt; [ 1, 2, 3, 4, 5, 6 ] ECMAScript 2018 ê¸°ì¤€ìœ¼ë¡œëŠ” ë‹¤ìŒ ì½”ë“œë„ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤. &gt; var obj1 = &#123;test:1&#125;;&gt; var obj2 = &#123;test:2,after:3&#125;;&gt; &gt; var merged = &#123;...obj1, ...obj2&#125;;&gt; console.log(obj1); ê·¸ëŸ¬ë‚˜ ì•„ì§ ë„ë¦¬ ì‚¬ìš© ë˜ì§€ ì•ŠìŒìœ¼ë¡œ ë” ë‹¤ë£¨ì§€ ì•ŠëŠ”ë‹¤. Undersocre Extendì–¸ë”ìŠ¤ì½”ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ ê°ì²´ ë¨¸ì§€ê°€ ê°€ëŠ¥í•˜ë‹¤. ê¸°ë³¸ ì‚¬ìš©ë²•const _ = require('underscore');var obj1 = &#123;a:1,b:2&#125;;var obj2 = &#123;c:3,d:4&#125;;var obj3 = &#123;c:3,d:5,e:6&#125;;_.extend(obj1, obj2, obj3);console.log(obj1);if (obj1 === obj2) &#123; console.log('same Object');&#125; else &#123; console.log('different Object');&#125; ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. &#123; a: 1, b: 2, c: 3, d: 5, e: 6 &#125;different Object Object.assignê³¼ ê°™ì´ targetë§Œì„ ìˆ˜ì •í•˜ê³ , ì´í›„ ë“¤ì–´ì˜¤ëŠ” source ê°ì²´ë“¤ì€ ë³€í™”ê°€ ì—†ë‹¤. lodash mergeë¡œë°ì‰¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ mergeê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ”ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤. ê¸°ë³¸ ì‚¬ìš©ë²•const _ = require('lodash');var obj1 = &#123;a:1,b:2&#125;;var obj2 = &#123;c:3,d:4&#125;;var obj3 = &#123;c:3,d:5,e:6&#125;;var newObj = _.merge(obj1,obj2,obj3);obj1.a = 3;console.log(obj1);console.log(newObj);if (obj1 === newObj) &#123; console.log('same Object');&#125; else &#123; console.log('different Object');&#125; ê²°ê³¼ê°’ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. &#123; a: 3, b: 2, c: 3, d: 5, e: 6 &#125;&#123; a: 3, b: 2, c: 3, d: 5, e: 6 &#125;same Object]]></content>
      <tags>
        <tag>javascript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Redis & Jedis]]></title>
    <url>%2FJedis-java-clinet%2F</url>
    <content type="text"><![CDATA[Redisì™€ Redis ê´€ë ¨ ì •ë³´ë¥¼ ë‹¤ìŒ urlì—ì„œ ë°œì·Œí•´ì„œ ì ëŠ”ë‹¤https://gist.github.com/JonCole/925630df72be1351b21440625ff2671f#file-redis-bestpractices-java-jedis-md JedisëŠ” Single ìŠ¤ë ˆë“œì´ë‹¤ ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ì ˆëŒ€ë¡œ ë™ì¼í•œ Jedis Connection instanceë¥¼ ê°™ì€ ì‹œê°„ì— ì‚¬ìš©í•˜ì§€ ë§ì•„ë¼ ë§Œì•½ì— ë™ì‹œ ì ‘ê·¼ì„ í•˜ê²Œ ëœë‹¤ë©´ &quot;expected &#39;$&#39; but got&#39;&quot; ê³¼ê°™ì€ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í™•ì¸ í•  ê²ƒì´ë‹¤. JedisPoolì„ ì‚¬ìš©í•´ë¼ ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ connectionsì„ ìž¬í™œìš© í•  ìˆ˜ ìžˆê²Œ í•´ì¤€ë‹¤ JedisPool ObjectëŠ” thread-safeí•˜ê²Œ ìž‘ì„±ë˜ì—ˆë‹¤ Poolì€ ë‹¨ í•œë²ˆë§Œ ì„¤ì •í•˜ê³  ìž¬í™œìš© ë˜ì–´ì•¼ í•œë‹¤ Jedis instanceëŠ” ì‚¬ìš©í›„ ë°˜ë“¯ì´ poolë¡œ ëŒì•„ê°€ì•¼ í•œë‹¤. ì»¨ë„¥ì…˜ ì—ëŸ¬ê°€ 30ì´ˆ ì´ìƒ ë°œìƒí•  ê²½ìš° jedisPoolì„ ìƒˆë¡œ ìƒì„±í•˜ëŠ”ê²Œ ì¢‹ë‹¤. Setting Description connectTimeout soTimeout port JedisPoolConfig settings Setting Description maxTotal maxIdle minIdle blockWenExhausted maxWaitMillis TestOnBorrow minEvictableIdleTimeMillis]]></content>
      <tags>
        <tag>Redis</tag>
        <tag>Jedis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[webpack basic with webstorm]]></title>
    <url>%2Fwebpack-start%2F</url>
    <content type="text"><![CDATA[webstorm í”„ë¡œì íŠ¸ ìƒì„±File &gt; New &gt; Project &gt; Empty í”„ë¡œì íŠ¸ ìƒì„±ì´í›„ ì•„ëž˜ ìœ„ì¹˜ë¡œ ë“¤ì–´ê°€ì„œ settings&gt;Language&amp;Frameworks&gt;Node.js and NPM ì•„ëž˜ì™€ ê°™ì€ node ì„¤ì •ì„ í•´ì¤€ë‹¤ ì‚¬ìš© node version ì •ë³´ nodejs version : 6.16.0 npm version : 3.10.10 npm module install webpack webpack-cli lodash ìƒìœ„ ì„¸íŒ…ì´ ì™„ë£Œëœ ì´í›„ npm init ì‹¤í–‰ì„ í†µí•´ì„œ package.jsonì„ ìƒì„±í•´ ì¤€ë‹¤ ì´í›„ ê¸°ë³¸ webpack êµ¬ì¡°ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë§Œë“¤ì–´ ì¤€ë‹¤ webpack project ê¸°ë³¸ êµ¬ì¡° webpack-demo |- package.json+ |- /src+ |- index.js+ |- /dist+ |- index.html í•´ë‹¹ íŒŒì¼ë³„ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤ dist/index.html &lt;!doctype html&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;Getting Started&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;script src="main.js"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; src/index.js import _ from 'lodash'function component() &#123; let element = document.createElement('div'); // Lodash, currently included via a script, is required for this line to work element.innerHTML = _.join(['Hello', 'webpack'], ' '); return element;&#125;document.body.appendChild(component()); webpack ì„¤ì •webpack.config.js ì„¤ì •webpackì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ config fileì´ í•„ìš”í•˜ë‹¤. ì•„ëž˜ì™€ ê°™ì´ javascriptíŒŒì¼ì„ ìƒì„±í•´ ì¤€ë‹¤ webpack-demo |- package.json |- /src |- index.js |- /dist |- index.html+ |- webpack.config.js í•´ë‹¹ configì— ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ë„£ì–´ ì¤€ë‹¤. webpack.config.js const path = require('path');module.exports = &#123; entry: './src/index.js', output: &#123; filename: 'main.js', path: path.resolve(__dirname, 'dist') &#125;&#125;; entryëŠ” webpack ì²˜ë¦¬í•  ìµœì´ˆ javascriptì˜ ìœ„ì¹˜ë¥¼ ì§€ì •í•˜ê³ , í•´ë‹¹ ì§€ì •ëœ jsë¥¼ ë°”íƒ•ìœ¼ë¡œ webpack ì²˜ë¦¬(í†µí•©ì²˜ë¦¬)ë  íŒŒì¼ì„ ì‚°ì¶œí•  ìœ„ì¹˜ë¥¼ outputìœ¼ë¡œ í‘œí˜„í•´ ì¤€ë‹¤. webpack ì‹¤í–‰configíŒŒì¼ê¹Œì§€ ìž‘ì„±ì´ ì™„ë£Œ ë˜ì—ˆë‹¤ë©´, ë‹¤ìŒ ì»¤ë©˜ë“œë¥¼ comand ì°½ì—ì„œ ì‹¤í–‰í•œë‹¤. webpack --config webpack.config.js buildê°€ ì™„ë£Œ ë˜ë©´ dist/main.jsê°€ ìƒì„±ë˜ê³  ìƒì„±ëœ í•´ë‹¹ íŒŒì¼ì—ëŠ” lodashì™€ index.jsê°€ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ í•©ì³ì ¸ ìžˆëŠ”ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìžˆë‹¤. NPM ScriptNPMì„ ì´ìš©í•œ buildwebpack ëª…ë ¹ì–´ë¥¼ ì´ìš©í•œ ë¹Œë“œì˜ ê²½ìš° ë§¤ë²ˆ í•´ë‹¹ ì»¤ë©˜ë“œë¥¼ ìž‘ì„±í•´ì•¼í•˜ëŠ” ë²ˆê±°ë¡œì›€ì´ ìžˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì•„ëž˜ì™€ ê°™ì´ npmì„ ì´ìš©í•œ ë¹Œë“œë¥¼ ì„¤ì •í•œë‹¤ package.json &#123; "name": "untitled1", "version": "1.0.0", "description": "", "private": true, "dependencies": &#123; "webpack": "^4.29.3", "webpack-cli": "^3.2.3", "lodash": "^4.17.11" &#125;, "devDependencies": &#123;&#125;, "scripts": &#123; "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",+ "build" : "webpack --config webpack.config.js" &#125;, "author": "", "license": "ISC"&#125; ìƒìœ„ ì½”ë“œë¥¼ ìž…ë ¥í•œ í›„ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤. npm run build webstormì—ì„œëŠ” &quot;build&quot; ì™¼ìª½ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ëŠ” â–¶ í‘œì‹œë¥¼ í´ë¦­í•´ì„œ ì‹¤í–‰ í•´ë„ ë¬¸ì œê°€ ì—†ë‹¤. Asset file í†µí•©CSS íŒŒì¼css íŒŒì¼ì„ í†µí•©í•˜ê¸° ìœ„í•˜ì—¬ cssì˜ ìœ„ì¹˜ì™€ í•´ë‹¹ css ë¡œë“œì‹œ ì‚¬ìš©í•  node ëª¨ë“ˆì„ install í•´ì•¼ í•œë‹¤ npm module install sytle-loader css-loader ëª¨ë“ˆ ì¸ìŠ¤í†¨ ì´í›„ style.cssë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë§Œë“¤ì–´ ì¤€ë‹¤ webpack-demo |- package.json |- /src |- index.js |- /dist |- index.html+ |- style.css style.css .hello &#123; color: red;&#125; í•´ë‹¹ íŒŒì¼ì„ webpackì—ì„œ ì½ì–´ ì˜¬ ìˆ˜ ìžˆë„ë¡ configë¥¼ ì„¤ì • í•œë‹¤. const path = require('path');module.exports = &#123; entry: './src/index.js', output: &#123; filename: 'main.js', path: path.resolve(__dirname, 'dist') &#125;,+ module: &#123;+ rules:[+ &#123;+ test: /\.css$/,+ use: [+ 'style-loader',+ 'css-loader'+ ]+ &#125;+ ]+ &#125;&#125;; moduleì˜ Ruleì€ 2ê°€ì§€ë¡œ ì´ë£¨ì–´ ì§„ë‹¤ ë¦¬ì†ŒìŠ¤ : test,include,exclude, resource tagë¡œ ì„¤ì • ê°€ëŠ¥í•˜ê³ , ì •ê·œí™” ì‹ì„ ì‚¬ìš©í•œë‹¤. ë‹¨, testì™€ resource tagëŠ” í˜¼ìš© í•  ìˆ˜ ì—†ë‹¤ ë°œí–‰ìž(issuer) : ë°œí–‰ìžì˜ ê²½ìš°ëŠ” entryì¸ index.jsì— import ì²˜ë¦¬ í•˜ë©´ output íŒŒì¼ì— bundle ëœë‹¤ useì˜ ê²½ìš° ë¡œë“œëœ ë¦¬ì†ŒìŠ¤ë¥¼ ì²˜ë¦¬í•˜ëŠ” ëª¨ë“ˆì„ ì§€ì •í•  ìˆ˜ ìžˆë‹¤. ì§€ì •ëœ ëª¨ë“ˆì€ chainedë˜ê²Œ ì—°ì†ì ìœ¼ë¡œ ì‹¤í–‰ ë˜ì§€ë§Œ, ì£¼ì˜í•  ì ì€ ì‹¤í–‰ì˜ ìˆœì„œê°€ ë§¨ ë§ˆì§€ë§‰ì—ì„œ ì²˜ìŒìœ¼ë¡œ ë¡œë“œëœë‹¤ëŠ” ê²ƒì´ë‹¤. ì—¬ê¸°ì„œëŠ” &#39;css-loader&#39; ì´í›„ì— &#39;style-loader&#39;ê°€ ì‹¤í–‰ ëœë‹¤. issuer ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤ src/index.js import _ from 'lodash'+ import './style.css'function component() &#123; let element = document.createElement('div'); // Lodash, currently included via a script, is required for this line to work element.innerHTML = _.join(['Hello', 'webpack'], ' ');+ element.classList.add('hello'); return element;&#125;document.body.appendChild(component()); issuerì¸ import &#39;./style.css&#39;ë¥¼ entryì— í‘œí˜„ í•˜ì§€ ì•Šìœ¼ë©´ í•´ë‹¹ css íŒŒì¼ì€ buildì‹œ bundle ì œì™¸ ëœë‹¤. Image íŒŒì¼npm module install file-loader ëª¨ë“ˆ ì¸ìŠ¤í†¨ ì™„ë£Œ í›„ì— ì ë‹¹í•œ ì´ë¯¸ì§€ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ í”„ë¡œì íŠ¸ì— ì¶”ê°€í•´ ì¤€ë‹¤. webpack-demo |- package.json |- /src |- index.js |- /dist |- index.html |- style.css+ |- icon.png í•´ë‹¹ íŒŒì¼ì„ ë¡œë“œí•˜ê¸° ìœ„í•´ ì•„ëž˜ì™€ ê°™ì´ webpack configë¥¼ ìˆ˜ì •í•´ ì¤€ë‹¤. webpack.config.js const path = require('path');module.exports = &#123; entry: './src/index.js', output: &#123; filename: 'main.js', path: path.resolve(__dirname, 'dist') &#125;, module: &#123; rules: [ &#123; test: /\.css$/, use: [ 'style-loader', 'css-loader' ] &#125;,+ &#123;+ test:/\.(png|svg|jpg|gif)$/,+ use :[+ 'file-loader'+ ]+ &#125; ] &#125;&#125;; í•´ë‹¹ ì´ë¯¸ì§€ issuerë¥¼ ë“±ë¡í•œë‹¤. src/index.js import _ from 'lodash'import './style.css'+ import Icon from './icon.png';function component() &#123; let element = document.createElement('div'); // Lodash, currently included via a script, is required for this line to work element.innerHTML = _.join(['Hello', 'webpack'], ' '); element.classList.add('hello');+ var myIcon = new Image();+ myIcon.src = Icon;+ element.appendChild(myIcon); return element;&#125;document.body.appendChild(component()); ì´ ì •ë„ë¡œ í•´ë‹¹ icon.pngëŠ” bundleë˜ê²Œ ëœë‹¤. ê·¸ëŸ¬ë‚˜ ë§Œì•½ì— í•´ë‹¹ pngë¥¼ entryì—ì„œ ë¡œë“œ í•˜ì§€ ì•Šê³  cssì—ì„œë§Œ ì‚¬ìš©í•œë‹¤ê³  í•´ë„ entryê°€ styleì„ ë¶€ë¥´ê³  styleì—ì„œ icon.pngë¥¼ ë¶€ë¥´ê¸° ë•Œë¬¸ì— bundleì²˜ë¦¬ ëœë‹¤. src/style.css .hello &#123; color: red;+ background: url('./icon.png');&#125; ê¸°íƒ€ íŒŒì¼ìƒìœ„ì˜ ê²½ìš°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ê°ì¢… Assetì„ ë¡œë“œ í•  ìˆ˜ ìžˆëŠ”ë°, ë¡œë“œê°€ ê°€ëŠ¥í•œ ëª¨ë“ˆê³¼ ë¦¬ì†ŒìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤ ê¸°íƒ€ npm module install file-loader : font ë° ê°ì¢… ë¦¬ì†ŒìŠ¤ ìžë£Œ csv-loader : csv, tsv ë“± xml-loader : xml Output Managementë‹¤ì¤‘ Entryë§Œì•½ì— entryì— ëŒ€ìƒì´ ë˜ëŠ” jsê°€ í•œê°œ ì´ìƒì¼ ê²½ìš° ì–´ë–»ê²Œ ì…‹íŒ…í•´ì•¼ í•˜ëŠ”ì§€ ì•Œì•„ë³¸ë‹¤ webpack-demo |- package.json |- /src |- index.js+ |- print.js |- /dist |- index.html |- style.css |- icon.png ìƒˆë¡œìš´ javascriptë¥¼ í•˜ë‚˜ ì¶”ê°€ í•˜ì˜€ë‹¤. í•´ë‹¹ javascriptì—ëŠ” ë‹¤ìŒ ë‚´ìš©ì´ ë“¤ì–´ê°„ë‹¤ src/print.js export default function printMe() &#123; console.log('I get called from print.js!');&#125; í•´ë‹¹ entryë¥¼ webpack configì— ë“±ë¡í•´ ì¤€ë‹¤. webpack.config.js const path = require('path');module.exports = &#123; entry: &#123;+ app: './src/index.js'+ , print : './src/print.js' &#125;, output: &#123; // filename: 'main.js',+ filename: '[name].bundle.js', path: path.resolve(__dirname, 'dist') &#125;, module: &#123; rules: [ &#123; test: /\.css$/, use: [ 'style-loader', 'css-loader' ] &#125;, &#123; test:/\.(png|svg|jpg|gif)$/, use :[ 'file-loader' ] &#125;]]></content>
      <tags>
        <tag>javascript</tag>
        <tag>webpack</tag>
        <tag>webstorm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[404]]></title>
    <url>%2F%2F404.html</url>
    <content type="text"><![CDATA[404 not found 4444 4444 0000000000 4444 4444 4444 4444 00000000000000 4444 4444 4444 4444 0000 0000 4444 4444 44444444444444 0000 0000 44444444444444 4444444444444 0000 0000 4444444444444 4444 0000 0000 4444 4444 0000 0000 4444 4444 00000000000000 4444 4444 0000000000 4444 not found404]]></content>
  </entry>
  <entry>
    <title><![CDATA[Documentation]]></title>
    <url>%2Fdocs%2Findex.html</url>
    <content type="text"><![CDATA[Elegant and Powerful Theme for HexoFour Schemes in OneBy using different styles in NexT (also called Scheme), you simply change what your blog looks like, and nearly all options can be used in all schemes. Multilingual SupportThanks to the contribution of our users and developers, NexT now supports 15 languages. Language Code Example English en Hello ç®€ä½“ä¸­æ–‡ zh-CN ä½ å¥½ ç¹é«”ä¸­æ–‡ zh-TW or zh-HK ä½ å¥½ Ð ÑƒÑÑÐºÐ¸Ð¹ ru Ð—Ð´Ñ€Ð°Ð²ÑÑ‚Ð²ÑƒÐ¹Ñ‚Ðµ FranÃ§ais fr Bonjour German de Hallo æ—¥æœ¬èªž ja ã“ã‚“ã«ã¡ã¯ Indonesian id Halo PortuguÃªs (Brasil) pt or pt-BR OlÃ¡ í•œêµ­ì–´ ko ì—¬ë³´ì„¸ìš” NiederlÃ¤ndisch nl Hallo Tiáº¿ng Viá»‡t vi xin chÃ o Italiano it Ciao TÃ¼rk tr Merhaba If you want to add or improve language for NexT theme, you can do it easily with crowdin service. Five Code Highlighting ThemesNexT uses code highlighting themes from Tomorrow, and you can choose what you like by changing one line option. Customize Your NexTNexT have flexible but simple options, and you can make your own blog with built-in third-party support. Now let&#39;s get started.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Getting Started]]></title>
    <url>%2Fdocs%2Fgetting-started%2Findex.html</url>
    <content type="text"><![CDATA[Hexo is a fast and powerful static blog generating framework, it&#39;s based on Node.js. By using Hexo you can write articles easily with Markdown, and besides the grammer of Markdown, you can also use tag plugins provided by Hexo to insert special formated content simply. In this page we assume you have installed Hexo and created a site with it. You can visit Hexo Docs to see how to install Hexo. Documentation Variables_config.ymlAvailable SettingsDefault SettingsThere are two main configuration files using by Hexo and both called _config.yml: The first one is under site root directory, which contains Hexo&#39;s config. The second one is under theme root directory, which is provided by NexT and contains theme&#39;s config. Let&#39;s call the first one â€“ site config file, and the second one â€“ theme config file.All available settings will be inside code blocks (with single backtick or &lt;code&gt; tags).And all default settings will be bold inside code blocks (with single backtick or &lt;code&gt; and ** or &lt;strong&gt; tags). Recommended SettingsDeprecated SettingsPossible ErrorsAll recommended settings will be highlighted under the success label.All deprecated settings will be highlighted under the warning label.And all possible errors will be highlighted under the danger label. NexT InstallationIt&#39;s easy to install Hexo theme: you can just download the NexT theme, copy the theme folder to the themes directory under site root directory and specify in site config file your theme root directory. The detailed steps are as follows: Downloading NexTNewest VersionStable VersionIf you know about Git, you can clone the whole repository and update it in any time with git pull command instead of downloading archive manually. Open your Terminal, change to Hexo site root directory and clone latest master branch of NexT theme: $ cd hexo$ git clone https://github.com/theme-next/hexo-theme-next themes/next Go to NexT version Release Page. Choose the version you need and download the Source Code (zip) in the Download section. For example v6.0.0. Extract the zip file to site&#39;s themes directory and rename the extracted folder (hexo-theme-next-6.0.0) to next. You also can read detailed installation instructions if you want any other installation variant. If you still use NexT version 5, you can read instructions for update from v5 to v6. Enabling NexTLike all Hexo themes, after you download it, open site config file, find theme section, and change its value to next (or another theme directory name). hexo/_config.ymltheme: next Now you have installed NexT theme, next we will verify whether it is enabled correctly. Between changing the theme and verifying it, we&#39;d better use hexo clean to clean Hexo&#39;s cache. Checking NexTFirst start Hexo local server, and enable debug parameter (by adding --debug), the whole command is hexo s --debug. You can see the output while running, and if you find problem, you can use the output to help others locate error better. When it prints: INFO Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop. Now you can open http://localhost:4000 in your browser, and check whether the site works correctly. If you find your site looks like this picture, you have installed it correctly. Thatâ€™s default NexT scheme â€“ Muse. Now you&#39;ve installed and enabled NexT. In next steps we will change some settings including personalization and third-party services integration. Adding PluginsThere are 2 variants to hook up NexT plugins: Local installation (plugins scripts will loaded from your site). CDN links (plugins scripts will loaded from remote hosts). If your site hosted on VPN (or any other) server with NGINX configuration, recommended to use local installation.And if your files deployed to any free hosting service (Github, Gitlab, etc.), recommended to use CDN links. LocalCDNIn NexT config now you can find dependencies on each module which was moved to external repositories which can be found by main organization link. For example, you want to use fancybox in your site. Go to theme config file and see: next/_config.yml# Dependencies: https://github.com/theme-next/theme-next-fancyboxfancybox: false Then turn on fancybox and go to Â«DependenciesÂ» link with installation instructions of this module.If you use cdn for any plugins, you need to replace your cdn link. For example, you want to use fancybox and you configured a cdn link. Go to theme config file and see: next/_config.ymlvendors: # ... # Some contents... # ... fancybox: //cdn.jsdelivr.net/npm/fancybox@3.0.0/dist/js/jquery.fancybox.pack.js # Set or update fancybox cdn url. fancybox_css: //cdn.jsdelivr.net/npm/fancybox@3.0.0/dist/css/jquery.fancybox.min.css # Set or update fancybox cdn url. And jsDelivr CDN is recommended to deliver our third-party plugins because it is fast in everywhere and has the valid ICP license issued by the Chinese government. It does not only crawl the js files from npm packages, and it crawls from the GitHub Releases! We could use the following link to reference the js files, just as other CDNs. //cdn.jsdelivr.net/gh/user/repo@version/file And it could automatically minify the JS and CSS files, even if you don&#39;t have the minified version. Just use the filename.min.js or the filename.min.css to replace the file above. And we also provide other optional CDNs, including the famous CDNJS and the Bootcss which has the quite high access speed in China. NexT ConfigurationChoosing SchemeScheme is a feature supported by NexT, by using Scheme NexT gives you different views. And nearly all config can be used by those Schemes. Till now NexT supports 4 schemes, and they are: Muse â†’ Default Scheme, this is the initial version of NexT. Uses black-white tone and mainly looks cleanly. Mist â†’ A tighter version of Muse with a tidy single-column view. Pisces â†’ Double-column Scheme, fresh like your neighbor&#39;s daughter. Gemini â†’ Looks like Pisces, but have distinct column blocks with shadow to appear more sensitive to view. You can change Scheme by editing theme config file, searching scheme keyword. You&#39;ll see 4 lines of scheme settings and can enable one of them by removing it&#39;s # and added # to previous. next/_config.yml#scheme: Muse#scheme: Mist#scheme: Piscesscheme: Gemini Choosing LanguageEdit site config file, set the value of language to the language you need. For example, English looks like this: hexo/config.ymllanguage: en Now NexT supports following languages: Language Code Example English en language: en ç®€ä½“ä¸­æ–‡ zh-CN language: zh-CN ç¹é«”ä¸­æ–‡ zh-TW or zh-HK language: zh-TW Ð ÑƒÑÑÐºÐ¸Ð¹ ru language: ru FranÃ§ais fr language: fr German de language: de æ—¥æœ¬èªž ja language: ja Indonesian id language: id PortuguÃªs (Brasil) pt or pt-BR language: pt í•œêµ­ì–´ ko language: ko NiederlÃ¤ndisch nl language: nl Tiáº¿ng Viá»‡t vi language: vi Italiano it language: it TÃ¼rk tr language: tr If you want to add or improve language for NexT theme, you can do it easily with crowdin service. Configuring Menu ItemsMenu settings items have format Key: /link/ || icon which contains 3 values: KeylinkiconKey â†’ is the name of menu item (home, archives, etc.).If translate for this menu will be found in languages, this translate will be loaded; if not, Key name will be used. Key value is case sensitive (e.g. home is not same as Home). Value before || delimeter (/link/) â†’ is the target link to relative url inside your site.Value after || delimeter (icon) â†’ is the name of FontAwesome icon.If icon (with or without delimeter) is not specified, question icon will be loaded.Names of that icons can be found in Font Awesome site. By default NexT provides home and archives items. To customize menu items, edit the following content in theme config file: All custom pages which commented by default under menu section need to create manually. See Â«Custom Page SupportÂ» next/_config.ymlmenu: home: / || home #about: /about/ || user #tags: /tags/ || tags #categories: /categories/ || th archives: /archives/ || archive #schedule: /schedule/ || calendar #sitemap: /sitemap.xml || sitemap #commonweal: /404/ || heartbeat Dynamic sub-menu within hierarchy structure is also supported. Add your sub-menu items in menu section in theme config file as following: next/_config.ymlmenu: home: / || home archives: /archives/ || archive Docs: default: /docs/ || book Third Party Services: default: /third-party-services/ || plug Algolia Search: /algolia-search/ || adn If your site runs in a sub-directory, please remove the prefix / from the link. By default NexT shows the icons of menu items without badges. iconsbadgesYou can configure it by editing values in menu_settings.icons section in theme config file. next/_config.ymlmenu_settings: icons: trueSet the value badges to true to display the count of Posts / Categories / Tags within menu items in menu_settings section in theme config file as following: next/_config.ymlmenu_settings: badges: false Configuring FaviconBy default the Hexo site use NexT favicons in hexo-site/themes/next/source/images/ directory with different size for different device. We recommend that you put custom favicons into hexo-site/source/ directory. To get or check favicons, you can visit Favicon Generator. In this way, you must remove /images prefix from pathes, and rename &amp; redefine the name or format of favicons in favicon section in theme config file, otherwise Next will rewrite your custom icons in Hexo. smallmediumapple_touch_iconsafari_pinned_tabandroid_manifestms_browserconfighexo/_config.ymlfavicon: small: /images/favicon-16x16-next.pnghexo/_config.ymlfavicon: medium: /images/favicon-32x32-next.pnghexo/_config.ymlfavicon: apple_touch_icon: /images/apple-touch-icon-next.pnghexo/_config.ymlfavicon: safari_pinned_tab: /images/logo.svghexo/_config.ymlfavicon: android_manifest: /images/manifest.jsonhexo/_config.ymlfavicon: ms_browserconfig: /images/browserconfig.xml Configuring AvatarBy default NexT doesn&#39;t show avatar in sidebar. You can configure it by editing values under avatar setting in theme config file. urlroundedrotatedopacityFor first test you can uncomment /images/avatar.gif value near the avatar.url setting to see default avatar: next/_config.ymlavatar: url: /images/avatar.gif Then you need to specify your own avatar. It can be done one of the ways below: Hexo directoryNexT directoryAbsolute URL from InternetPut your avatar under site directory source/uploads/ (create directory if it doesn&#39;t exists).And then change option to avatar: /uploads/avatar.png.Put your avatar under theme directory source/images/.And then change option to avatar: /images/avatar.png. Current site uses avatar under theme directory from file located in next/source/images/apple-touch-icon-next.png with following config:hexo/_config.ymltheme_config: avatar: url: /images/apple-touch-icon-next.png rounded: true opacity: 1 rotated: false You also can specify any external URL with absolute path to image: http(s)://example.com/avatar.pngSet up rounded of avatar by changing the value of avatar.rounded: true â†’ Avatar will be rounded. false â†’ Avatar will be squared. next/_config.ymlavatar: rounded: falseSet up rotated of avatar by changing the value of avatar.rotated: true â†’ Avatar will be rotate under the mouse hovering. false â†’ Avatar will not rotate under the mouse hovering. next/_config.ymlavatar: rotated: falseThe value of opacity should be choose from 0 to 1 to set the opacity of the avatar: 1 â†’ Avatar will be in default opacity style. 0 â†’ Avatar will be transparent. next/_config.ymlavatar: opacity: 1 Configuring AuthorEdit site config file and set the value of author to your nickname. hexo/_config.yml# Siteauthor: Configuring DescriptionEdit site config file and set the value of description to your description, which can be a sentence you like. hexo/_config.yml# Sitedescription: After that we can configure deployment.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Frequently Asked Questions]]></title>
    <url>%2Fdocs%2Ffaqs%2Findex.html</url>
    <content type="text"><![CDATA[Here is a collection of frequently asked questions in NexT Issues. If you cannot not find your problem here, please go to NexT Issues to submit your question. How to Set Â«Read MoreÂ»It&#39;s a common need to show some part of article in home page and then give a link to full article. NexT gives 3 ways to control how article is shown in home page. In other words, you can use following ways to show summary of articles and a Read More button: Use &lt;!-- more --&gt; in your article to break your article manually, which is recommended by Hexo. Recommended Add description and set its value to your article summary in front-matter. Generate summary automatically by adding following section in theme config file: next/_config.ymlauto_excerpt: enable: true length: 150 By default it cuts 150 characters from article header, you can set the number by yourself. It is recommended to use &lt;!-- more --&gt; (the first way) which can not only control what you want to show better, but also let Hexo&#39;s plugins use it easily. How to Change FontsNexT provided a Fonts Customization funtion. If you still need more customization, following change will cover Fonts Customization function. Edit source/css/_variables/custom.styl in NexT theme dir and add two varibles: source/css/_custom/custom.styl// Title Font, set it to font family you want.$font-family-headings = Georgia, sans// Set it to font family you want.$font-family-base = "Microsoft YaHei", Verdana, sans-serif// Code Font.$code-font-family = "Input Mono", "PT Mono", Consolas, Monaco, Menlo, monospace// Font size of articles.$font-size-base = 16px// Font size of code.$code-font-size = 13px How to Change Content WidthBy default NexT has following setting of content width: 700px â†’ when screen width &lt; 1200px. 800px â†’ when screen width &gt;= 1200px. 900px â†’ when screen width &gt;= 1600px. In mobile / tablet devices it will use responsive width. You can change content width by editing CSS style file. Edit source/css/_variables/custom.styl in theme root directory and add varibles: Muse / Mist schemesPisces / Gemini schemesDefault variables for both Muse and Mist schemes are located in source/css/_variables/base.styl and defined as: next/source/css/_variables/base.styl$content-desktop = 700px$content-desktop-large = 800px$content-desktop-largest = 900px For example, you want wider content width. You may redefine this variables with percentage width: next/source/css/_variables/custom.styl$content-desktop = 90%$content-desktop-large = 90%$content-desktop-largest = 90% If values will in percents, during opening sidebar will dynamically decrease content width to defined by you percent.But in standard behaviour, sidebar must displace content from yourself.To around it, you can to specify content width in em:next/source/css/_variables/custom.styl$content-desktop = 50em$content-desktop-large = 55em$content-desktop-largest = 60em Default variables for Pisces (and Gemini) scheme are located in source/css/_variables/Pisces.styl and defined as: next/source/css/_variables/Pisces.styl$content-desktop = 'calc(100% - %s)' % unit($content-desktop-padding / 2, 'px')$content-desktop-large = 1160px$content-desktop-largest = 73% $content-desktop value in this schemes is auto-responsive by default. It can be changed to any value too, but for better content visibility recommended to stay it as is. In this schemes content width was defined on maximum and already balanced: if desktop width will be wider â€“ content width will more narrowed for easier reading. But if you want to make more narrow content width in wider desktops, here is example: next/source/css/_variables/custom.styl$content-desktop-large = 65em$content-desktop-largest = 65% In fact, Gemini scheme is just fork of Pisces scheme with some style improvements.Therefore, almost all part of variables from Pisces scheme are imported to Gemini scheme too.So, if you want to add any variables or styles to both Pisces and Gemini schemes, need to edit values just in Pisces scheme. Wrong Number of Tags/CategoriesBecause Hexo has cache, sometimes the nubmer in Tags or Categories page is wrong. If you find this question you can re-generate site&#39;s content as following: Delete db.json in site dir. Run command hexo clean in site dir to clean cache. Run command hexo generate in site dir to re-generte. After doing those you can run local server to see if the problem was solved. How to Disable Comments on PageWhen you enabled comment service like Disqus, all new page will have comment service automatically. If you want to disable it in one page, just add comments key to Front-matter and set it&#39;s value to false. Like following: your-post.mdtitle: All tagstype: "tags"comments: false--- How to Set Number of Articles in Each PageSet following in site config file: next/_config.ymlindex_generator: per_page: 5archive_generator: per_page: 20 yearly: true monthly: truetag_generator: per_page: 10 per_page is the number of articles per page. Please note that Hexo 3.2 doesn&#39;t allow to have duplicated same options. You&#39;d better check weither site config file already has same config. If has, make them together. How to Optimize NexT ThemeNexT doesn&#39;t compress HTML, JavaScript and CSS. If you need this, you can try to search 3rd-party libraries in Hexo plugins section or plugins/modules under the NexT organization link. For example, you can use hexo-filter-optimize plugin.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Advanced Settings]]></title>
    <url>%2Fdocs%2Fadvanced-settings%2Findex.html</url>
    <content type="text"><![CDATA[Besides normal Theme Settings and Third-party Services, NexT supports some advanced settings which makes NexT customizable.Please note that those settings may lead to abnormal behavior if they are wrong. Change them only when you know for what they are. Third-party JS LibrariesYou can set it to a proper CDN URL, which can make static assets (JavaScript Third-party Library) load faster, now NexT contains following third-party library: Name Original Link NexT Internal Version jQuery jquery.com 2.1.3 FontAwesome fontawesome.io 4.4.0 VelocityJS velocityjs.org 1.2.1 VelocityJS UI Pack velocityjs.org/#uiPack 1.2.1 UAParser.js faisalman.github.io/ua-parser-js 0.7.9 This feature located under vendors section in theme config file._internal: lib is used to tell NexT where internal library is located and you shouldn&#39;t change this in most cases.And next part is config of each library; if you leave it blank NexT will use internal version. Each config is in format of libname: CDN URL. For example: jquery: //cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js Â«Internal versionÂ» is the version that NexT tested and uses. And if you need other versions you need to test them first. next/_config.yml# Script Vendors.# Set a CDN address for the vendor you want to customize.# For example# jquery: https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js# Be aware that you should use the same version as internal ones to avoid potential problems.# Please use the https protocol of CDN files when you enable https on your site.vendors: # Internal path prefix. Please do not edit it. _internal: lib # Internal version: 2.1.3 # Example: # jquery: //cdn.jsdelivr.net/npm/jquery@2/dist/jquery.min.js # jquery: //cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js jquery: //cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js # Internal version: 2.1.5 # See: https://fancyapps.com/fancybox # Example: # fancybox: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js # fancybox: //cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.6/jquery.fancybox.min.js # fancybox_css: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css # fancybox_css: //cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.6/jquery.fancybox.min.css fancybox: //cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js fancybox_css: //cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css # Internal version: 1.0.6 # See: https://github.com/ftlabs/fastclick # Example: # fastclick: //cdn.jsdelivr.net/npm/fastclick@1/lib/fastclick.min.js # fastclick: //cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js fastclick: //cdn.jsdelivr.net/npm/fastclick/lib/fastclick.min.js # Internal version: 1.9.7 # See: https://github.com/tuupola/jquery_lazyload # Example: # lazyload: //cdn.jsdelivr.net/npm/jquery-lazyload@1/jquery.lazyload.min.js # lazyload: //cdnjs.cloudflare.com/ajax/libs/jquery_lazyload/1.9.7/jquery.lazyload.min.js lazyload: //cdn.jsdelivr.net/npm/jquery-lazyload/jquery.lazyload.min.js # Internal version: 1.2.1 # See: http://velocityjs.org # Example: # velocity: //cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js # velocity: //cdnjs.cloudflare.com/ajax/libs/velocity/1.2.1/velocity.min.js # velocity_ui: //cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js # velocity_ui: //cdnjs.cloudflare.com/ajax/libs/velocity/1.2.1/velocity.ui.min.js velocity: //cdn.jsdelivr.net/npm/velocity-animate/velocity.min.js velocity_ui: //cdn.jsdelivr.net/npm/velocity-animate/velocity.ui.min.js # Internal version: 0.7.9 # See: https://faisalman.github.io/ua-parser-js # Example: # ua_parser: //cdn.jsdelivr.net/npm/ua-parser-js@0/src/ua-parser.min.js # ua_parser: //cdnjs.cloudflare.com/ajax/libs/UAParser.js/0.7.9/ua-parser.min.js ua_parser: //cdn.jsdelivr.net/npm/ua-parser-js/src/ua-parser.min.js # Internal version: 4.6.2 # See: https://fontawesome.com # Example: # fontawesome: //cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css # fontawesome: //cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css fontawesome: //cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css # Internal version: 2.4.1 # See: https://www.algolia.com # Example: # algolia_instant_js: //cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.js # algolia_instant_css: //cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css algolia_instant_js: algolia_instant_css: # Internal version: 1.0.2 # See: https://github.com/HubSpot/pace # Example: # pace: //cdn.jsdelivr.net/npm/pace-js@1/pace.min.js # pace: //cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js # pace_css: //cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css # pace_css: //cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/blue/pace-theme-minimal.min.css pace: pace_css: # Internal version: 1.0.0 # See: https://github.com/theme-next/theme-next-canvas-nest # Example: # canvas_nest: //cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js # canvas_nest_nomobile: //cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest-nomobile.min.js canvas_nest: canvas_nest_nomobile: # Internal version: 1.0.0 # See: https://github.com/theme-next/theme-next-three # Example: # three: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js # three_waves: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three-waves.min.js # canvas_lines: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/canvas_lines.min.js # canvas_sphere: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/canvas_sphere.min.js three: three_waves: canvas_lines: canvas_sphere: # Internal version: 1.0.0 # See: https://github.com/zproo/canvas-ribbon # Example: # canvas_ribbon: //cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1/canvas-ribbon.js canvas_ribbon: # Internal version: 3.3.0 # See: https://github.com/ethantw/Han # Example: # han: //cdn.jsdelivr.net/npm/han-css@3/dist/han.min.css # han: //cdnjs.cloudflare.com/ajax/libs/Han/3.3.0/han.min.css han: //cdn.jsdelivr.net/npm/han-css/dist/han.min.css # Internal version: 3.3.0 # See: https://github.com/vinta/pangu.js # Example: # pangu: //cdn.jsdelivr.net/npm/pangu@3/dist/browser/pangu.min.js # pangu: //cdnjs.cloudflare.com/ajax/libs/pangu/3.3.0/pangu.min.js pangu: //cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js # See: https://github.com/GoogleChromeLabs/quicklink # Example: # quicklink: //cdn.jsdelivr.net/npm/quicklink@1.0.0/dist/quicklink.umd.js quicklink: # Internal version: 1.0.0 # See: https://github.com/revir/need-more-share2 # Example: # needmoreshare2_js: //cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js # needmoreshare2_css: //cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css needmoreshare2_js: needmoreshare2_css: # Internal version: 1.0.0 # See: https://github.com/theme-next/theme-next-bookmark # Example: # bookmark: //cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1/bookmark.min.js bookmark: # Internal version: 1.1 # See: https://github.com/theme-next/theme-next-reading-progress # Example: # reading_progress: //cdn.jsdelivr.net/gh/theme-next/theme-next-reading-progress@1/reading_progress.min.js reading_progress: //cdn.jsdelivr.net/gh/theme-next/theme-next-reading-progress/reading_progress.min.js # leancloud-storage # See: https://www.npmjs.com/package/leancloud-storage # Example: # leancloud: //cdn.jsdelivr.net/npm/leancloud-storage@3/dist/av-min.js leancloud: //cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js # valine # See: https://github.com/xCss/Valine # Example: # valine: //cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js # valine: //cdnjs.cloudflare.com/ajax/libs/valine/1.3.4/Valine.min.js valine: /lib/Valine.min.js # gitalk # See: https://github.com/gitalk/gitalk # Example: # gitalk_js: //cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js # gitalk_css: //cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css gitalk_js: gitalk_css: # js-md5 # See: https://github.com/emn178/js-md5 # Example: # md5: //cdn.jsdelivr.net/npm/js-md5@0/src/md5.min.js md5:]]></content>
  </entry>
  <entry>
    <title><![CDATA[Theme Settings]]></title>
    <url>%2Fdocs%2Ftheme-settings%2Findex.html</url>
    <content type="text"><![CDATA[NexT insists to hide complex details and gives you a simple but flexible config, so you can use it easily. Cache SupportNexT v6+ allows to cache content generation. Set the value enable to true in cache section in theme config file as following: next/_config.yml# Allow to cache content generation. Introduced in NexT v6.0.0.cache: enable: true Custom Style SupportLike Next Data files, you can put all your custom styles into one place (hexo/source/_data). head: It&#39;s custom swig styles placed in layout/_custom/head.swig. header: It&#39;s custom swig styles placed in layout/_custom/header.swig. sidebar: It&#39;s custom swig styles placed in layout/_custom/sidebar.swig. variables: It&#39;s variables styles placed in source/css/_variables/custom.styl. mixins: It&#39;s mixins styles placed in source/css/_mixins/custom.styl. styles: It&#39;s custom styles placed in source/css/_custom/custom.styl. Add your custom files in hexo/source/_data and uncomment needed files under the custom_file_path section in theme config file as following: next/_config.yml# For example, you want to put your custom styles file# outside theme directory in root `source/_data`, set# `styles: source/_data/styles.styl`#custom_file_path: # Default paths: layout/_custom/* #head: source/_data/head.swig #header: source/_data/header.swig #sidebar: source/_data/sidebar.swig # Default path: source/css/_variables/custom.styl #variables: source/_data/variables.styl # Default path: source/css/_mixins/custom.styl #mixins: source/_data/mixins.styl # Default path: source/css/_custom/custom.styl #styles: source/_data/styles.styl RSS SupportThere are three RSS options in NexT to fit different cases.Edit theme config file and set the value of rss: false: Disable RSS, which won&#39;t show links on page. Leave Blank: Use Hexo to generate feed and insert links automatically. You may need to install hexo-generator-feed plugin with npm firstly. Concrete URL: This means you have generate Feed in advance. Creative CommonsNexT supports the display of Creative Commons 4.0 International License in sidebar and post including by, by-nc, by-nc-nd, by-nc-sa, by-nd, by-sa, zero. These licenses allow creators to communicate which rights they reserve, and which rights they waive for the benefit of recipients or other creators. You can configure it by editing values in creative_commons section in theme config file, for example: next/_config.ymlcreative_commons: license: by-nc-sa sidebar: true post: true language: deed.zh GitHub BannerNexT provides Follow me on GitHub banner in right-top corner. next/_config.yml# Follow me on GitHub banner in right-top corner.github_banner: enable: false permalink: https://github.com/yourname title: Follow me on GitHub permalinktitlepermalink â†’ is the specified link must have full url path.title â†’ is the title and aria-label name. You can set enable to true and add your own GitHub link. SEO SettingNext provides useful options for better Search Engine Optimization (SEO). disable_baidu_tranformationcanonicalseoindex_with_subtitleBy default China&#39;s search engine Baidu will cache and rewrite your site to provide a webpage snapshot for mobile users. You can disable this by setting the value disable_baidu_tranformation to true in theme config file. next/_config.ymldisable_baidu_tranformation: falseBy default a canonical link tag is created in Hexo by setting the value canonical to true in theme config file after you have set up your URL url: http://yoursite.com in site config file. More detailed information can be found in Consolidate duplicate URLs. next/_config.ymlcanonical: trueSet the value enable to true in seo section to change headers hierarchy on subtitle in site config file and on all post/pages titles for better SEO in theme config file as following: next/_config.ymlseo: falseSet the value enable to true in index_with_subtitle section to add subtitle information in site config file to index page. next/_config.ymlindex_with_subtitle: false NexT also supports the baidu push so that the blog will push the url to baidu automatically which is very helpful for SEO. You can enable it by editing values related_posts.enable to true in theme config file. next/_config.ymlbaidu_push: false Mobile Devices Adaptationmobile_layout_economyandroid_chrome_colorIf you want to reduce padding/margin indents on devices with narrow width, you can enable it by editing values mobile_layout_economy to true in theme config file. next/_config.ymlmobile_layout_economy: falseBy default NexT uses black-deep (#222) as the color of android Chrome header panel. You can configure it by editing values with Hex color in android_chrome_color section in theme config file. next/_config.ymlandroid_chrome_color: "#222" Rainbow SafariIf you want to hide sticky headers and color the menu bar on Safari (iOS / macOS), you can set safari_rainbow to true. More information here: rainbowsafari. next/_config.ymlsafari_rainbow: false Custom Scrollbar SupportNexT supports the scrollbar personalization. Only works on webkit based browsers. next/_config.ymlcustom_scrollbar: false Custom Logo SupportNexT supports the site logo personalization. enable â†’imageYou can enable it by editing values custom_logo.enable to true in theme config file. next/_config.ymlcustom_logo: enable: falseThen you can add images&#39;s url by editing values in custom_logo.image section in theme config file. next/_config.ymlcustom_logo: image: Scheme Mist does not support custom logo setting under 6.0.x version or highter. Fonts CustomizationTo solve the unstable of Google Fonts API in some countries, NexT supports setting fonts. By using this feature you can assign URL of fonts library. And NexT gives you 5 specific font settings, they are: Global Font: Font used in the whole site. Title Font: Font used by titles in articles (H1, H2, H3, H4, H5, H6). Article Font: Font used by articles. Logo Font: Font used by Logo. Code Font: Font used by code blocks in articles. Each fonts will be used as the first font of this class, NexT will fallback to internal font settings if they are unavalible. Non-code Font: Fallback to &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif Code Font: Fallback to consolas, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, monospace Plus each section has a external attribute, this controls whether to use the font library CDN.Use this can help you to use fonts installed in system and reduce unnecessary requests. next/_config.ymlfont: enable: true # Font library CDN, e.g. //fonts.googleapis.com (Default) host: # Global font settings used for all elements in &lt;body&gt;. global: external: true family: Monda size: # Font settings for Headlines (H1, H2, H3, H4, H5, H6). # Fallback to `global` font settings. headings: external: true family: Roboto Slab size: # Font settings for posts. # Fallback to `global` font settings. posts: external: true family: # Font settings for Logo. # Fallback to `global` font settings. logo: external: true family: Lobster Two size: 24 # Font settings for &lt;code&gt; and code blocks. codes: external: true family: PT Mono size: Animation EffectNexT enables animation effect by default which is supported by JavaScript, so it will wait for JavaScript loaded to show content.If you need speed you can set this section to false to disable it. Edit theme config file and set the needed values under the motion to fit your demand. next/_config.yml# Use velocity to animate everything.motion: enable: true async: false transition: # Transition variants: # fadeIn | fadeOut | flipXIn | flipXOut | flipYIn | flipYOut | flipBounceXIn | flipBounceXOut | flipBounceYIn | flipBounceYOut # swoopIn | swoopOut | whirlIn | whirlOut | shrinkIn | shrinkOut | expandIn | expandOut # bounceIn | bounceOut | bounceUpIn | bounceUpOut | bounceDownIn | bounceDownOut | bounceLeftIn | bounceLeftOut | bounceRightIn | bounceRightOut # slideUpIn | slideUpOut | slideDownIn | slideDownOut | slideLeftIn | slideLeftOut | slideRightIn | slideRightOut # slideUpBigIn | slideUpBigOut | slideDownBigIn | slideDownBigOut | slideLeftBigIn | slideLeftBigOut | slideRightBigIn | slideRightBigOut # perspectiveUpIn | perspectiveUpOut | perspectiveDownIn | perspectiveDownOut | perspectiveLeftIn | perspectiveLeftOut | perspectiveRightIn | perspectiveRightOut post_block: fadeIn post_header: slideDownIn post_body: slideDownIn coll_header: slideLeftIn # Only for Pisces | Gemini. sidebar: slideUpIn]]></content>
  </entry>
  <entry>
    <title><![CDATA[Tag Plugins]]></title>
    <url>%2Fdocs%2Ftag-plugins%2Findex.html</url>
    <content type="text"><![CDATA[Tag Plugin is a way to make special style contents supported by Hexo. For example, we cannot show a image with custom size in standard Markdown. And then we can use tag plugins to solve it. Hexo has a lot of tags which can help user. And Hexo also have interfaces to themes which make themes able to create their own tags. Following tags is provided by NexT: Centered Quote Include Raw Button Full Image Group Pictures Label Mermaid Note PDF Tabs Video Centered QuoteThis tag will make a quote with two lines before and after it, and text quoted will be centered. When using centered quote, if we have multi-line text, and each line has a different length, the quote won&#39;t be symmetrical, so it&#39;s recommended to use when only have single line text. For example before article all after article to make a summary. Usagecenter-quote.js&#123;% centerquote %&#125;Something&#123;% endcenterquote %&#125;&lt;!-- Tag Alias --&gt;&#123;% cq %&#125;Something&#123;% endcq %&#125; Example&#123;% cq %&#125;Elegant in code, simple in core&#123;% endcq %&#125; Elegant in code, simple in core Include RawThis tag include any raw content into your posts. Path is relative to your site source directory. Usageinclude-raw.js&#123;% include_raw '_data/path/to/file.html' %&#125; ExampleLet&#39;s create include-raw.html file in _data directory under site root directory with following content: Any &lt;strong&gt;raw content&lt;/strong&gt; may be included with this tag. Then in any post we can use this content with include_raw tag: &#123;% include_raw '_data/path/to/include-raw.html' %&#125; Any raw content may be included with this tag.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Troubleshooting]]></title>
    <url>%2Fdocs%2Ftroubleshooting%2Findex.html</url>
    <content type="text"><![CDATA[Keep up indentationWhen you edit any YAML configs, always need to keep up indents.Currently, in all Hexo and NexT configuration files parameters uses 2 spaces indents from parent option. For example, we want to change NexT scheme from standart Muse to Gemini and want to use Data Files feature with Hexo way option. NexT Config â†’Hexo ConfigWe open theme config file and under the Â«Scheme SettingsÂ» section copy next parameters: next/_config.yml# ---------------------------------------------------------------# Scheme Settings# ---------------------------------------------------------------scheme: Muse#scheme: Mist#scheme: Pisces#scheme: GeminiThen we open site config file and paste these parameters under theme_config section: Nothing HappenWorked Finehexo/_config.ymltheme_config:#scheme: Muse#scheme: Mist#scheme: Piscesscheme: Gemini Here will nothing happen because indentation not keeped up. Hexo just can&#39;t see these parameters because subparameters (children parameters of theme_config parameter) are not exists. Let&#39;s see same configuration with indents.hexo/_config.ymltheme_config: #scheme: Muse #scheme: Mist #scheme: Pisces scheme: Gemini And here Hexo can read these parameters as theme_config.scheme: Gemini in same way, as NexT can read scheme: Gemini parameter. So, with 2 spaces indents from parent option(s) Hexo must loaded any NexT parameters and worked fine. Backtick Code Block in TagsWhen backtick code block(s) exists inside other tags (like blockquote, note, tabs), that code block will be generated as Â«undefinedÂ» string in HTML. There are several ways to resolve this: Tagged Code BlockHTML tagsBugfix for BacktickInstead of Backtick Code Block you also can use tagged Code Block.But in rare cases standard code block can obtain errors inside other tags.Use HTML tags instead of Hexo tags: &lt;pre&gt;&lt;code&gt;.In this case you can&#39;t add code syntax highlighting.Here is pull with bugfix for use backtick code block inside tags (from Dec 2016 still not merged).So, for this moment you can merge it manually, if you need to use backtick code block inside tags. Sometimes during generate you can see Â«Error: Unmatched placeholder remains!Â» message.This mean somewhere in your posts, blocks with tags was commented with {# and #} symbols:ErrorSuccess&#123;#&#123;% label error@Unmatched placeholder remains! %&#125;#&#125;&#123;% label error@Unmatched placeholder remains! %&#125; Favicon Set but Doesn&#39;t Work (Need to redocs)Put your favicon under site's source dir. If you find that your Favicon doesn&#39;t work, please clean your browser&#39;s cache first and then visit your Favicon&#39;s URL directly, which should be http(s)://your-domain.com/favicon.ico. If your site is in a subdirectory please set it to favicon: favicon.ico. Cannot Find Module XXXNexT&#39;s tag plugin uses some submodules of Hexo, like hexo-util. NPM uses new module install mode in version 3, NexT will use this mode which means if you are using a old NPM will find this error. So if you find error like &quot;Cannot find module XXX&quot;, please use npm -v to check your NPM version. Version &gt; 3: Still not work? Please remove node_modules directory and reinstall using npm install. Version &lt; 3: You can update your NPM Or can install modules (and their dependences) manually: npm install --save hexo-util; where hexo-util is a example, please replace it with module name in the error.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Third-party Services]]></title>
    <url>%2Fdocs%2Fthird-party-services%2Findex.html</url>
    <content type="text"><![CDATA[Static website is limited in some functions, so we need third-party services to extend our site.In any time you can extend needed functions by using third-party services supported by NexT. Comment Systems Disqus DisqusJS Facebook Comments VKontakte Comments and Likes Gitalk LiveRe Valine Gitment Changyan Widgetpack Rating If you want to disable comment in some page/post, just add comments: false to front-matter in your markdown file. Statistics and Analytics Google Webmaster Tools Bing Webmaster Tools Yandex Webmaster Tools Baidu Webmaster Tools Google Analytics Azure Application Insights Baidu Analytics (China) Tencent Analytics (China) CNZZ Analytics (China) Tencent Mobile Analytics (China) LeanCloud (China) Busuanzi Counting (China) Firebase Content Sharing Services AddThis Likely Need More Share Baidu Sharing (China) Search Services Local Search Algolia Search Swiftype External Libraries Fancybox Bookmark Reading Progress Progress bar FastClick Jquery Lazyload Backgroud JS Han Support Pangu Autospace Support Math Equations Math Equations Chat Services Chatra Tidio]]></content>
  </entry>
  <entry>
    <title><![CDATA[Data Files]]></title>
    <url>%2Fdocs%2Fgetting-started%2Fdata-files%2Findex.html</url>
    <content type="text"><![CDATA[Currently, it is not smooth to update NexT theme from pulling or downloading new releases. It is quite often running into conflict status when updating NexT theme via git pull, or need to merge configurations manually when upgrading to new releases. At present, NexT encourages users to store some options in site config file (hexo/_config.yml) and other options in theme config file (next/_config.yml). This approach is applicable, but has some drawbacks: Configurations are splitted into two pieces Users may be confused which place should be for options In order to resolve this issue, NexT will take advantage of Hexo Data files. Because Data files is introduced in Hexo 3, so you need upgrade Hexo to 3.0 (or above) to use this feature. If you prefer Hexo 2.x, you can still use the old approach for configurations. NexT is still compatible with Hexo 2.x (but errors are possible). Hexo-WayNexT-WayWith this way, all your configurations locate in main site config file.You don&#39;t need to edit theme config file or create any new files.But you need to keep up indentation within theme_config option. If there are any new options in new releases, you just need to copy those options from theme config file, paste into site config file and set their values to whatever you want. Usage Check for no exists hexo/source/_data/next.yml file (delete it if exists). Copy needed NexT theme options from theme config file into site config file, then2.1. Move all this settings to the right with two spaces (in Visual Studio Code: select all strings, CTRL + ]).2.2. Add theme_config: parameter above all this settings. Useful links Hexo Configuration Hexo Pull #757 With this way, you can put all your configurations into one place (hexo/source/_data/next.yml).You don&#39;t need to edit theme config file (next/_config.yml).But option may not accurately procces all hexo external libraries with their additional options (for example, hexo-server module options may be readed only in default hexo config). If there are any new options in new releases, you just need to copy those options from theme config file, paste into hexo/source/_data/next.yml and set their values to whatever you want. Usage Please ensure you are using Hexo 3 (or above). Create an file named next.yml in hexo/source/_data directory (create _data directory if it did not exists). After that steps there are 2 variants, need to choose only one of them and resume next steps. override: falseoverride: true1. In next.yml override option must not be defined or set on false.2. Copy needed options from both site config file and theme config file into hexo/source/_data/next.yml.1. In next.yml set override option on true.2. Copy all NexT theme options from theme config file into hexo/source/_data/next.yml. Then, in main site config file need to define theme: next option (and if needed, source_dir: source). Use standart parameters to start server, generate or deploy (hexo clean &amp;&amp; hexo g -d &amp;&amp; hexo s).]]></content>
  </entry>
  <entry>
    <title><![CDATA[Installation]]></title>
    <url>%2Fdocs%2Fgetting-started%2Finstallation%2Findex.html</url>
    <content type="text"><![CDATA[Go to Hexo dirChange dir to site root directory. There must be node_modules, source, themes and other directories: $ cd hexo$ ls_config.yml node_modules package.json public scaffolds source themes Get NexTDownload theme from GitHub. There are 3 options to do it, need to choose only one of them. Latest Master BranchTagged Release VersionLatest Release VersionOption 3: Download Latest Master Branch May be unstable, but includes latest features. Recommended for advanced users and for developers. GitCurl & Tar$ git clone https://github.com/theme-next/hexo-theme-next themes/next This variant will give to you the whole repository (with .git directory inside).And in any time you can update current version with git (instructions below) and switch to any tagged release or on latest master or any other branch.At most cases useful as for users and for developers. Get tags list: $ cd themes/next$ git tag -lâ€¦v6.0.0v6.0.1v6.0.2 For example, you want to switch on v6.0.1 tagged release version. Input the following command: $ git checkout tags/v6.0.1Note: checking out 'tags/v6.0.1'.â€¦HEAD is now at da9cdd2... Release v6.0.1 And if you want to switch back on master branch, input this command: $ git checkout master UpdateYou can update to latest master branch by the following command: $ cd themes/next$ git pull And if you see any error message during update (something like Â«Commit your changes or stash them before you can mergeÂ»), recommended to learn Data Files feature.Howbeit, you can bypass update errors by Commit, Stash or Discard local changes. See here how to do it.$ mkdir themes/next$ curl -L https://api.github.com/repos/theme-next/hexo-theme-next/tarball | tar -zxv -C themes/next --strip-components=1 Same as before under curl &amp; tar &amp; wget variant, but will download only latest master branch version.At some cases useful for developers.Option 2: Download Tagged Release Version In rare cases useful, but not recommended.You must define version. Replace v6.0.0 with any version from tags list. GitcURL & tar$ git clone --branch v6.0.0 https://github.com/theme-next/hexo-theme-next themes/next This variant will give to you the defined release version (with .git directory inside).And in any time you can switch to any tagged release, but with limit to defined version.$ mkdir themes/next$ curl -L https://api.github.com/repos/theme-next/hexo-theme-next/tarball/v6.0.0 | tar -zxv -C themes/next --strip-components=1 Same as before under curl &amp; tar &amp; wget variant, but will download only concrete version.Option 1: Download Latest Release Version At most cases stable. Recommended for beginners. cURL & tar & Wget$ mkdir themes/next$ curl -s https://api.github.com/repos/theme-next/hexo-theme-next/releases/latest | grep tarball_url | cut -d '"' -f 4 | wget -i - -O- | tar -zx -C themes/next --strip-components=1 This variant will give to you only latest release version (without .git directory inside).So, there is impossible to update this version with git later.Instead you always can use separate configuration (e.g. Data Files) and download new version inside old directory (or create new directory and redefine theme in site config file), without losing your old configuration. Set it upWhen NexT download will complete, we must go back to previous guide and follow Enabling NexT instructions.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Update from Version 5]]></title>
    <url>%2Fdocs%2Fgetting-started%2Fupdate-from-v5%2Findex.html</url>
    <content type="text"><![CDATA[There are no hard breaking changes between 5.1.x and 6.0.x versions. It&#39;s change major version to 6 because: Main repositorie was rebased from iissnan&#39;s profile to theme-next organization. Most libraries under the next/source/lib directory was moved out to external repositories under NexT organization. 3rd-party plugin hexo-wordcount was replaced by hexo-symbols-count-time because hexo-symbols-count-time no have any external nodejs dependencies, no have language filter which causes better performance on speed at site generation. So, NexT suggest to update from version 5 to version 6 in this way: You don&#39;t touch old next dir and just do some copies of NexT files:1.1. config.yml or next.yml (if you used data-files).1.2. Custom CSS styles what placed in next/source/css/_custom/* and next/source/css/_variables/* directories.1.3. Custom layout styles what placed in next/layout/_custom/*.1.4. Any another possible custom additions which can be finded by compare tools between repositories. Clone new v6.x repositorie to any another directory instead of next. For example, in next-reloaded directory: git clone https://github.com/theme-next/hexo-theme-next themes/next-reloaded. So, you don&#39;t touch your old NexT 5.1.x directory and can work with new next-reloaded dir. Go to Hexo main config and set theme parameter: theme: next-reloaded. So, your next-reloaded directory must loading with your generation. If you may see any bugs or you simply not like this version, in anytime you can switch for 5.1.x version back. And how to enable 3rd-party libraries see here.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Footer]]></title>
    <url>%2Fdocs%2Ftheme-settings%2Ffooter%2Findex.html</url>
    <content type="text"><![CDATA[Site Footer SettingSite Start TimeBy default NexT shows current year in the footer like Â© 2018. You can configure it to show the time gap like Â© 2015 - 2018 by editing values in since section in theme config file. next/_config.ymlfooter: since: 2015 Site Footer IconBy default NexT shows black user icon without animation between year and copyright information in the footer. You can configure it by editing values in icon section in theme config file. nameanimatedcolorThe name of footer icon can be founded in Font Awesome site. heart is recommended. next/_config.ymlfooter: icon: name: userSet up animated of footer icon by changing the value of icon.animated: true â†’ Icon will be animated. false â†’ Icon will not be animated. next/_config.ymlfooter: icon: animated: falseSet up color of footer icon by changing the value of icon.color. Please use Hex Code, and red (#ff0000) is recommended for heart icon. next/_config.ymlfooter: icon: color: "#808080" Site Copyright NameBy default NexT shows the name of author from site config file. You can configure it by editing values in copyright section in theme config file. next/_config.ymlfooter: copyright: Site Platform InformationBy default NexT shows Hexo and Theme &amp; scheme information like Powered by Hexo v3.7.1 | Theme â€” NexT.Muse v6.3.0. You can configure it by editing values in powered and theme section in theme config file. poweredthemeenableversion true â†’ Displaying Powered by Hexo Information. false â†’ Not Displaying Powered by Hexo Information. next/_config.ymlfooter: powered: enable: true true â†’ Displaying Hexo Version Information. false â†’ Not Displaying Hexo Version Information. next/_config.ymlfooter: powered: version: trueenableversion true â†’ Displaying Theme &amp; Scheme Information. false â†’ Not Displaying Theme &amp; Scheme Information. next/_config.ymlfooter: theme: enable: true true â†’ Displaying Theme NexT Version Information. false â†’ Not Displaying Theme NexT Version Information. next/_config.ymlfooter: theme: version: true Adding Custom InformationIf you want, any custom text can be defined within footer in custom_text section in theme config file like: next/_config.ymlfooter: custom_text: Hosted by &lt;a target="_blank" rel="external nofollow" href="https://pages.coding.me"&gt;&lt;b&gt;Coding Pages&lt;/b&gt;&lt;/a&gt;]]></content>
  </entry>
  <entry>
    <title><![CDATA[Deployment]]></title>
    <url>%2Fdocs%2Fgetting-started%2Fdeployment%2Findex.html</url>
    <content type="text"><![CDATA[Local Deployment Modify files locally. Localization testing: hexo clean &amp;&amp; hexo g &amp;&amp; hexo s. Deployment: hexo g -d. Continuous Integration Edit the file directly online, effective immediately Automatic deployment, simultaneous deployment to multiple locations Travis CIGitlab CITravis CI enables your team to test and ship your apps with confidence. Itâ€™s built for everyone and for projects and teams of all sizes, supporting over 20 different languages out of the box, including Javascript and Node.js, Ruby, PHP, Python, Mac/iOS, as well as Docker, while giving you full control over the build environment to customize it to your own needs. Get permissions â†’Configure .travis.ymlThere are two ways to obtain the necessary permissions for Travis CI. Deploy Key has the advantage of high security, while Access Token has the advantage of being more flexible. Access TokenDeploy KeyThis method applies to a warehouse with a private Submodule Create an empty branch of source in the repository where the blog source is hosted. Get the Access Token: Settings -&gt; Developer settings -&gt; Personal access token -&gt; Generate new token. Set access rights according to the actual situation. It should be noted that the access token is only displayed once on this page, and it should be copied, otherwise it can only be regenerated. Use github account to log in to Travis CI website. You can find the warehouses in the current github account, select the warehouses to be deployed, and then click setting. Fill in the personal access token generated by github and select the branch that the warehouse needs to be monitored by Travis. Deploy key is a SSH key set in your repo to grant client read-only (as well as r/w, if you want) access to your repo. This method is suitable for most public blog repositories and there are no private sub-modules in the repositories. Create an empty branch of source in the repository where the blog source is hosted. Generate a ssh key $ ssh-keygen -t rsa -b 4096 -C &quot;&#123;email&#125;&quot; -f ~/.ssh/deploy_key Add the deployment public key in your repo, and delete it $ rm -f deploy_key.pub Use the Travis command to encrypt private key, and add it to git $ gem install travis$ travis login$ travis encrypt deploy_key$ rm -f deploy_key$ git add deploy_key.enc hexo/.travis.ymldist: trustysudo: requiredaddons: ssh_known_hosts: - github.com - git.coding.net apt: packages: - nasmenv: global: - TZ=Asia/Tokyolanguage: node_jsnode_js: nodebranches: only: - sourcegit: depth: false submodules: falsecache: apt: true directories: - node_modulesbefore_install: # Git Config - sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodules - git config --global user.name "YOUR-GITHUB-NAME" - git config --global user.email "YOUR-EMAIL" # Restore last modified time - "git ls-files -z | while read -d '' path; do touch -d \"$(git log -1 --format=\"@%ct\" \"$path\")\" \"$path\"; done" # Submodules - git submodule update --recursive --remote --init # Deploy history - git clone --branch=master --single-branch YOUR-BLOG-REPO .deploy_git # SSH Setup - openssl aes-256-cbc -K $encrypted_693585a97b8c_key -iv $encrypted_693585a97b8c_iv -in deploy_key.enc -out deploy_key -d - eval "$(ssh-agent -s)" - chmod 600 ./deploy_key - ssh-add ./deploy_keyinstall: npm installbefore_script:script: - hexo clean - hexo g -dGitLab offers a continuous integration service and pages service. If you add a .gitlab-ci.yml file to the root directory of your repository, and configure your GitLab project to use a Runner, then each commit or push, triggers your CI pipeline. The .gitlab-ci.yml file tells the GitLab runner what to do. By default it runs a pipeline with three stages: build, test, and deploy. You don&#39;t need to use all three stages; stages with no jobs are simply ignored. And at the end, your websites will be published on GitLab Host automatically. Add .gitlab-ci.yml to the root directory of your repository, and configure it. hexo/.gitlab-ci.ymlimage: node:8.11.2before_script: # Restore last modified time - "git ls-files -z | while read -d '' path; do touch -d \"$(git log -1 --format=\"@%ct\" \"$path\")\" \"$path\"; done"pages: stage: build cache: paths: - node_modules/ script: - npm install hexo-cli -g - npm install # NEXT NPM installation - npm install hexo-symbols-count-time --save - git clone https://github.com/theme-next/theme-next-pace themes/next/source/lib/pace - hexo deploy artifacts: paths: - public only: - master Upload scaffolds, source, themes, .gitignor, .gitlab-ci.yml, _config.yml, and package.json to your Gitlab repository. $ git init$ ssh -T git@gitlab.com$ git remote add origin YOUR-GITLAB-REPO-SSH-LINK$ git add .$ git commit -m &quot;COMMIT MESSAGE&quot;$ git push -u origin master Now, your static website is available at https://yourname.gitlab.io/project that is similar to GitHub. More GitLab Pages config in here. Of course, you also can pulish static website on GitHub Pages or others pages service. There are two ways to configure .gitlab-ci.yml: HTTPSSSH Get the Access Token: Settings -&gt; Developer settings -&gt; Personal access token -&gt; Generate new token. Set access rights according to the actual situation. It should be noted that the access token is only displayed once on this page, and it should be copied, otherwise it can only be regenerated. Click SETTINGS-CI/CD â†’ Variables in Gitlab, and defined access token as custom variable GITHUB_ACCESS_TOKEN. Or set USERNAME PASSWORD variable for coding repo. Configure .gitlab-ci.yml: only add deploy stage at the end of this file hexo/.gitlab-ci.ymlgithub: stage: deploy script: - cd ./public - git init - git config --global user.name "YOUR-USER-NAME" - git config --global user.email "YOUR-EMAIL" - git add . - git commit -m "gitlab-auto-deploy" - git push --force --quiet --set-upstream https://$GITHUB_ACCESS_TOKEN@github.com/username/username.github.io.git master # replace github_access_token # - git config http.postBuffer 524288000 # - git push --force --quiet --set-upstream https://$USERNAME:$PASSWORD@git.coding.net/username/reponame.git master # replace username &amp; password, please escape the password only: - master Deploy key is a SSH key set in your repo to grant client read-only (as well as r/w, if you want) access to your repo. This method is suitable for most public blog repositories and there are no private sub-modules in the repositories. Generate a deploy key $ ssh-keygen -t rsa -b 4096 -C &quot;&#123;email&#125;&quot; -f ~/.ssh/deploy_key Click SETTINGS-CI/CD â†’ Variables in Gitlab, copy the content of private key and defined it as custom variable DEPLOY_PRIVATE_KEY. Configure .gitlab-ci.yml: only update script in before_script hexo/.gitlab-ci.ymlbefore_script: - export TZ='Asia/Shanghai' - git config --global user.name "YOUR-USER-NAME" - git config --global user.email "YOUR-EMAIL" # Restore last modified time - "git ls-files -z | while read -d '' path; do touch -d \"$(git log -1 --format=\"@%ct\" \"$path\")\" \"$path\"; done" # Install ssh-agent if not already installed, it is required by Docker. # (change apt-get to yum if you use a CentOS-based image) - 'which ssh-agent || ( apt-get update -y &amp;&amp; apt-get install openssh-client -y )' # Run ssh-agent (inside the build environment) - eval $(ssh-agent -s) # Add the SSH key stored in SSH_PRIVATE_KEY variable to the agent store - ssh-add &lt;(echo "$DEPLOY_PRIVATE_KEY") # For Docker builds disable host key checking. Be aware that by adding that # you are suspectible to man-in-the-middle attacks. # WARNING: Use this only with the Docker executor, if you use it with shell # you will overwrite your user's SSH config. - mkdir -p ~/.ssh - '[[ -f /.dockerenv ]] &amp;&amp; echo -e "Host *\n\tStrictHostKeyChecking no\n\n" &gt; ~/.ssh/config' # In order to properly check the server's host key, assuming you created the # SSH_SERVER_HOSTKEYS variable previously, uncomment the following two lines # instead. # - mkdir -p ~/.ssh # - '[[ -f /.dockerenv ]] &amp;&amp; echo "$SSH_SERVER_HOSTKEYS" &gt; ~/.ssh/known_hosts' - apt-get update -qq &amp;&amp; apt-get install -y -qq pandocimage: node:8.11.2pages: cache: paths: - node_modules/ script: - npm install -g hexo-cli - npm install # NEXT NPM installation - npm install hexo-symbols-count-time --save - git clone https://github.com/theme-next/theme-next-pace themes/next/source/lib/pace - hexo deploy artifacts: paths: - public only: - master Variables are not masked, and their values can be shown in the job logs if explicitly asked to do so. So make sure gitlab pipelines can only be viewed by yourself.]]></content>
  </entry>
  <entry>
    <title><![CDATA[External URL]]></title>
    <url>%2Fdocs%2Ftheme-settings%2Fexturl%2Findex.html</url>
    <content type="text"><![CDATA[External URL with BASE64 encrypt &amp; decrypt which provide nonsense for search engines to &lt;a&gt; tags. DescriptionSearch engines scan &lt;a&gt; tag with hight priority. You may add external / nofollow / noopener / noreferrer or any similar tricks, in any case all external links from your site will be indexed on your site. But here exists another trick: crawlers doesn&#39;t reproduce any javascript â€“ this do clients on their local devices.That tag give the way to set any external link without &lt;a&gt; tag. So, some crawlers like Yandex will not give away links weight from your site and this very useful for SEO. This tag perform: Replaces a HTML tag with span HTML tag. Crypt &amp; Decrypt URL with BASE64. User cannot see base64 format in browser src for this link, but he will see tooltip where this URL pointed to or will be shown custom title which can be specified in title tag parameter. Backlinks by this tag will not be scanned by any monitoring. It&#39;s like you open new link with javascript at new tab. Works on mobile devices too, yep. This tag was created exceptionally for better SEO-optimization. Any attempts to confuse end-user by phishing links not allowed! SettingsJust one setting must be turned on under the Tags Settings section in theme config file: next/_config.ymlexturl: true Below is the usage of exturl tag, which will no longer be supported. Usageexturl.js&#123;% exturl text url [title] %&#125;&lt;!-- Tag Alias --&gt;&#123;% extlink text url [title] %&#125;text : Main text of the link.url : Full URL of external source.[title] : Tooltip at mouseover. If 'title' not specified, 'url' will be used as title. Optional parameter. ExamplesWelcome to [Theme NexT Organization](https://github.com/theme-next)!If you want new feature or want to report a bug, feel free to &#123;% exturl open an issue https://github.com/theme-next/hexo-theme-next/issues/new Open new issue in NexT repository %&#125;.And if you have coding skills, NexT will be glad for your &#123;% exturl pull request https://github.com/theme-next/hexo-theme-next/pulls "See all current pulls" %&#125;. Welcome to Theme NexT Organization!If you want new feature or want to report a bug, feel free to open an issue.And if you have coding skills, NexT will be glad for your pull request.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Custom Pages]]></title>
    <url>%2Fdocs%2Ftheme-settings%2Fcustom-pages%2Findex.html</url>
    <content type="text"><![CDATA[Custom Page SupportNext allows users to add custom pages in menu. Adding New Page â†’Setting Front-matter Values â†’Editting MenuIn your terminal emulator, change to Hexo site dir. Use hexo new page custom_name to create a new custom_name page: $ cd your-hexo-site $ hexo new page custom_name Front-matter is a block of YAML or JSON at the beginning of the file that is used to configure settings for your writings. Settings Front-matter values and more detailed can be found in Front-matter. You can also add contents in custom_name/index.md if you like. title: custom_namedate: 2014-12-22 12:39:04---Add custom_name to menu by editing theme config file, like adding about page: next/_config.ymlmenu: home: / || home archives: /archives/ || archive about: /about/ || user If you want to add Tags or Categories page, please continue reading. Adding Â«TagsÂ» PageAdding Â«TagsÂ» page and show Â«TagsÂ» link in menu. Â«TagsÂ» page will show all tags of site. If no article has tags, this page will leave blank.Following code shows you a example of article with tags: Variant 1Variant 2title: Tags Testing Articletags: [Testing, Another Tag]---title: Tags Testing Articletags: - Testing - Another Tag--- Please read Hexo&#39;s Docs of Categories &amp; Tags to know how to add tags or categories for articles. Adding New Page â†’Setting Page Type â†’Editting MenuIn your terminal emulator, change to Hexo site dir. Use hexo new page tags to create a new tags page: $ cd your-hexo-site $ hexo new page tags Edit the new page and change the type to &quot;tags&quot;, theme will show tags cloud automatically in this page. Page content looks like following: title: Tagsdate: 2014-12-22 12:39:04type: "tags"---Add tags to menu by editing theme config file, like following: next/_config.ymlmenu: home: / || home archives: /archives/ || archive tags: /tags/ || tags If you enable any comment system for your site, comments will be shown for all posts and pages.See Â«How to Disable Comments on PageÂ» if you want to do it for pages like tags or categories. TagcloudBy default, NexT has setted font color and size for tagcloud in tags page.From NexT v7.0.2 you can customize them, just set related values in theme config file: next/_config.ymltagcloud: # If true, font size, font color and amount of tags can be customized enable: true # All values below are same as default, change them by yourself min: 12 # min font size in px max: 30 # max font size in px start: '#ccc' # start color (hex, rgba, hsla or color keywords) end: '#111' # end color (hex, rgba, hsla or color keywords) amount: 200 # amount of tags, chage it if you have more than 200 tags Adding Â«CategoriesÂ» Page Â«CategoriesÂ» page can be added in similar way as Â«TagsÂ» page, only name there is difference: just need to replace tags with categories. Adding Google Calendar PageAdding Schedule Page â†’Setting Front-matter Values â†’Editting Menu â†’Setting Google CalendarIn your terminal emulator, change to Hexo site dir. Use hexo new page schedule to create a new schedule page: $ cd your-hexo-site $ hexo new page schedule Front-matter is a block of YAML or JSON at the beginning of the file that is used to configure settings for your writings. Settings Front-matter values and more detailed can be found in Front-matter. You can also add contents in schedule/index.md if you like. title: scheduledate: 2014-12-22 12:39:04---Add schedule to menu by editing theme config file: next/_config.ymlmenu: home: / || home archives: /archives/ || archive schedule: /schedule/ || calendarGet calendar ID and API KEYâ†’NexT ConfigLogin to Google developers and add Google Calendar API, you will get your calendar ID and API KEY. More detailed documentationYou can enable it by editing values calendar.enable to true, and copy the value of calendar ID and API KEY in theme config file. next/_config.ymlcalendar: enable: false calendar_id: &lt;required&gt; api_key: &lt;required&gt; orderBy: startTime offsetMax: 24 offsetMin: 4 timeZone: showDeleted: false singleEvents: true maxResults: 250 Cheers Archive PageBy default NexT shows the cheers characters from ok to excellent according to the numbers of your posts. You can disable it by editing values cheers to false in theme config file. next/_config.ymlcheers: false Custom 404 PageAdding New Page â†’Editting Page â†’Editting Menu â†’In your terminal emulator, change to Hexo site dir. Create a new folder called 404, then create a new page in it: $ cd your-hexo-site $ mkdir 404 $ touch 404/index.md If you would like to enable commonweal 404(A service provided by Tencent in China), Edit 404/index.md like this: --- title: 404 date: 1970-01-01 00:00:00 --- &lt;script src=&quot;//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js&quot; charset=&quot;utf-8&quot; homePageUrl=&quot;/&quot; homePageName=&quot;Back to home&quot;&gt; &lt;/script&gt; You can also add any content you want to it.Add 404 to menu by editing theme config file: next/_config.ymlmenu: home: / || home archives: /archives/ || archive schedule: /schedule/ || calendar commonweal: /404/ || heartbeat]]></content>
  </entry>
  <entry>
    <title><![CDATA[Group Pictures]]></title>
    <url>%2Fdocs%2Ftag-plugins%2Fgroup-pictures%2Findex.html</url>
    <content type="text"><![CDATA[Usagegroup-picture.js&#123;% grouppicture [group]-[layout] %&#125;&#123;% endgrouppicture %&#125;&#123;% gp [group]-[layout] %&#125;&#123;% endgp %&#125;[group] : Total number of pictures to add in the group.[layout] : Default picture under the group to show. Examples&#123;% grouppicture 6-3 %&#125; ![](/images/docs/github.png) ![](/images/docs/github.png) ![](/images/docs/github.png) ![](/images/docs/github.png) ![](/images/docs/github.png) ![](/images/docs/github.png)&#123;% endgrouppicture %&#125; &#123;% gp 5-2 %&#125; ![](/images/docs/github.png) ![](/images/docs/github.png) ![](/images/docs/github.png) ![](/images/docs/github.png) ![](/images/docs/github.png)&#123;% endgp %&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[Posts]]></title>
    <url>%2Fdocs%2Ftheme-settings%2Fposts%2Findex.html</url>
    <content type="text"><![CDATA[Post SettingsText AlignNexT allows to customize the text alignment in the posts. The text-align CSS property sets the horizontal alignment of a block element or table-cell box. Values Effect start The same as left if direction is left-to-right and right if direction is right-to-left. end The same as right if direction is left-to-right and left if direction is right-to-left. left The inline contents are aligned to the left edge of the line box. right The inline contents are aligned to the right edge of the line box. center The inline contents are centered within the line box. justify The inline contents are justified. Text should be spaced to line up its left and right edges to the left and right edges of the line box, except for the last line. justify-all Same as justify, but also forces the last line to be justified. match-parent Similar to inherit, but the values start and end are calculated according to the parent&#39;s direction and are replaced by the appropriate left or right value. next/_config.yml# Set the text alignment in the posts.text_align: # Available values: start | end | left | right | center | justify | justify-all | match-parent desktop: justify mobile: justify Page Scrollscroll_to_moresave_scrollBy default NexT scrolls page automatically to section which is under mark. You can disable it by editing values scroll_to_more to false in theme config file. next/_config.ymlscroll_to_more: trueIf you want to save page scroll position automatically in cookies, you can enable it by editing values save_scroll to true in theme config file. next/_config.ymlsave_scroll: false Preamble TextIt&#39;s a common need to show some part of article in home page and then give a link to full article. NexT gives 3 ways to control how article is shown in home page. In other words, you can use following ways to show summary of articles and a Read More button. excerpt_descriptionTag moreauto_excerptIf you have added description and set its value to your article summary in front-matter, NexT excerpts description as preamble text in homepage by default. Without description, the full contents would be the preamble text in homepage. You can disable it by editing values excerpt_description to false in theme config file. next/_config.ymlexcerpt_description: trueUse &lt;!-- more --&gt; in your article to break your article manually, which is recommended by Hexo.Next would use 150 characters from article header automatically as preamble text by editing values auto_excerpt.enable to true. You can configure it by editing values in auto_excerpt section in theme config file. next/_config.ymlauto_excerpt: enable: false length: 150 It is recommended to use &lt;!-- more --&gt; which can not only control what you want to show better, but also let Hexo&#39;s plugins use it easily. Post Meta DisplayNexT supports post created date, post updated date and post categories display. item_textcreated_atupdated_atcategoriesBy default NexT shows the description text of post meta. You can disable it by editing values post_meta.item_text to false in theme config file. next/_config.ymlpost_meta: item_text: trueBy default NexT shows the post created date in post meta section and created time in popup. You can disable it by editing values post_meta.created_at to false in theme config file. next/_config.ymlpost_meta: created_at: trueenabledanother_dayBy default NexT shows the post updated date in post meta section and updated time in popup. You can disable it by editing values post_meta.updated_at.enabled to false in theme config file. next/_config.ymlpost_meta: updated_at: enabled: trueBy default edited time would be show in popup message if updated/edited date is same as created date. You can disable it by editing values post_meta.updated_at.another_day to false in theme config file. next/_config.ymlpost_meta: updated_at: another_day: trueBy default NexT shows the post categorie in post meta section. You can disable it by editing values post_meta.categories to false in theme config file. next/_config.ymlpost_meta: categories: true Post Wordcount3rd-party plugin hexo-wordcount was replaced by hexo-symbols-count-time in 6.x versions because hexo-symbols-count-time no have any external nodejs dependencies, no have language filter which causes better performance on speed at site generation. Installation â†’Hexo Config â†’NexT ConfigInstall hexo-symbols-count-time by run following command in site root dir: $ npm install hexo-symbols-count-time --save Activate this plugin in site config file by enabled any option: symbolstimetotal_symbolstotal_timeBy default NexT shows the number of post words in post meta section. You can disable it by editing values symbols_count_time.symbols to false in site config file. hexo/_config.ymlsymbols_count_time: symbols: trueBy default NexT shows the estimated reading time of post in post meta section. You can disable it by editing values symbols_count_time.time to false in site config file. hexo/_config.ymlsymbols_count_time: time: trueBy default NexT shows the number of all posts words in footer section. You can disable it by editing values symbols_count_time.total_symbols to false in site config file. hexo/_config.ymlsymbols_count_time: total_symbols: trueBy default NexT shows the estimated reading time of all posts in footer section. You can disable it by editing values symbols_count_time.total_time to false in site config file. hexo/_config.ymlsymbols_count_time: total_time: trueAfter the plugin enabled, you may adjust options in symbols_count_time section in theme config file: separated_metaitem_text_postitem_text_totalawlwpmBy default NexT shows the words counts and estimated reading time in a separated line. You can add them into one line by editing values symbols_count_time.separated_meta to false in theme config file. hexo/_config.ymlsymbols_count_time: separated_meta: trueBy default NexT shows the text description of the words counts and estimated reading time in post meta section. You can disable it by editing values symbols_count_time.item_text_post to false in theme config file. hexo/_config.ymlsymbols_count_time: item_text_post: trueBy default NexT doesn&#39;t shows the text description of the words counts and estimated reading time in footer section. You can enable it by editing values symbols_count_time.item_text_total to false in theme config file. hexo/_config.ymlsymbols_count_time: item_text_total: falseawl means the average Word Length (chars count in word). You can check this here. hexo/_config.ymlsymbols_count_time: awl: 4wpm means the average words per minute. You can check this here. hexo/_config.ymlsymbols_count_time: wpm: 275 Post Codeblockborder_radiuscopy_buttonBy default NexT defines the default value of codeblock border radius as 1. You can configure it by editing border_radius values in codeblock section in theme config file. hexo/_config.ymlcodeblock: border_radius:NexT supports the copy-and-paste functionality of codeblock. enableshow_resultstyleYou can enable it by editing values copy_button.enable to true in theme config file. hexo/_config.ymlcodeblock: copy_button: enable: falseBy default NexT doesn&#39;t show copy results of the copy-and-paste functionality. You can also enable it by editing values copy_button.show_result to true in theme config file. hexo/_config.ymlcodeblock: copy_button: show_result: falseWith style option, you can change your copy button style.There are two style available currently: default(Just leave it empty) and flat. hexo/_config.ymlcodeblock: copy_button: style: flat Code Highlight ThemeNexT uses Tomorrow Theme to support code highlight.Default style is white (normal) and there are 5 styles to choose: normal night night blue night bright night eighties Change the value of highlight_theme to choose the highlight style you like, for example: next/_config.yml# Code Highlight theme# Available values: normal | night | night eighties | night blue | night bright# https://github.com/chriskempson/tomorrow-themehighlight_theme: night WeChat SubscribingShow your WeChat public account QRcode after each article, subscribing blog by simply scanning. Download your QRcode from WeChat Public Platform, and save it under source/uploads/ site directory. Edit theme config file like following: next/_config.ymlwechat_subscriber: enable: true qcode: /uploads/wechat-qcode.jpg description: Welcome to scan the WeChat Public Account QRcode and subscribe my blog! Reward (Donate)More and more platform (WeChat public accounts, Weibo, Jianshu, Baidu Reward) supports reward (donate). To catch paid reading trends, we added reward feature, supports WeChat Pay, Alipay and Bitcoin. What you need is: Get your WeChat Pay / Alipay / Bitcoin receive money QRcode image(s) and put into source/images under theme directory or upload it(them) to an image cloud to get the absolute HTTP address(es). Set needed values in theme config file: next/_config.yml# Reward (Donate)reward_settings: # If true, reward would be displayed in every article by default. # You can show or hide reward in a specific article throuth `reward: true | false` in Front Matter. enable: false animation: false #comment: Donate comment herereward: #wechatpay: /images/wechatpay.png #alipay: /images/alipay.png #bitcoin: /images/bitcoin.png You can also add QRcode of other platforms, e.g.next/_config.ymlpaypal: /images/paypal.pngmonero: /images/monero.png Related popular posts (REDOCS)NexT supports the related posts functionality according to hexo-related-popular-posts. enabletitledisplay_in_homeparamsYou can enable it by editing values related_posts.enable to true in theme config file. hexo/_config.ymlrelated_posts: enable: falseBy default NexT uses &#39;Related Posts&#39; as title by default. You can configure it by editing values in related_posts.title section in theme config file. hexo/_config.ymlrelated_posts: title:By default NexT doesn&#39;t show the related posts in homepage. You can enable it by editing values related_posts.display_in_home to true in theme config file. hexo/_config.ymlrelated_posts: display_in_home: false2 maxCountPPMixingRateisDateisImageisExcerpt1.11.21.21.21.2 Post EditNexT supports the edit functionality of your posts. enableurlYou can enable it by editing values post_edit.enable to true in theme config file. hexo/_config.ymlpost_edit: enable: falseYou should create a source repository of your post files. The url setting depends on the source project in github. For site repository Link for view source: url: https://github.com/.../tree/master/source/_posts/ Link for fork &amp; edit: url: https://github.com/.../edit/master/source/_posts/ For post repository Link for view source: url: https://github.com/.../_posts/tree/master/ Link for fork &amp; edit: url: https://github.com/.../_posts/edit/master/ hexo/_config.ymlpost_edit: url:]]></content>
  </entry>
  <entry>
    <title><![CDATA[Button]]></title>
    <url>%2Fdocs%2Ftag-plugins%2Fbutton%2Findex.html</url>
    <content type="text"><![CDATA[Usagebutton.js&#123;% button url, text, icon [class], [title] %&#125;&lt;!-- Tag Alias --&gt;&#123;% btn url, text, icon [class], [title] %&#125;url : Absolute or relative path to URL.text : Button text. Required if no icon specified.icon : FontAwesome icon name (without 'fa-' at the begining). Required if no text specified.[class] : FontAwesome class(es): fa-fw | fa-lg | fa-2x | fa-3x | fa-4x | fa-5x Optional parameter.[title] : Tooltip at mouseover. Optional parameter. Examples&#123;% button #, Text %&#125; Text Button with text &amp; title&#123;% btn #, Text %&#125;&#123;% btn #, Text &amp; Title,, Title %&#125; TextText & Title &#123;% btn #, Text %&#125; &#123;% btn #, Text &amp; Title,, Title %&#125; Text Text & Title &#123;% btn #, Text %&#125;&#123;% btn #, Text &amp; Title,, Title %&#125; Text Text & Title Button with icon&lt;div&gt;&#123;% btn #,, home fa-5x %&#125;&#123;% btn #,, home fa-5x %&#125;&#123;% btn #,, home fa-5x %&#125;&lt;/div&gt;&lt;div&gt;&#123;% btn #,, home fa-4x %&#125;&#123;% btn #,, home fa-4x %&#125;&#123;% btn #,, home fa-4x %&#125;&lt;/div&gt;&lt;div&gt;&#123;% btn #,, home fa-3x %&#125;&#123;% btn #,, home fa-3x %&#125;&#123;% btn #,, home fa-3x %&#125;&lt;/div&gt;&lt;div&gt;&#123;% btn #,, home fa-2x %&#125;&#123;% btn #,, home fa-2x %&#125;&#123;% btn #,, home fa-2x %&#125;&lt;/div&gt;&lt;div&gt;&#123;% btn #,, home fa-lg %&#125;&#123;% btn #,, home fa-lg %&#125;&#123;% btn #,, home fa-lg %&#125;&lt;/div&gt;&lt;div&gt;&#123;% btn #,, home %&#125;&#123;% btn #,, home %&#125;&#123;% btn #,, home %&#125;&lt;/div&gt; Button with text &amp; icon&lt;p&gt;&#123;% btn #, Text &amp; Icon (buggy), home %&#125;&#123;% btn #, Text &amp; Icon (fixed width), home fa-fw %&#125;&lt;/p&gt; Text & Icon (buggy) Text & Icon (fixed width) &lt;p&gt;&#123;% btn #, Text &amp; Large Icon, home fa-fw fa-lg %&#125;&#123;% btn #, Text &amp; Large Icon &amp; Title, home fa-fw fa-lg, Title %&#125;&lt;/p&gt; Text & Large Icon Text & Large Icon & Title Button inside textLorem &#123;% btn #, Lorem, home fa-fw fa-lg %&#125; ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident &#123;% btn #, Ipsum, home fa-fw fa-lg %&#125;, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Button inside other tag&#123;% note info %&#125;&#123;% btn #, Text &amp; Icon, home fa-fw %&#125;&#123;% btn #,, home, Title %&#125;&#123;% btn #, Text %&#125;[Link](#)&#123;% endnote %&#125; Text &amp; IconTextLink Button margin&lt;div class="text-center"&gt;&lt;div&gt;&#123;% btn #,, header %&#125;&#123;% btn #,, edge %&#125;&#123;% btn #,, times %&#125;&#123;% btn #,, circle-o %&#125;&lt;/div&gt;&lt;div&gt;&#123;% btn #,, italic %&#125;&#123;% btn #,, scribd %&#125;&lt;/div&gt;&lt;div&gt;&#123;% btn #,, google %&#125;&#123;% btn #,, chrome %&#125;&#123;% btn #,, opera %&#125;&#123;% btn #,, diamond fa-rotate-270 %&#125;&lt;/div&gt;&lt;/div&gt; Button with relative URL&lt;div class="text-center"&gt;&#123;% btn #, Previous Chapter, arrow-left fa-fw fa-lg, Previous Chapter (Full Image) %&#125; &#123;% btn #, Next Chapter, arrow-right fa-fw fa-lg, Next Chapter (Label) %&#125;&lt;/div&gt; Previous Chapter Next Chapter Button with absolute URL&lt;div class="text-center"&gt;&#123;% btn https://github.com/theme-next/hexo-theme-next, NexT, github fa-fw fa-lg, NexT source code %&#125;&lt;/div&gt; NexT]]></content>
  </entry>
  <entry>
    <title><![CDATA[Sidebar]]></title>
    <url>%2Fdocs%2Ftheme-settings%2Fsidebar%2Findex.html</url>
    <content type="text"><![CDATA[Sidebar SettingSidebar StyleBy default sidebar only shows in posts (have a table of content), and is placed in left side. You can change it by editing values under sidebar setting in theme config file. Sidebar has several options, but for now we will consider position, width, display, offset, onmobile and dimmer options. positionwidthdisplayoffsetonmobiledimmerSet up sidebar position by changing the value of sidebar.position, which can be one of following: left â†’ Place at the left of the screen. right â†’ Place at the right of the screen. next/_config.ymlsidebar: position: left #position: right For now only Pisces / Gemini Schemes supports position setting under 6.0.x version or highter. You can change sidebar width by specify sidebar.width setting in pixels, for example: next/_config.ymlsidebar: width: 300 This option commented out by default and values are:For Muse | Mist schemes: 320For Pisces | Gemini schemes: 240 From version 6.0.4 to 6.3.0 option was called sidebar_width and was available for Gemini Scheme only.From 6.4.0 version or highter, option renamed to sidebar.width and available for all schemes. Set up conditions under which sidebar will show by editing sidebar.display value, which can be one of following: post â†’ Show sidebar only in posts which have index. always â†’ Show sidebar in all pages. hide â†’ Hide it in all pages (but can be opened by user manually). remove â†’ Remove sidebar totally. next/_config.ymlsidebar: display: post #display: always #display: hide #display: removeSet up sidebar offset from top menubar in pixels by changing the value of sidebar.offset, which can be one of following: next/_config.ymlsidebar: offset: 12 For now only Pisces / Gemini Schemes supports offset setting under 6.0.x version or highter. Set the value sidebar.onmobile to true to enable sidebar on narrow view for mobile device as following: next/_config.ymlsidebar: onmobile: true For now only Muse / Mist Schemes supports onmobile setting under 6.0.x version or highter. Set the value sidebar.dimmer to true to enable the feature: click any blank part of the page to close sidebar. next/_config.ymlsidebar: dimmer: true For now only Muse / Mist Schemes supports dimmer setting under 7.0.x version or highter. Sidebar Site StateBy default NexT shows the categories and counts of Posts / Categories / Tags in sidebar. You can configure it by editing values in site_state section in theme config file. next/_config.ymlsite_state: true Sidebar Social Links Social Links have similar fucture as Menu Items, only target link there is difference: specified link must have full url path (permalink). Edit the social section in theme config file as following: next/_config.ymlsocial: GitHub: https://github.com/yourname || github E-Mail: mailto:yourname@gmail.com || envelope Google: https://plus.google.com/yourname || google Twitter: https://twitter.com/yourname || twitter FB Page: https://www.facebook.com/yourname || facebook VK Group: https://vk.com/yourname || vk StackOverflow: https://stackoverflow.com/yourname || stack-overflow YouTube: https://youtube.com/yourname || youtube Instagram: https://instagram.com/yourname || instagram Skype: skype:yourname?call|chat || skype By default NexT shows the icons of social links in sidebar. enableicons_onlytransitionexturlYou can configure it by editing values in social_icons.enable section in theme config file. next/_config.ymlsocial_icons: enable: trueSet the value icons_only to true to display social icons without description in social_icons section in theme config file as following: next/_config.ymlsocial_icons: icons_only: falseSet the value transition to true to display social icons with transition effects in social_icons section in theme config file as following: next/_config.ymlsocial_icons: transition: falseSet the value exturl to true to encrypt social links in social_icons section in theme config file. For example, encoded GitHub link: GitHub: aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQ= || github. next/_config.ymlsocial_icons: exturl: false Sidebar BlogrollsYou can add blog rolls within sidebar in NexT. linkslinks_iconlinks_titlelinks_layoutEdit the links section in theme config file and add your favorite links: next/_config.ymllinks: Title1: http://example1.com/ Title2: http://example2.com/By default NexT shows the link icon before links_title. The name of icon can be found in Font Awesome site. You can configure it by editing values in links_icon section in theme config file. next/_config.ymllinks_icon: linkBy default NexT uses Links as the name of blogroll. You can configure it by editing values in links_title section in theme config file. next/_config.ymllinks_title: LinksBy default all blogrolls are displayed in block. You can configure it to inline by editing values in links_layout section in theme config file. next/_config.ymllinks_layout: block#links_layout: inline Sidebar TOCenablenumberwrapexpand_allmax_depthBy default NexT shows Table Of Contents (TOC) in the Sidebar. You can disable it by setting toc.enable to false in theme config file. next/_config.ymltoc: enable: trueBy default NexT adds list number to TOC automatically. You can disable it by setting toc.number to false in theme config file. next/_config.ymltoc: number: trueIf the post header width longer than sidebar width, you can wrap the header words in next lines by setting toc.wrap to true in theme config file. next/_config.ymltoc: wrap: falseIf you want all level of TOC in a post to be displayed, rather than the activated part of it, you can set toc.expand_all to true in theme config file. next/_config.ymltoc: expand_all: falseBy default maximum heading depth of generated toc is 6. You can set it by setting toc.max_depth to another number in theme config file. next/_config.ymltoc: max_depth: 3 Back To Topenableenablescrollpercentnext/_config.ymlback2top: enable: trueSet the value back2top.enable to true to display Back to top button.next/_config.ymlback2top: # Back to top in sidebar. sidebar: true Set the value back2top.sidebar to true to put the button in sidebar.next/_config.ymlback2top: # Scroll percent label in b2t button. scrollpercent: true Set the value back2top.scrollpercent to true to display scroll percent label in Back to top button.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Note (Bootstrap Callout)]]></title>
    <url>%2Fdocs%2Ftag-plugins%2Fnote%2Findex.html</url>
    <content type="text"><![CDATA[Settingsnext/_config.ymlnote: # Note tag style values: # - simple bs-callout old alert style. Default. # - modern bs-callout new (v2-v3) alert style. # - flat flat callout style with background, like on Mozilla or StackOverflow. # - disabled disable all CSS styles import of note tag. style: simple icons: false border_radius: 3 # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6). # Offset also applied to label tag variables. This option can work with disabled note tag. light_bg_offset: 0 Usagenote.js&#123;% note [class] [no-icon] %&#125;Any content (support inline tags too.io).&#123;% endnote %&#125;[class] : default | primary | success | info | warning | danger.[no-icon] : Disable icon in note.All parameters are optional. Known IssuesError at single lineCode Block Â«undefinedÂ» It&#39;s wrong to write this tag with 1 line if you don&#39;t want to see possible bugs. For example, here is wrong syntax to write content like that: {% note danger %}note text, note text, note text{% endnote %} Or like that: {% note danger %}note text note text note text {% endnote %} Need to write content at new line, like this: {% note danger %} note text, note text, note text note text, note text, note text note text, note text, note text {% endnote %} See Backtick Code Block in Tags section. Examples&#123;% note %&#125;#### Header(without define class style)&#123;% endnote %&#125; Header(without define class style) &#123;% note default %&#125;#### Default HeaderWelcome to [Hexo!](https://hexo.io)&#123;% endnote %&#125; Default HeaderWelcome to Hexo! &#123;% note primary %&#125;#### Primary Header**Welcome** to [Hexo!](https://hexo.io)&#123;% endnote %&#125; Primary HeaderWelcome to Hexo! &#123;% note info %&#125;### Info Header**Welcome** to [Hexo!](https://hexo.io)&#123;% endnote %&#125; Info HeaderWelcome to Hexo! &#123;% note success %&#125;#### Success Header**Welcome** to [Hexo!](https://hexo.io)&#123;% endnote %&#125; Success HeaderWelcome to Hexo! &#123;% note warning %&#125;#### Warning Header**Welcome** to [Hexo!](https://hexo.io)&#123;% endnote %&#125; Warning HeaderWelcome to Hexo! &#123;% note danger %&#125;#### Danger Header**Welcome** to [Hexo!](https://hexo.io)&#123;% endnote %&#125; Danger HeaderWelcome to Hexo! &#123;% note info no-icon %&#125;#### No icon noteNote **without** icon: `note info no-icon`&#123;% code %&#125;code block in note tagcode block in note tagcode block in note tag&#123;% endcode %&#125;&#123;% endnote %&#125; No icon noteNote without icon: note info no-iconnote info, note info, note infonote info, note info, note infonote info, note info, note info &#123;% note success %&#125;#### Codeblock in note&#123;% code %&#125;code block in note tagcode block in note tagcode block in note tag&#123;% endcode %&#125;&#123;% endnote %&#125; Codeblock in notecode block in note tagcode block in note tagcode block in note tag &#123;% note default %&#125;#### Lists in note* ul* ul * ul * ul* ul1. ol2. ol 1. ol 2. ol3. ol&#123;% endnote %&#125; Lists in noteulululululololololol #### Table in Note&#123;% note default %&#125;| 1 | 2 || - | - || 3 | 4 || 5 | 6 || 7 | 8 |&#123;% endnote %&#125; Table in note12345678]]></content>
  </entry>
  <entry>
    <title><![CDATA[Mermaid]]></title>
    <url>%2Fdocs%2Ftag-plugins%2Fmermaid%2Findex.html</url>
    <content type="text"><![CDATA[Settingsnext/_config.yml# Mermaid tagmermaid: enable: true # Available themes: default | dark | forest | neutral theme: forest # Use 8.0.0 as default, jsdelivr as default CDN, works everywhere even in China cdn: //cdn.jsdelivr.net/npm/mermaid@8.0.0/dist/mermaid.min.js # CDNJS, provided by cloudflare, maybe the best CDN, but not works in China #cdn: //cdnjs.cloudflare.com/ajax/libs/mermaid/8.0.0/mermaid.min.js Usagegrouppicture.js&#123;% mermaid type %&#125;&#123;% endmermaid %&#125;type : type of the mermaid chart, visit https://github.com/knsv/mermaid for more information. Examples&#123;% mermaid graph TD %&#125;A[Christmas] --&gt;|Get money| B(Go shopping)B --&gt; C&#123;Let me thinksssss&lt;br/&gt;ssssssssssssssssssssss&lt;br/&gt;sssssssssssssssssssssssssss&#125;C --&gt;|One| D[Laptop]C --&gt;|Two| E[iPhone]C --&gt;|Three| F[Car]&#123;% endmermaid %&#125; &#123;% mermaid graph LR %&#125;47(SAM.CommonFA.FMESummary)--&gt;48(SAM.CommonFA.CommonFAFinanceBudget)37(SAM.CommonFA.BudgetSubserviceLineVolume)--&gt;48(SAM.CommonFA.CommonFAFinanceBudget)35(SAM.CommonFA.PopulationFME)--&gt;47(SAM.CommonFA.FMESummary)41(SAM.CommonFA.MetricCost)--&gt;47(SAM.CommonFA.FMESummary)44(SAM.CommonFA.MetricOutliers)--&gt;47(SAM.CommonFA.FMESummary)46(SAM.CommonFA.MetricOpportunity)--&gt;47(SAM.CommonFA.FMESummary)40(SAM.CommonFA.OPVisits)--&gt;47(SAM.CommonFA.FMESummary)38(SAM.CommonFA.CommonFAFinanceRefund)--&gt;47(SAM.CommonFA.FMESummary)43(SAM.CommonFA.CommonFAFinancePicuDays)--&gt;47(SAM.CommonFA.FMESummary)42(SAM.CommonFA.CommonFAFinanceNurseryDays)--&gt;47(SAM.CommonFA.FMESummary)45(SAM.CommonFA.MetricPreOpportunity)--&gt;46(SAM.CommonFA.MetricOpportunity)35(SAM.CommonFA.PopulationFME)--&gt;45(SAM.CommonFA.MetricPreOpportunity)41(SAM.CommonFA.MetricCost)--&gt;45(SAM.CommonFA.MetricPreOpportunity)41(SAM.CommonFA.MetricCost)--&gt;44(SAM.CommonFA.MetricOutliers)39(SAM.CommonFA.ChargeDetails)--&gt;43(SAM.CommonFA.CommonFAFinancePicuDays)39(SAM.CommonFA.ChargeDetails)--&gt;42(SAM.CommonFA.CommonFAFinanceNurseryDays)39(SAM.CommonFA.ChargeDetails)--&gt;41(SAM.CommonFA.MetricCost)39(SAM.CommonFA.ChargeDetails)--&gt;40(SAM.CommonFA.OPVisits)35(SAM.CommonFA.PopulationFME)--&gt;39(SAM.CommonFA.ChargeDetails)36(SAM.CommonFA.PremetricCost)--&gt;39(SAM.CommonFA.ChargeDetails)&#123;% endmermaid %&#125; &#123;% mermaid graph TD %&#125;9e122290_1ec3_e711_8c5a_005056ad0002("fa:fa-creative-commons My System | Test Environment")82072290_1ec3_e711_8c5a_005056ad0002("fa:fa-cogs Shared Business Logic Server:Service 1")db052290_1ec3_e711_8c5a_005056ad0002("fa:fa-cogs Shared Business Logic Server:Service 2")4e112290_1ec3_e711_8c5a_005056ad0002("fa:fa-cogs Shared Report Server:Service 1")30122290_1ec3_e711_8c5a_005056ad0002("fa:fa-cogs Shared Report Server:Service 2")5e112290_1ec3_e711_8c5a_005056ad0002("fa:fa-cogs Dedicated Test Business Logic Server:Service 1")c1112290_1ec3_e711_8c5a_005056ad0002("fa:fa-cogs Dedicated Test Business Logic Server:Service 2")b7042290_1ec3_e711_8c5a_005056ad0002("fa:fa-circle [DBServer\SharedDbInstance].[SupportDb]")8f102290_1ec3_e711_8c5a_005056ad0002("fa:fa-circle [DBServer\SharedDbInstance].[DevelopmentDb]")0e102290_1ec3_e711_8c5a_005056ad0002("fa:fa-circle [DBServer\SharedDbInstance].[TestDb]")07132290_1ec3_e711_8c5a_005056ad0002("fa:fa-circle [DBServer\SharedDbInstance].[SharedReportingDb]")c7072290_1ec3_e711_8c5a_005056ad0002("fa:fa-server Shared Business Logic Server")ca122290_1ec3_e711_8c5a_005056ad0002("fa:fa-server Shared Report Server")68102290_1ec3_e711_8c5a_005056ad0002("fa:fa-server Dedicated Test Business Logic Server")f4112290_1ec3_e711_8c5a_005056ad0002("fa:fa-database [DBServer\SharedDbInstance]")d6072290_1ec3_e711_8c5a_005056ad0002("fa:fa-server DBServer")71082290_1ec3_e711_8c5a_005056ad0002("fa:fa-cogs DBServer\:MSSQLSERVER")c0102290_1ec3_e711_8c5a_005056ad0002("fa:fa-cogs DBServer\:SQLAgent")9a072290_1ec3_e711_8c5a_005056ad0002("fa:fa-cogs DBServer\:SQLBrowser")1d0a2290_1ec3_e711_8c5a_005056ad0002("fa:fa-server VmHost1")200a2290_1ec3_e711_8c5a_005056ad0002("fa:fa-server VmHost2")1c0a2290_1ec3_e711_8c5a_005056ad0002("fa:fa-server VmHost3")9e122290_1ec3_e711_8c5a_005056ad0002--&gt;82072290_1ec3_e711_8c5a_005056ad00029e122290_1ec3_e711_8c5a_005056ad0002--&gt;db052290_1ec3_e711_8c5a_005056ad00029e122290_1ec3_e711_8c5a_005056ad0002--&gt;4e112290_1ec3_e711_8c5a_005056ad00029e122290_1ec3_e711_8c5a_005056ad0002--&gt;30122290_1ec3_e711_8c5a_005056ad00029e122290_1ec3_e711_8c5a_005056ad0002--&gt;5e112290_1ec3_e711_8c5a_005056ad00029e122290_1ec3_e711_8c5a_005056ad0002--&gt;c1112290_1ec3_e711_8c5a_005056ad000282072290_1ec3_e711_8c5a_005056ad0002--&gt;b7042290_1ec3_e711_8c5a_005056ad000282072290_1ec3_e711_8c5a_005056ad0002--&gt;8f102290_1ec3_e711_8c5a_005056ad000282072290_1ec3_e711_8c5a_005056ad0002--&gt;0e102290_1ec3_e711_8c5a_005056ad000282072290_1ec3_e711_8c5a_005056ad0002--&gt;c7072290_1ec3_e711_8c5a_005056ad0002db052290_1ec3_e711_8c5a_005056ad0002--&gt;c7072290_1ec3_e711_8c5a_005056ad0002db052290_1ec3_e711_8c5a_005056ad0002--&gt;82072290_1ec3_e711_8c5a_005056ad00024e112290_1ec3_e711_8c5a_005056ad0002--&gt;b7042290_1ec3_e711_8c5a_005056ad00024e112290_1ec3_e711_8c5a_005056ad0002--&gt;8f102290_1ec3_e711_8c5a_005056ad00024e112290_1ec3_e711_8c5a_005056ad0002--&gt;0e102290_1ec3_e711_8c5a_005056ad00024e112290_1ec3_e711_8c5a_005056ad0002--&gt;07132290_1ec3_e711_8c5a_005056ad00024e112290_1ec3_e711_8c5a_005056ad0002--&gt;ca122290_1ec3_e711_8c5a_005056ad000230122290_1ec3_e711_8c5a_005056ad0002--&gt;ca122290_1ec3_e711_8c5a_005056ad000230122290_1ec3_e711_8c5a_005056ad0002--&gt;4e112290_1ec3_e711_8c5a_005056ad00025e112290_1ec3_e711_8c5a_005056ad0002--&gt;8f102290_1ec3_e711_8c5a_005056ad00025e112290_1ec3_e711_8c5a_005056ad0002--&gt;68102290_1ec3_e711_8c5a_005056ad0002c1112290_1ec3_e711_8c5a_005056ad0002--&gt;68102290_1ec3_e711_8c5a_005056ad0002c1112290_1ec3_e711_8c5a_005056ad0002--&gt;5e112290_1ec3_e711_8c5a_005056ad0002b7042290_1ec3_e711_8c5a_005056ad0002--&gt;f4112290_1ec3_e711_8c5a_005056ad00028f102290_1ec3_e711_8c5a_005056ad0002--&gt;f4112290_1ec3_e711_8c5a_005056ad00020e102290_1ec3_e711_8c5a_005056ad0002--&gt;f4112290_1ec3_e711_8c5a_005056ad000207132290_1ec3_e711_8c5a_005056ad0002--&gt;f4112290_1ec3_e711_8c5a_005056ad0002c7072290_1ec3_e711_8c5a_005056ad0002--&gt;1d0a2290_1ec3_e711_8c5a_005056ad0002ca122290_1ec3_e711_8c5a_005056ad0002--&gt;200a2290_1ec3_e711_8c5a_005056ad000268102290_1ec3_e711_8c5a_005056ad0002--&gt;1c0a2290_1ec3_e711_8c5a_005056ad0002f4112290_1ec3_e711_8c5a_005056ad0002--&gt;d6072290_1ec3_e711_8c5a_005056ad0002f4112290_1ec3_e711_8c5a_005056ad0002--&gt;71082290_1ec3_e711_8c5a_005056ad0002f4112290_1ec3_e711_8c5a_005056ad0002--&gt;c0102290_1ec3_e711_8c5a_005056ad0002f4112290_1ec3_e711_8c5a_005056ad0002--&gt;9a072290_1ec3_e711_8c5a_005056ad0002d6072290_1ec3_e711_8c5a_005056ad0002--&gt;1c0a2290_1ec3_e711_8c5a_005056ad000271082290_1ec3_e711_8c5a_005056ad0002--&gt;d6072290_1ec3_e711_8c5a_005056ad0002c0102290_1ec3_e711_8c5a_005056ad0002--&gt;d6072290_1ec3_e711_8c5a_005056ad0002c0102290_1ec3_e711_8c5a_005056ad0002--&gt;71082290_1ec3_e711_8c5a_005056ad00029a072290_1ec3_e711_8c5a_005056ad0002--&gt;d6072290_1ec3_e711_8c5a_005056ad00029a072290_1ec3_e711_8c5a_005056ad0002--&gt;71082290_1ec3_e711_8c5a_005056ad0002&#123;% endmermaid %&#125; &#123;% mermaid sequenceDiagram %&#125;participant Aliceparticipant Bobparticipant John as John&lt;br/&gt;Second LineAlice -&gt;&gt; Bob: Hello Bob, how are you?Bob--&gt;&gt;John: How about you John?Bob--x Alice: I am good thanks!Bob-x John: I am good thanks!Note right of John: Bob thinks a long&lt;br/&gt;long time, so long&lt;br/&gt;that the text does&lt;br/&gt;not fit on a row.Bob--&gt;Alice: Checking with John...alt either thisAlice-&gt;&gt;John: Yeselse or thisAlice-&gt;&gt;John: Noelse or this will happenAlice-&gt;John: Maybeendpar this happens in parallelAlice --&gt;&gt; Bob: Parallel message 1andAlice --&gt;&gt; John: Parallel message 2end&#123;% endmermaid %&#125; &#123;% mermaid gantt %&#125;dateFormat YYYY-MM-DDaxisFormat %d/%mtitle Adding GANTT diagram to mermaidsection A sectionCompleted task :done, des1, 2014-01-06,2014-01-08Active task :active, des2, 2014-01-09, 3dFuture task : des3, after des2, 5dFuture task2 : des4, after des3, 5dsection Critical tasksCompleted task in the critical line :crit, done, 2014-01-06,24hImplement parser and jison :crit, done, after des1, 2dCreate tests for parser :crit, active, 3dFuture task in critical line :crit, 5dCreate tests for renderer :2dAdd to mermaid :1dsection DocumentationDescribe gantt syntax :active, a1, after des1, 3dAdd gantt diagram to demo page :after a1 , 20hAdd another diagram to demo page :doc1, after a1 , 48hsection Last sectionDescribe gantt syntax :after doc1, 3dAdd gantt diagram to demo page : 20hAdd another diagram to demo page : 48h&#123;% endmermaid %&#125; &#123;% mermaid gitGraph: %&#125;options&#123; "nodeSpacing": 150, "nodeRadius": 10&#125;endcommitbranch newbranchcheckout newbranchcommitcommitcheckout mastercommitcommitmerge newbranch&#123;% endmermaid %&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[Full Image (Featured Image)]]></title>
    <url>%2Fdocs%2Ftag-plugins%2Ffull-image%2Findex.html</url>
    <content type="text"><![CDATA[Using this tag will add meta data ImageObject to make your image featured. It&#39;s mean search engines/social services will display your article in their services with this image as thumbnail by default. Usage From version 6.4.0 this tag supported 2 additional parameters:Lazy load â†’ lazyImage size â†’ sizeIf you are using a lower version, this parameters will be ignored. full-image.js&#123;% fullimage /url [@lazy], [alt], [title], [size] %&#125;&lt;!-- Tag Alias --&gt;&#123;% fi /url [@lazy], [alt], [title], [size] %&#125;/url : Relative path to image URL.[@lazy] : Load image only when user scroll to it. Dependencies: https://github.com/theme-next/theme-next-jquery-lazyload[alt] : Alternate text (for search engines).[title] : Tooltip at mouseover.[size] : Size of image in any ratio (%, px, em).All parameters except /url are optional. Examples&#123;% fi /images/docs/github.png %&#125; Full Image with alt &amp; title&#123;% fi /images/docs/github.png, Alt text, Title text %&#125; Full Image with 100% size&#123;% fi /images/docs/github.png, Alt text, Title text, 100% %&#125; Full Image with 200px &amp; without alt &amp; title&#123;% fi /images/docs/github.png,,, 200px %&#125; Recommended to use this tag once per article. Lazy loading Full Image&#123;% fi /images/docs/next-schemes-3.png@lazy, Alt text, Title text, 75% %&#125;&lt;!-- Or with space before '@lazy' --&gt;&#123;% fi /images/docs/next-schemes-3.png @lazy, Alt text, Title text, 75% %&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[PDF]]></title>
    <url>%2Fdocs%2Ftag-plugins%2Fpdf%2Findex.html</url>
    <content type="text"><![CDATA[Settingsnext/_config.ymlpdf: enable: true # Default height height: 500px pdfobject: # Use 2.1.1 as default, jsdelivr as default CDN, works everywhere even in China cdn: //cdn.jsdelivr.net/npm/pdfobject@2.1.1/pdfobject.min.js # CDNJS, provided by cloudflare, maybe the best CDN, but not works in China #cdn: //cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js Usagepdf.js&#123;% pdf url [height] %&#125;[url] : Relative path to PDF file.[height] : Optional. Height of the PDF display element, e.g. 800px. Examples&#123;% pdf https://example.com/sample.pdf %&#125; &#123;% pdf /path/to/your/file.pdf 600px %&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[Video]]></title>
    <url>%2Fdocs%2Ftag-plugins%2Fvideo%2Findex.html</url>
    <content type="text"><![CDATA[Usagevideo.js&#123;% video url %&#125; Examples&#123;% video https://example.com/sample.mp4 %&#125; &#123;% video /path/to/your/video.mp4 %&#125;]]></content>
  </entry>
  <entry>
    <title><![CDATA[Label]]></title>
    <url>%2Fdocs%2Ftag-plugins%2Flabel%2Findex.html</url>
    <content type="text"><![CDATA[Usagelabel.js&#123;% label [class]@Text %&#125;[class] : default | primary | success | info | warning | danger. '@Text' can be specified with or without space E.g. 'success @text' similar to 'success@text'. If not specified, default class will be selected. ExamplesLorem &#123;% label @ipsum %&#125; &#123;% label primary@dolor sit %&#125; amet, consectetur &#123;% label success@adipiscing elit, %&#125; sed &#123;% label info@do eiusmod %&#125; tempor incididunt ut labore et dolore magna aliqua.Ut enim *&#123;% label warning @ad %&#125;* minim veniam, quis **&#123;% label danger@nostrud %&#125;** exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Duis aute irure dolor in reprehenderit in voluptate ~~&#123;% label default @velit %&#125;~~ &lt;mark&gt;esse&lt;/mark&gt; cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Chat Services]]></title>
    <url>%2Fdocs%2Fthird-party-services%2Fchat-services%2Findex.html</url>
    <content type="text"><![CDATA[ChatraChatra is a live chat messenger app for your website. Enable Chatra â†’Activate sidebar buttonVisit Dashboard to get your ChatraID. hexo/_config.yml# Chatra Support# See: https://chatra.io# Dashboard: https://app.chatra.io/settings/generalchatra: enable: true async: true id: &lt;ChatraID&gt;After Chatra enabled, you can set chat.enable to true and set chat.service to chatra in theme config file. hexo/_config.yml# A button to open designated chat widget in sidebar.# Firstly, you need enable the chat service you want to activate its sidebar button.chat: enable: true service: chatra icon: comment text: Chat TidioTidio is a live chat messenger app for your website. Enable Tidio â†’Activate sidebar buttonVisit Dashboard to get your Public Key. hexo/_config.yml# Tidio Support# See: https://www.tidiochat.com# Dashboard: https://www.tidiochat.com/panel/dashboardtidio: enable: true key: &lt;Publick Key&gt;After Tidio enabled, you can set chat.enable to true and set chat.service to tidio in theme config file. hexo/_config.yml# A button to open designated chat widget in sidebar.# Firstly, you need enable the chat service you want to activate its sidebar button.chat: enable: true service: tidio icon: comment text: Chat]]></content>
  </entry>
  <entry>
    <title><![CDATA[Tabs]]></title>
    <url>%2Fdocs%2Ftag-plugins%2Ftabs%2Findex.html</url>
    <content type="text"><![CDATA[Settingsnext/_config.ymltabs: enable: true transition: tabs: false labels: true border_radius: 0 Usagetabs.js&#123;% tabs Unique name, [index] %&#125;&lt;!-- tab [Tab caption] [@icon] --&gt;Any content (support inline tags too).&lt;!-- endtab --&gt;&#123;% endtabs %&#125;Unique name : Unique name of tabs block tag without comma. Will be used in #id's as prefix for each tab with their index numbers. If there are whitespaces in name, for generate #id all whitespaces will replaced by dashes. Only for current url of post/page must be unique![index] : Index number of active tab. If not specified, first tab (1) will be selected. If index is -1, no tab will be selected. It's will be something like spoiler. Optional parameter.[Tab caption] : Caption of current tab. If not caption specified, unique name with tab index suffix will be used as caption of tab. If not caption specified, but specified icon, caption will empty. Optional parameter.[@icon] : FontAwesome icon name (without 'fa-' at the begining). Can be specified with or without space; e.g. 'Tab caption @icon' similar to 'Tab caption@icon'. Optional parameter. Examples&#123;% tabs First unique name %&#125;&lt;!-- tab --&gt;**This is Tab 1.**&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Tab 2.**&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Tab 3.**&lt;!-- endtab --&gt;&#123;% endtabs %&#125; First unique name 1First unique name 2First unique name 3This is Tab 1.This is Tab 2.This is Tab 3. Tabs with 3rd tab selected&#123;% tabs Second unique name, 3 %&#125;&lt;!-- tab --&gt;**This is Tab 1.**&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Tab 2.**&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Tab 3.**&lt;!-- endtab --&gt;&#123;% endtabs %&#125; Second unique name 1Second unique name 2Second unique name 3This is Tab 1.This is Tab 2.This is Tab 3. Tabs with no tab selected&#123;% tabs Third unique name, -1 %&#125;&lt;!-- tab --&gt;**This is Tab 1.**&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Tab 2.**&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Tab 3.**&lt;!-- endtab --&gt;&#123;% endtabs %&#125; Third unique name 1Third unique name 2Third unique name 3This is Tab 1.This is Tab 2.This is Tab 3. Tabs with custom labels&#123;% tabs Fourth unique name %&#125;&lt;!-- tab Solution 1 --&gt;**This is Tab 1.**&lt;!-- endtab --&gt;&lt;!-- tab Solution 2 --&gt;**This is Tab 2.**&lt;!-- endtab --&gt;&lt;!-- tab Solution 3 --&gt;**This is Tab 3.**&lt;!-- endtab --&gt;&#123;% endtabs %&#125; Solution 1Solution 2Solution 3This is Tab 1.This is Tab 2.This is Tab 3. Tabs with icons only&#123;% tabs Fifth unique name %&#125;&lt;!-- tab @text-width --&gt;**This is Tab 1.**&lt;!-- endtab --&gt;&lt;!-- tab @amazon --&gt;**This is Tab 2.**&lt;!-- endtab --&gt;&lt;!-- tab @bold --&gt;**This is Tab 3.**&lt;!-- endtab --&gt;&#123;% endtabs %&#125; This is Tab 1.This is Tab 2.This is Tab 3. Tabs with icons and labels&#123;% tabs Sixth unique name %&#125;&lt;!-- tab Solution 1@text-width --&gt;**This is Tab 1.**&lt;!-- endtab --&gt;&lt;!-- tab Solution 2 @amazon --&gt;**This is Tab 2.**&lt;!-- endtab --&gt;&lt;!-- tab Solution 3@bold --&gt;**This is Tab 3.**&lt;!-- endtab --&gt;&#123;% endtabs %&#125; Solution 1Solution 2Solution 3This is Tab 1.This is Tab 2.This is Tab 3. Tabs permalinks testPermalink for &gt; [Tab one](#tab-one).Permalink for &gt; [Tab one 1](#tab-one-1).Permalink for &gt; [Tab one 2](#tab-one-2).Permalink for &gt; [Tab one 3](#tab-one-3).Permalink for &gt; [Tab two](#tab-two).Permalink for &gt; [Tab two 1](#tab-two-1).Permalink for &gt; [Tab two 2](#tab-two-2).Permalink for &gt; [Tab two 3](#tab-two-3).&#123;% tabs Tab one %&#125;&lt;!-- tab --&gt;**This is Tab 1.**&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Tab 2.**&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Tab 3.**&lt;!-- endtab --&gt;&#123;% endtabs %&#125;&#123;% tabs Tab two %&#125;&lt;!-- tab --&gt;**This is Tab 1.**&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Tab 2.**&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Tab 3.**&lt;!-- endtab --&gt;&#123;% endtabs %&#125; Permalink for &gt; Tab one.Permalink for &gt; Tab one 1.Permalink for &gt; Tab one 2.Permalink for &gt; Tab one 3. Permalink for &gt; Tab two.Permalink for &gt; Tab two 1.Permalink for &gt; Tab two 2.Permalink for &gt; Tab two 3. Tab one 1Tab one 2Tab one 3This is Tab 1.This is Tab 2.This is Tab 3. Tab two 1Tab two 2Tab two 3This is Tab 1.This is Tab 2.This is Tab 3. Tabs with other tags&#123;% tabs Tags %&#125;&lt;!-- tab --&gt;**This is Tab 1.**1. One2. Two3. Three4-spaces code block: nano /etcTagged code block:&#123;% code %&#125;code tagcode tagcode tag&#123;% endcode %&#125;&#123;% note default %&#125;Note default tag.&#123;% endnote %&#125;&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Tab 2.*** Five* Six* Seven&#123;% note primary %&#125;&#123;% youtube Kt7u5kr_P5o %&#125;&#123;% endnote %&#125;&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Tab 3.**&#123;% subtabs Sub Tabs %&#125;&lt;!-- tab --&gt;**This is Sub Tab 1.**&#123;% note success %&#125;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc.&#123;% note warning %&#125;Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna.&#123;% endnote %&#125;Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl.&#123;% endnote %&#125;&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Sub Tab 2.**&#123;% note success %&#125;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc.Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna.&#123;% note danger %&#125;Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl.&#123;% endnote %&#125;&#123;% endnote %&#125;&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Sub Tab 3.**&#123;% subtabs Sub-Sub Tabs %&#125;&lt;!-- tab --&gt;**This is Sub-Sub Tab 1 of Sub Tab 3.**&#123;% note success %&#125;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc.Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna.Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl.&#123;% endnote %&#125;&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Sub-Sub Tab 2 of Sub Tab 3.**&#123;% note success %&#125;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc.&#123;% note warning %&#125;Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna.Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl.&#123;% endnote %&#125;&#123;% endnote %&#125;&lt;!-- endtab --&gt;&lt;!-- tab --&gt;**This is Sub-Sub Tab 3 of Sub Tab 3.**&#123;% note success %&#125;Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc.&#123;% note warning %&#125;Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna.&#123;% note danger %&#125;Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl.&#123;% endnote %&#125;&#123;% endnote %&#125;&#123;% endnote %&#125;&lt;!-- endtab --&gt;&#123;% endsubtabs %&#125;&lt;!-- endtab --&gt;&#123;% endsubtabs %&#125;&lt;!-- endtab --&gt;&#123;% endtabs %&#125; Tags 1Tags 2Tags 3This is Tab 1. One Two Three 4-spaces code block: nano /etc Tagged code block: code tagcode tagcode tag Note default tag. This is Tab 2. Five Six Seven This is Tab 3. Sub Tabs 1Sub Tabs 2Sub Tabs 3This is Sub Tab 1. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc. Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna. Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl. This is Sub Tab 2. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc.Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna. Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl. This is Sub Tab 3. Sub-Sub Tabs 1Sub-Sub Tabs 2Sub-Sub Tabs 3This is Sub-Sub Tab 1 of Sub Tab 3. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc.Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna.Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl. This is Sub-Sub Tab 2 of Sub Tab 3. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc. Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna.Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl. This is Sub-Sub Tab 3 of Sub Tab 3. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Phasellus hendrerit. Pellentesque aliquet nibh nec urna. In nisi neque, aliquet vel, dapibus id, mattis vel, nisi. Sed pretium, ligula sollicitudin laoreet viverra, tortor libero sodales leo, eget blandit nunc tortor eu nibh. Nullam mollis. Ut justo. Suspendisse potenti. Pellentesque fermentum dolor. Aliquam quam lectus, facilisis auctor, ultrices ut, elementum vulputate, nunc. Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing, commodo quis, gravida id, est. Sed lectus. Praesent elementum hendrerit tortor. Sed semper lorem at felis. Vestibulum volutpat, lacus a ultrices sagittis, mi neque euismod dui, eu pulvinar nunc sapien ornare nisl. Phasellus pede arcu, dapibus eu, fermentum et, dapibus sed, urna. Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna a ullamcorper laoreet, lectus arcu pulvinar risus, vitae facilisis libero dolor a purus. Sed vel lacus. Mauris nibh felis, adipiscing varius, adipiscing in, lacinia vel, tellus. Suspendisse ac urna. Etiam pellentesque mauris ut lectus. Nunc tellus ante, mattis eget, gravida vitae, ultricies ac, leo. Integer leo pede, ornare a, lacinia eu, vulputate vel, nisl.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Comments and Widgets]]></title>
    <url>%2Fdocs%2Fthird-party-services%2Fcomments-and-widgets%2Findex.html</url>
    <content type="text"><![CDATA[DisqusDisqus is a global comment system that improves discussion on websites and connects conversations across the web. Create an account and log into Disqus. Once logged in, click the GET STARTED button on the homepage, then select I want to install Disqus on my site option and you will see the Create a new site interface. Enter your Website Name, which will serve as your Disqus shortname, and select a Category from the drop-down menu. Then click Create Site button. Choose I don&#39;t see my platform listed, install manually with Universal Code, configure Disqus for your site, and click Complete Setup button. Set the value enable to true, add the obtained Disqus shortname (shortname), and edit other configurations in disqus section in the theme config file as following: next/_config.ymldisqus: enable: false shortname: your-short-disqus-name count: true DisqusJSRender Disqus comment component using Disqus API. Get your Disqus API Key from Disqus API Application. Go to the settings page of your Disqus Application, enter your domain in Settings -&gt; Domains. Get your Disqus Shortname from General Settings - Disqus Admin. Set the value enable to true, add the obtained Disqus API Key (apikey) and Shortname (shortname), and edit other configurations in disqusjs section in the theme config file as following: next/_config.yml# DisqusJS# Alternative Disqus - Render comment component using Disqus API# Demo: https://suka.js.org/DisqusJS/disqusjs: enable: false # API Endpoint of Disqus API (https://disqus.com/api/) # leave api empty if you are able to connect to Disqus API # otherwise you need a reverse proxy for Disqus API # For example: # api: https://disqus.skk.moe/disqus/ api: apikey: # register new application from https://disqus.com/api/applications/ shortname: # See: https://disqus.com/admin/settings/general/ Facebook Comments and LikesThe Facebook comments plugin lets people comment on content on your site using their Facebook account. People can choose to share their comment activity with their friends (and friends of their friends) on Facebook as well. The comments plugin also includes built-in moderation tools and social relevance ranking. Firstly you need to integrate Facebook SDK, by setting following options in theme config file: next/_config.yml# Facebook SDK Support.facebook_sdk: enable: false app_id: #&lt;app_id&gt; fb_admin: #&lt;user_id&gt; like_button: #true webmaster: #true Then set the value enable to true in facebook_comments_plugin section, and change following options below: next/_config.yml# Facebook comments plugin# This plugin depends on Facebook SDK.# If facebook_sdk.enable is false, Facebook comments plugin is unavailable.facebook_comments_plugin: enable: false num_of_posts: 10 # min posts num is 1 width: 100% # default width is 550px scheme: light # default scheme is light (light or dark) VKontakte Comments and LikesVKontakte offers flexible commentting tools that can be easily built into your website. This enables VK users to comment on your materials without having to register on your site. Get API ID â†’NexT ConfigLogin to VKontakte Developers and create apps. Go to the Comments Widget, you will get some code: &lt;script type="text/javascript"&gt; VK.init(&#123;apiId: API_ID, onlyWidgets: true&#125;);&lt;/script&gt;You can enable it by editing values vkontakte_api.enable to true, and copy API_ID value of apiId key in theme config file. next/_config.ymlvkontakte_api: enable: false app_id: API_ID #&lt;app_id&gt; comments: true num_of_posts: 10 With Â«LikeÂ» widget your visitors can express their attitude towards an article with one click or immediately share the link to it with their friends. Get API ID â†’NexT ConfigLogin to VKontakte Developers and create apps. Go to the Like Widget, you will get some code: &lt;script type="text/javascript"&gt; VK.init(&#123;apiId: API_ID, onlyWidgets: true&#125;);&lt;/script&gt;You can enable it by editing values vkontakte_api.enable to true, and copy API_ID value of apiId key in theme config file. next/_config.ymlvkontakte_api: enable: false app_id: API_ID #&lt;app_id&gt; like: true num_of_posts: 10 GitalkGitalk is a modern comment component based on Github Issue and Preact. Gitalk can only use GitHub accounts for comments. Click here to sign up for a new OAuth Application. Other content can be filled in at will, but be sure to fill in the correct callback URL (usually the domain name corresponding to the comment page). Then you will get a Client ID and a Client secret. Create a repository you want to store Gitalk comments in your GitHub. Set the value enable to true, add Client ID (client_id) and Client secret (client_secret) in step 1, add your Github username (github_id and admin_user) and the created repository name (repo) in step 2, and edit other configurations in gitalk section in the theme config file as following: next/_config.yml# Gitalk# Demo: https://gitalk.github.iogitalk: enable: false github_id: # Github repo owner repo: # Repository name to store issues client_id: # Github Application Client ID client_secret: # Github Application Client Secret admin_user: # GitHub repo owner and collaborators, only these guys can initialize github issues distraction_free_mode: true # Facebook-like distraction free mode # Gitalk's display language depends on user's browser or system environment # If you want everyone visiting your site to see a uniform language, you can set a force language value # Available value: en, es-ES, fr, ru, zh-CN, zh-TW language: LiveReLiveRe is a content platform based on social networking site reviews to help users communicate freely. Create an account or log into LiveRe, click on the installation button and select the free city version, then click on the install now button. Copy the data-uid field in the installation code to get your LiveRe UID. Add the obtained LiveRe UID to the livere_uid section in the theme config file as following: next/_config.yml# Support for LiveRe comments system.# You can get your uid from https://livere.com/insight/myCode (General web site)livere_uid: your_uid ValineValine is a fast, simple &amp; efficient Leancloud based no back end comment system. Create an account or log into LeanCloud, and then click on the bottom left corner to create the application in dashboard. Go to the application you just created, select Settings -&gt; Apply Key in the lower left corner, and you will see your APP ID and APP Key. Set the value enable to true, add the obtained APP ID (appid) and APP Key (appkey), and edit other configurations in valine section in the theme config file as following: next/_config.yml# Valine.# You can get your appid and appkey from https://leancloud.cn# more info please open https://valine.js.orgvaline: enable: false # When enable is set to be true, leancloud_visitors is recommended to be closed for the re-initialization problem within different leancloud adk version. appid: # your leancloud application appid appkey: # your leancloud application appkey notify: false # mail notifier , https://github.com/xCss/Valine/wiki verify: false # Verification code placeholder: Just go go # comment box placeholder avatar: mm # gravatar style guest_info: nick,mail,link # custom comment header pageSize: 10 # pagination size visitor: false # leancloud-counter-security is not supported for now. When visitor is set to be true, appid and appkey are recommended to be the same as leancloud_visitors' for counter compatibility. Article reading statistic https://valine.js.org/visitor.html GitmentGitment is an commenting system based on GitHub Issues, which supports for direct introduction at the front end does not require any backend code. You can log in, view, comment, like, etc. on the page, with full Markdown / GFM and code highlighting support. Gitment can only use GitHub accounts for comments. Click here to sign up for a new OAuth Application. Other content can be filled in at will, but be sure to fill in the correct callback URL (usually the domain name corresponding to the comment page). Then you will get a Client ID and a Client secret, which will be used for subsequent user logins. Create a repository you want to store Gitment comments in your GitHub. Set the value enable to true, add Client ID (client_id) and Client secret (client_secret) in step 1, add your Github username (github_user) and the created repository name (github_repo) in step 2, and edit other configurations in gitment section in the theme config file as following: next/_config.yml# Gitment# Introduction: https://imsun.net/posts/gitment-introduction/gitment: enable: false mint: true # RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway count: true # Show comments count in post meta area lazy: false # Comments lazy loading with a button cleanly: false # Hide 'Powered by ...' on footer, and more language: # Force language, or auto switch by theme github_user: # MUST HAVE, Your Github Username github_repo: # MUST HAVE, The name of the repo you use to store Gitment comments client_id: # MUST HAVE, Github client id for the Gitment client_secret: # EITHER this or proxy_gateway, Github access secret token for the Gitment proxy_gateway: # Address of api proxy, See: https://github.com/aimingoo/intersect redirect_protocol: # Protocol of redirect_uri with force_redirect_protocol when mint enabled After the post is published, you will need to visit this page, log in with your GitHub account and click the Initialize button, then other users can post comments on this page. Please note that the authorized permission of Gitment will obtain the read and write access to all your public repositories and maybe send github keys to the 3rd-party imsun&#39;s proxy server. If you concern about the security, we strongly deprecated to use gitment. Useful link ChangyanChangyan is the industry&#39;s leading social commenting system, supporting both PC and mobile access methods, providing a new way of commenting on websites. Changyan has a variety of common account login, triple filtering mechanism, real-time data statistics, fast data export, comprehensive support for mobile and other leading functions. It fully satisfies the needs of major websites for user login, comment, sharing, and review. Create an account or log into Changyan, then add your site to get APP ID and APP KEY. Set the value enable to true, and add the obtained APP ID (appid) and APP KEY (appkey) to the changyan section in the theme config file as following: next/_config.yml# changyanchangyan: enable: false appid: appkey: Please note that you should fill in the ICP record number of your website in time. If not, or the record information is not correct, the comment service will be stopped after 13 days. Useful link Widgetpack RatingRating service with login through any social networks like Facebook, Twitter, Google+, LinkedIn, Instagram and others. Get ID â†’NexT ConfigLogin to widgetpack and add new site, you will get your site ID: wpac_init.push(&#123;widget: 'Rating', id: ID&#125;);You can enable it by editing values rating.enable to true, and copy ID value of id in theme config file. You can also configure the rating color by editing values in rating.color section. next/_config.ymlrating: enable: false id: ID #&lt;app_id&gt; color: fc6423]]></content>
  </entry>
  <entry>
    <title><![CDATA[Content Sharing Services]]></title>
    <url>%2Fdocs%2Fthird-party-services%2Fcontent-sharing-services%2Findex.html</url>
    <content type="text"><![CDATA[AddThisSign Up â†’AddThis ID â†’NexT ConfigSign up in AddThis. You can use Google/Facebook/Twitter to login.Get AddThis ID in this menu: More.. â†’ General â†’ ID. See example on the picture below:Edit the configurations in add_this_id section in the theme config file as following: next/_config.ymladd_this_id: your_add_this_id LikelyEdit the configurations in likely section in the theme config file as following: next/_config.yml# Likely Share# See: https://ilyabirman.net/projects/likely/# Likely supports four looks, nine social networks, any button text# You are free to modify the text value and order of any networklikely: enable: true look: normal # available values: normal, light, small, big networks: twitter: Tweet facebook: Share linkedin: Link gplus: Plus vkontakte: Share odnoklassniki: Class telegram: Send whatsapp: Send pinterest: Pin Need More ShareAdding Plugins â†’NexT ConfigThere are 2 variants to hook up NexT Need More Share plugin: Local installation: Go to Â«DependenciesÂ» with installation instructions of this module. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-needmoreshare2 source/lib/needsharebutton CDN links: Go to theme config file and add CDN links: next/_config.ymlvendors: # ... # Some contents... # ... # needMoreShare2 # https://github.com/revir/need-more-share2 needmoreshare2_js: https://cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1.0.0/needsharebutton.min.js needmoreshare2_css: https://cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1.0.0/needsharebutton.min.css Set the value enable to true, and edit other configurations in needmoreshare2 section in the theme config file as following: next/_config.yml# NeedMoreShare2# Dependencies: https://github.com/theme-next/theme-next-needmoreshare2# See: https://github.com/revir/need-more-share2# Also see: https://github.com/DzmVasileusky/needShareButton# iconStyle: default | box# boxForm: horizontal | vertical# position: top / middle / bottom + Left / Center / Right# networks: Weibo,Wechat,Douban,QQZone,Twitter,Linkedin,Mailto,Reddit,# Delicious,StumbleUpon,Pinterest,Facebook,GooglePlus,Slashdot,# Technorati,Posterous,Tumblr,GoogleBookmarks,Newsvine,# Evernote,Friendfeed,Vkontakte,Odnoklassniki,Mailruneedmoreshare2: enable: false postbottom: enable: false options: iconStyle: box boxForm: horizontal position: bottomCenter networks: Weibo,Wechat,Douban,QQZone,Twitter,Facebook float: enable: false options: iconStyle: box boxForm: horizontal position: middleRight networks: Weibo,Wechat,Douban,QQZone,Twitter,Facebook Baidu Sharing (China)Edit the configurations in baidushare section in the theme config file as following: next/_config.yml# Baidu Share# Available value:# button | slide# Warning: Baidu Share does not support https.baidushare: type: button]]></content>
  </entry>
  <entry>
    <title><![CDATA[Math Equations]]></title>
    <url>%2Fdocs%2Fthird-party-services%2Fmath-equations%2Findex.html</url>
    <content type="text"><![CDATA[NexT provides two render engines for displaying Math Equations. If you choose to use this feature, you don&#39;t need to manually import any JS or CSS. You just need to turn on enable of math and define a render engine in theme config file for it. Settingsnext/_config.yml# Math Equations Render Supportmath: enable: false # Default(true) will load mathjax/katex script on demand # That is it only render those page who has `mathjax: true` in Front Matter. # If you set it to false, it will load mathjax/katex srcipt EVERY PAGE. per_page: true engine: mathjax #engine: katex # hexo-rendering-pandoc (or hexo-renderer-kramed) needed to full MathJax support. mathjax: # Use 2.7.1 as default, jsdelivr as default CDN, works everywhere even in China cdn: //cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML # For direct link to MathJax.js with CloudFlare CDN (cdnjs.cloudflare.com) #cdn: //cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML # See: https://mhchem.github.io/MathJax-mhchem/ #mhchem: //cdn.jsdelivr.net/npm/mathjax-mhchem@3 #mhchem: //cdnjs.cloudflare.com/ajax/libs/mathjax-mhchem/3.3.0 # hexo-renderer-markdown-it-plus (or hexo-renderer-markdown-it with markdown-it-katex plugin) needed to full Katex support. katex: # Use 0.7.1 as default, jsdelivr as default CDN, works everywhere even in China cdn: //cdn.jsdelivr.net/npm/katex@0.7.1/dist/katex.min.css # CDNJS, provided by cloudflare, maybe the best CDN, but not works in China #cdn: //cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css copy_tex: # See: https://github.com/KaTeX/KaTeX/tree/master/contrib/copy-tex enable: false copy_tex_js: //cdn.jsdelivr.net/npm/katex@0/dist/contrib/copy-tex.min.js copy_tex_css: //cdn.jsdelivr.net/npm/katex@0/dist/contrib/copy-tex.min.css Don&#39;t forget to keep up double spaces indents! enableper_pageenginecdn true â†’ turn on Math Equations render. false â†’ totally disable Math Equations render. Only turning on enable of math cannot let you see the displayed equations correctly.You need to install the corresponding Hexo Renderer to fully support the display of Math Equations.The corresponding renderers per engine will be provided below. This option is to control whether to render Math Equations every page. true â†’ Equations will be processed on demand. It will only render those posts which have mathjax: true in their Front Matter. false â†’ Equations will be processed on every page. Even if they not exists on one or another page. Examples with true option &lt;!-- This post will render the Math Equations --&gt;---title: Will Render Mathmathjax: true---....&lt;!-- This post will NOT render the Math Equations --&gt;---title: Not Render Mathmathjax: false---....&lt;!-- This post will NOT render the Math Equations either --&gt;---title: Not Render Math Either---.... mathjax â†’ details in mathjax tab below. katex â†’ details in katex tab below. Both MathJax and KaTeX provide cdn config and use the jsDelivr as the default CDN.The reason that jsDelivr is chosen is because it is fast everywhere, and jsDelivr has the valid ICP license issued by the Chinese government, it can be accessed in China pretty well. And we also provide other optional CDNs, including the famous CDNJS.For MathJax, we are currently using version 2.7.1.For KaTeX, due to the problem described above, we are now using version 0.7.1. If you want to try the other CDNs not included in the optional list, you must use the corresponding version.Particularly, if you are a Chinese blogger or most of your visits come from China, please note that the CDNJS is blocked in some parts of China, don&#39;t use it as your CDN. Render EnginesFor now, NexT provides two Render Engines: MathJax and KaTeX (default is MathJax). mathjaxkatex Render ChoosingIf you use MathJax to render Math Equations, you can choose one of renderers below:hexo-renderer-kramedhexo-renderer-pandoc InstallationNeed to uninstall the original renderer hexo-renderer-marked and install one of selected by you renderer:$ npm un hexo-renderer-marked --save$ npm i hexo-renderer-kramed --save # or hexo-renderer-pandocIn theme config file, turn on enable option of math and choose katex as render engine.math: enable: true ... engine: mathjax #engine: katexRun standard Hexo generate, deploy process or start the server:$ hexo clean &amp;&amp; hexo g -d# or hexo clean &amp;&amp; hexo s The KaTeX engine is a much faster math render engine compared to MathJax. And it could survive without JavaScript. But, for now KaTeX support less things than MathJax. Here is a list of TeX functions supported by KaTeX. Render ChoosingIf you use KaTeX to render Math Equations, you can choose one of renderers below:hexo-renderer-markdown-it-plushexo-renderer-markdown-itChosen hexo-renderer-markdown-it?If you use hexo-renderer-markdown-it, you also need to add markdown-it-katex as its plugin:$ npm i markdown-it-katex --saveAnd then in site config file you need to add markdown-it-katex as a plugin for hexo-renderer-markdown-it:# config of hexo-renderer-markdown-itmarkdown: render: html: true xhtmlOut: false breaks: true linkify: true typographer: true quotes: 'â€œâ€â€˜â€™' plugins: - markdown-it-katex InstallationNeed to uninstall the original renderer hexo-renderer-marked and install one of selected by you renderer:$ npm un hexo-renderer-marked --save$ npm i hexo-renderer-markdown-it-plus --save # or hexo-renderer-markdown-itIn theme config file, turn on enable option of math and choose katex as render engine.math: enable: true ... #engine: mathjax engine: katexRun standard Hexo generate, deploy process or start the server:$ hexo clean &amp;&amp; hexo g -d# or hexo clean &amp;&amp; hexo s Known IssuesFirstly, please check Common Issues of KaTeX.Displayed Math (i.e. $$...$$) needs to started with new clear line.In other words: you must not have any characters (except of whitespaces) before the opening $$ and after the ending $$ (comment #32).Don&#39;t support Unicode (comment #32).Inline Math (..$...$) must not have white spaces after the opening $ and before the ending $ (comment #32).If you use math in Heading (i.e. ## Heading).Then in corresponding TOC item it will show the related LaTex code 3 times (comment #32).If you use math in your post&#39;s title, it will not be rendered (comment #32). We currently use KaTeX 0.7.1, some of those bugs might be caused by the outdated version of KaTeX we use.But, as what is described in the beginning, the render of Math Equations relies on Hexo Renderer. Currently, KaTeX-related renderers only support KaTeX version until 0.7.1.We will continuously monitor the updates of corresponding renderers, if there is a renderer which supports newer version of KaTeX, we will update the KaTeX we use. PluginsNexT also integrates some plugins for MathJax and KaTeX. You can easily configure them by setting the CDN URLs. mhchem is a third-party extension for MathJax, it&#39;s a tool for writing beautiful chemical equations easily. More infomation: MathJax/mhchem Manual. Copy-tex extension for KaTeX modifes the copy/paste behavior in any browser supporting the Clipboard API so that, when selecting and copying whole KaTeX-rendered elements, the text content of the resulting clipboard renders KaTeX elements as their LaTeX source surrounded by specified delimiters. More infomation: Copy-tex extension. Examples For examples below (and for all other examples in this domain) NexT uses hexo-renderer-kramed renderer with mathjax engine. Numbering and referring equations in MathJaxIn the new version of NexT, we have added feature to automatic equation numbering with opportunity to make reference to that equations. We briefly describe how to use this feature below. In general, to make the automatic equation numbering work, you have to wrap your LaTeX equations in equation environment. Using the plain old style (i.e., wrap an equation with two dollar signs in each side) will not work. How to refer to an equation? Just give a \label{} tag and then in your later text, use \ref{} or \eqref{} to refer it. Using \eqref{} is preferred since if you use \ref{}, there are no parentheses around the equation number. Below are some of the common scenarios for equation numbering. Simple EquationFor simple equations, use the following form to give a tag, $$\begin&#123;equation&#125;e=mc^2\end&#123;equation&#125;\label&#123;eq1&#125;$$ \begin{equation} e=mc^2 \end{equation}\label{eq1}Then, you can refer to this equation in your text easily by using something like: The famous matter-energy equation $\eqref&#123;eq1&#125;$ proposed by Einstein... The famous matter-energy equation $\eqref{eq1}$ proposed by Einstein... Multi-line EquationFor multi-line equations, inside the equation environment, you can use the aligned environment to split it into multiple lines: $$\begin&#123;equation&#125;\begin&#123;aligned&#125;a &amp;= b + c \\ &amp;= d + e + f + g \\ &amp;= h + i\end&#123;aligned&#125;\end&#123;equation&#125;\label&#123;eq2&#125;$$ \begin{equation} \begin{aligned} a &= b + c \\ &= d + e + f + g \\ &= h + i \end{aligned} \end{equation}\label{eq2}Equation $\eqref&#123;eq2&#125;$ is a multi-line equation. Equation $\eqref{eq2}$ is a multi-line equation. Multiple Aligned EquationsWe can use align environment to align multiple equations. Each of these equations will get its own numbers. $$\begin&#123;align&#125;a &amp;= b + c \label&#123;eq3&#125; \\x &amp;= yz \label&#123;eq4&#125;\\l &amp;= m - n \label&#123;eq5&#125;\end&#123;align&#125;$$ \begin{align} a &= b + c \label{eq3} \\ x &= yz \label{eq4}\\ l &= m - n \label{eq5} \end{align}There are three aligned equations: equation $\eqref&#123;eq3&#125;$, equation $\eqref&#123;eq4&#125;$ and equation $\eqref&#123;eq5&#125;$. There are three aligned equations: equation $\eqref{eq3}$, equation $\eqref{eq4}$ and equation $\eqref{eq5}$. Since align in and of itself is a complete equation environment (read here about the difference between aligned and align in LaTeX). You do not need to wrap it with equation environment. Exclude equations from numberingIn the align environment, if you do not want to number one or some equations, just use \nonumber right behind these equations. Like the following: $$\begin&#123;align&#125;-4 + 5x &amp;= 2+y \nonumber \\ w+2 &amp;= -1+w \\ ab &amp;= cb\end&#123;align&#125;$$ \begin{align} -4 + 5x &= 2+y \nonumber \\ w+2 &= -1+w \\ ab &= cb \end{align}Use \tag to tag equationsSometimes, you want to use more Â«exoticÂ» style to refer your equation. You can use \tag{} to achieve this. For example: $$x+1\over\sqrt&#123;1-x^2&#125; \tag&#123;i&#125;\label&#123;eq_tag&#125;$$ x+1\over\sqrt{1-x^2} \tag{i}\label{eq_tag}Equation $\eqref&#123;eq_tag&#125;$ use `\tag&#123;&#125;` instead of automatic numbering. Equation $\eqref{eq_tag}$ use \tag{} instead of automatic numbering.]]></content>
  </entry>
  <entry>
    <title><![CDATA[Search Services]]></title>
    <url>%2Fdocs%2Fthird-party-services%2Fsearch-services%2Findex.html</url>
    <content type="text"><![CDATA[Local SearchLocal search no need any external 3rd-party services and can be extra indexed by search engines. That search method recommended for most users. Installation â†’Hexo Config â†’NexT ConfigInstall hexo-generator-searchdb by run following command in site root dir: $ npm install hexo-generator-searchdb --save Edit site config file and add following content: hexo/_config.ymlsearch: path: search.xml field: post format: html limit: 10000Edit theme config file to enable Local Search: next/_config.yml# Local search# Dependencies: https://github.com/theme-next/hexo-generator-searchdblocal_search: enable: false # if auto, trigger search by changing input # if manual, trigger search by pressing enter key or search button trigger: auto # show top n results per article, show all results by setting to -1 top_n_per_article: 1 # unescape html strings to the readable one unescape: false Algolia SearchNexT provides Algolia search plugin for index your hexo website content. What you should note here is that only turn on enable of algolia_search in theme config file cannot let you use the algolia search correctly, you need to install corresponding Hexo Algolia plugin to seach your website with Algolia. Follow the steps described below to complete the installation of Algolia search. Registration â†’Algolia Config â†’Hexo Config â†’Algolia Module â†’NexT ConfigRegister at Algolia, you can log in directly using GitHub or Google Account. Upon Customerâ€™s initial sign-up for an Account, Customer will have a free, fourteen (14) day evaluation period (the Â«Evaluation PeriodÂ») for the Algolia Services commencing on the Effective Date, subject to the limitations on Algoliaâ€™s website. After that, Algolia offers a free, branded version for up to 10k records and 100k operations per month. If a tutorial pops up, you can skip it. Go straight to create an Index which will be used later. Go to the API Keys page and find your credentials. You will need the Application ID and the Search-only API key in the following sections. The Admin API key need to keep confidential. Never store your Admin API Key as apiKey in theme config file: it would give full control of your Algolia index to others and you don&#39;t want to face the consequences. In the API Keys page, click the ALL API KEYS and the edit option in the created APIKEY to activate a pop-up box where you can setup authorizations and restrictions with a great level of precision. Check Add records, Delete records, List indices, Delete index features in ACL permissions that will be allowed for the given API key. And then click the Update button. In your site config file, add the following configuration and replace the applicationID &amp; apiKey &amp; indexName with corresponding fields obtained at Algolia. hexo/_config.ymlalgolia: applicationID: 'Application ID' apiKey: 'Search-only API key' indexName: 'indexName' chunkSize: 5000 Algolia requires users to upload their search index data either manually or via provided APIs. Install and configure Hexo Algolia in your Hexo directory. This plugin will index your site and upload selected data to Algolia. $ cd hexo$ npm install --save hexo-algolia Run the following command to upload index data, keep a weather eye out the output of the command. $ export HEXO_ALGOLIA_INDEXING_KEY=Search-Only API key # Use Git Bash# set HEXO_ALGOLIA_INDEXING_KEY=Search-Only API key # Use Windows command line$ hexo clean$ hexo algolia Change dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-algolia-instant-search source/lib/algolia-instant-search If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # Internal version: 1 # https://www.algolia.com algolia_instant_js: https://cdn.jsdelivr.net/npm/instantsearch.js@2.4.1/dist/instantsearch.js algolia_instant_css: https://cdn.jsdelivr.net/npm/instantsearch.js@2.4.1/dist/instantsearch.min.css ... In theme config file, turn on enable of algolia_search. At the same time, you need to turn off other search plugins like Local Search. You can also adjust the text in labels according to your needs. next/_config.yml# Algolia Searchalgolia_search: enable: true hits: per_page: 10 labels: input_placeholder: Search for Posts hits_empty: "We didn't find any results for the search: $&#123;query&#125;" hits_stats: "$&#123;hits&#125; results found in $&#123;time&#125; ms" Known IssuesThe latest version of the Hexo-Algolia plugin removes the content indexing feature, given Algolia&#39;s free account limitation.The Hexo-Algoliasearch plugin provides content indexing functionality, but requires the replacement of keywords in the NexT theme. The same problem exists with Record Too Big for Algolia&#39;s free account.Replace all applicationID in source/js/src/algolia-search.js with appIdReplace all applicationID in layout/_partials/head/head.swig with appId Swiftype SearchSign up â†’Create Search Engine â†’Customize and Enable Search â†’Get Key â†’NexT ConfigGo to Swiftype Sign Page to sign up.After signing up create a new search engine and follow instructions.After creating choose Integrate â†’ Install Search in the menu to customize with instructions. Then click Active button finally.Back to INSTALL CODE and copy your swiftype_key.Edit theme config file and fill section swiftype_key with value of your key gets: next/_config.yml# Swiftype Search API Keyswiftype_key: xxxxxxxxx]]></content>
  </entry>
  <entry>
    <title><![CDATA[Statistics and Analytics]]></title>
    <url>%2Fdocs%2Fthird-party-services%2Fstatistics-and-analytics%2Findex.html</url>
    <content type="text"><![CDATA[Webmaster ToolsGoogle Webmaster ToolsSet the verification string of Google Webmaster Tools which is used in submitting sitemap. Get Verification Code â†’NexT ConfigLogin to Google Webmaster Tools and go to verification methods and choose HTML Tag, you will get some code: &lt;meta name="google-site-verification" content="XXXXXXXXXXXXXXXXXXXXXXX" /&gt;Copy XXXXXXXXXXXXXXXXXXXXXXX value of content key.Edit theme config file and add or change google_site_verification section: next/_config.ymlgoogle_site_verification: XXXXXXXXXXXXXXXXXXXXXXX Bing Webmaster ToolsSet the verification string of Bing Webmaster Tools which is used in submitting sitemap. Get Verification Code â†’NexT ConfigLogin to Bing Webmaster Tools and go to verification methods and choose HTML Tag, you will get some code: &lt;meta name="msvalidate.01" content="XXXXXXXXXXXXXXXXXXXXXXX" /&gt;Copy XXXXXXXXXXXXXXXXXXXXXXX value of content key.Edit theme config file and add or change bing_site_verification section: next/_config.ymlbing_site_verification: XXXXXXXXXXXXXXXXXXXXXXX Yandex Webmaster ToolsSet the verification string of Yandex Webmaster Tools which is used in submitting sitemap. Get Verification Code â†’NexT ConfigLogin to Yandex Webmaster Tools and go to verification methods and choose Meta Tag, you will get some code: &lt;meta name="yandex-verification" content="XXXXXXXXXXXXXXXXXXXXXXX" /&gt;Copy XXXXXXXXXXXXXXXXXXXXXXX value of content key.Edit theme config file and add or change yandex_site_verification section: next/_config.ymlyandex_site_verification: XXXXXXXXXXXXXXXXXXXXXXX Baidu Webmaster ToolsSet the verification string of Baidu Webmaster Tools which is used in submitting sitemap. Get Verification Code â†’NexT ConfigLogin to Baidu Webmaster Tools and go to verification methods and choose HTML Tag, you will get some code: &lt;meta name="baidu-site-verification" content="XXXXXXXXXXXXXXXXXXXXXXX" /&gt;Copy XXXXXXXXXXXXXXXXXXXXXXX value of content key.Edit theme config file and add or change baidu_site_verification section: next/_config.ymlbaidu_site_verification: XXXXXXXXXXXXXXXXXXXXXXX Analytics ToolsGoogle Analytics Create an account and log into Google Analytics. More detailed documentation Edit theme config file and fill tracking_id under section google_analytics with your Google track ID. Google track ID always starts with UA-. next/_config.yml# Google Analyticsgoogle_analytics: tracking_id: UA-XXXXXXXX-X localhost_ignored: true when field localhost_ignore is set to true, NexT will not send record to google analytics, as long as page request has &quot;localhost&quot; as its host name. This will prevent local debugging from polluting analytics. Set localhost_ignore to disable it. Azure Application Insights Create an account and log into Application Insights. More detailed documentation Edit theme config file and change section application_insights to your instrumentation key. next/_config.yml# Application Insightsapplication_insights: Baidu Analytics (China)Login â†’Script ID â†’NexT ConfigLogin to Baidu Analytics and locate to site code getting page.Copy the script ID after hm.js?, like the following picture: Edit theme config file and change section baidu_analytics to your script ID. next/_config.yml# Baidu Analytics IDbaidu_analytics: your_id Tencent Analytics (China) Please login to Tencent Analytics and get your ID. Then put it into tencent_analytics section of theme config file. next/_config.yml# Tencent analytics IDtencent_analytics: your_id Tencent Mobile Analytics (China) Create an account and log into Tencent Mobile Analytics. More detailed documentation Edit theme config file and fill section tencent_mta. next/_config.yml# Tencent MTA IDtencent_mta: your-tencent-mta-id CNZZ Analytics (China) Create an account and log into CNZZ Analytics. More detailed documentation Set the value of section cnzz_siteid in theme config file to your CNZZ site ID. You can find this ID in link or the auto-generated script. next/_config.yml# CNZZ count#cnzz_siteid: The script will show Â«Webmaster StatisticsÂ» and it&#39;s ugly, so I used a display: none; to hide it. Counting ToolsFirebaseFirebase Analytics provides the functionality of visitor statistics. Get apiKey & projectId â†’NexT ConfigLogin to Firebase to get apiKey and projectId. More detailed documentationEdit theme config file and add or change firestore section: next/_config.ymlfirestore: enable: false collection: articles #required, a string collection name to access firestore database apiKey: #required projectId: #required bluebird: false #enable this if you want to include bluebird 3.5.1(core version) Promise polyfill Busuanzi Counting (China)Global Settings â†’Site UV Settings â†’Site PV Settings â†’Per-page PV SettingsEdit busuanzi_count option in theme config file.When enable: true, global setting is enabled. If site_uv, site_pv, page_pv are all false, Busuanzi only counts but never shows.When site_uv: true, it will show site UV in footer.site_uv_header and site_uv_footer is custom style words, and you can hide it by leaving it blank. You can also use font-awesome, it looks like [site_uv_header]UV count[site_uv_footer]. next/_config.yml# View: Site visited by 12345 people.site_uv: truesite_uv_header: Site visited bysite_uv_footer: people.When site_pv: true, it will show site PV in footer.site_pv_header and site_pv_footer is custom style words, and you can hide it by leaving it blank, you can also use font-awesome, it looks like [site_pv_header]PV count[site_pv_footer]. next/_config.yml# View: Site visited by 12345 times.site_pv: truesite_pv_header: Site visited bysite_pv_footer: times.When page_pv: true, it will show page PV under post title.page_pv_header and page_pv_footer is custom style words, and you can hide it by leaving it blank, you can also use font-awesome, it looks like [page_pv_header]PV count[page_pv_footer]. next/_config.yml# View: Post read by 12345 times.page_pv: truepage_pv_header: Post read bypage_pv_footer: times. LeanCloud (China)Adding article reading times counting to NexT theme. Documentation how to set the counter up and running safely aviable in hexo-leancloud-counter-security. Installation â†’Hexo Config â†’NexT ConfigInstall hexo-leancloud-counter-security by run following command in site root dir: $ npm install hexo-leancloud-counter-security --save Edit site config file and add following content: hexo/_config.ymlleancloud_counter_security: enable_sync: true app_id: &lt;&lt;your app id&gt;&gt; app_key: &lt;&lt;your app key&gt;&gt; username: &lt;&lt;your username&gt;&gt; # Will be asked while deploying if is left blank password: &lt;&lt;your password&gt;&gt; # Recommmended to be left blank. Will be asked while deploying if is left blankEdit theme config file and fill options under leancloud_visitors section. next/_config.yml# Show number of visitors to each article.# You can visit https://leancloud.cn get AppID and AppKey.leancloud_visitors: enable: false app_id: #&lt;app_id&gt; app_key: #&lt;app_key&gt; # Dependencies: https://github.com/theme-next/hexo-leancloud-counter-security # If you don't care about security in lc counter and just want to use it directly # (without hexo-leancloud-counter-security plugin), set the `security` to `false`. security: true betterPerformance: false]]></content>
  </entry>
  <entry>
    <title><![CDATA[External Libraries]]></title>
    <url>%2Fdocs%2Fthird-party-services%2Fexternal-libraries%2Findex.html</url>
    <content type="text"><![CDATA[FancyboxNexT supports the fancybox plugin, which is a jQuery lightbox script for displaying images, videos and more. Touch enabled, responsive and fully customizable. There is support for old version 2 and new version 3. Please, choose only any one variant, do not need to install both. Version 2.xVersion 3.xInstallation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-fancybox source/lib/fancybox If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # See: http://fancyapps.com/fancybox/ fancybox: //cdn.jsdelivr.net/npm/fancybox@2.1.5/dist/js/jquery.fancybox.pack.js fancybox_css: //cdn.jsdelivr.net/npm/fancybox@2.1.5/dist/css/jquery.fancybox.min.css ... After the plugin installed, you can enable it by editing values fancybox to true in theme config file. hexo/_config.ymlfancybox: falseInstallation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-fancybox3 source/lib/fancybox If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # See: http://fancyapps.com/fancybox/ fancybox: //cdn.jsdelivr.net/npm/fancybox@3.0.0/dist/js/jquery.fancybox.pack.js fancybox_css: //cdn.jsdelivr.net/npm/fancybox@3.0.0/dist/css/jquery.fancybox.min.css ... After the plugin installed, you can enable it by editing values fancybox to true in theme config file. hexo/_config.ymlfancybox: false BookmarkBookmark is a plugin that allow the users save their reading position. The users could just click the bookmark icon (like ðŸ”–) in left-top of the page to save the position. And when they visit your blog in the next time, they can continue the last reading position by clicking the bookmark icon from the home page. Installation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-bookmark.git source/lib/bookmark If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # bookmark # https://github.com/theme-next/theme-next-bookmark bookmark: //cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1.0.0/bookmark.min.js ... After the plugin installed, you can enable it by editing values bookmark.enable to true in theme config file. hexo/_config.yml# Dependencies: https://github.com/theme-next/theme-next-bookmarkbookmark: enable: false # if auto # - save the reading position when closing the page # - or clicking the bookmark-icon # if manual, only save it by clicking the bookmark-icon save: auto Reading ProgressNexT supports the page scroll reading progress indicator. Installation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-reading-progress source/lib/reading_progress If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # reading_progress # https://github.com/theme-next/theme-next-reading-progress reading_progress: //cdn.jsdelivr.net/gh/theme-next/theme-next-reading-progress@1.1/reading_progress.min.js ... After the plugin installed, you can enable it by editing values reading_progress.enable to true in theme config file. hexo/_config.ymlreading_progress: enable: false color: "#37c6c0" height: 2px Progress barPace will automatically monitor your Ajax requests, event loop lag, document ready state and elements on your page to decide on the progress. Installation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-pace source/lib/pace If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # See: https://github.com/HubSpot/pace pace: //cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js pace_css: //cdn.jsdelivr.net/npm/pace-js@1.0.2/themes/blue/pace-theme-minimal.css ... pacepace_themeAfter the plugin installed, you can enable it by editing values pace to true in theme config file. hexo/_config.ymlpace: falsePace includes a bunch of themes to get you started. Just include the appropriate css file. pace-theme-big-counter pace-theme-bounce pace-theme-barber-shop pace-theme-center-atom pace-theme-center-circle pace-theme-center-radar pace-theme-center-simple pace-theme-corner-indicator pace-theme-fill-left pace-theme-flash pace-theme-loading-bar pace-theme-mac-osx pace-theme-minimal By default NexT uses pace-theme-minimal theme. You can configure it by editing values in pace_theme section in theme config file. hexo/_config.ymlpace_theme: pace-theme-minimal If you want to use the CDN, then need to set vendors in theme config file:next/_config.ymlvendors: ... # See: https://github.com/HubSpot/pace pace_css: //cdn.jsdelivr.net/npm/pace-js@1.0.2/themes/blue/pace-theme-minimal.css ... FastClickFastClick is a simple, easy-to-use library for eliminating the 300ms delay between a physical tap and the firing of a click event on mobile browsers. The aim is to make your application feel less laggy and more responsive while avoiding any interference with your current logic. Installation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-fastclick source/lib/fastclick If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # See: https://github.com/ftlabs/fastclick fastclick: https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js ... After the plugin installed, you can enable it by editing values fastclick to true in theme config file. hexo/_config.yml# Added switch option for separated repo in 6.0.0.# Dependencies: https://github.com/theme-next/theme-next-fastclickfastclick: false Jquery LazyloadJquery Lazyload is a modern vanilla JavaScript version of the original Lazy Load plugin. Lazy Load delays loading of images in long web pages. Images outside of viewport will not be loaded before user scrolls to them. This is opposite of image preloading. Installation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-jquery-lazyload source/lib/jquery_lazyload If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # See: https://github.com/tuupola/jquery_lazyload lazyload: //cdn.jsdelivr.net/npm/jquery_lazyload@1.9.3/jquery.lazyload.min.js ... After the plugin installed, you can enable it by editing values lazyload to true in theme config file. hexo/_config.yml# Added switch option for separated repo in 6.0.0.# Dependencies: https://github.com/theme-next/theme-next-fastclicklazyload: false QuicklinkQuicklink is a JavaScript plugin that faster subsequent page-loads by prefetching in-viewport links during idle time. Chrome, Firefox, Edge are supported without polyfills. Installation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-quicklink source/lib/quicklink If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # See: https://github.com/GoogleChromeLabs/quicklink quicklink: //cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js ... After the plugin installed, you can enable it by editing values quicklink.enable to true in theme config file. hexo/_config.yml...quicklink: enable: false home: true archive: true delay: true timeout: 3000 priority: true ignores:... Backgroud JSCanvas Nestcanvas-nest.js is a nest backgroud of website draw on canvas. Installation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-canvas-nest source/lib/canvas-nest If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # https://github.com/hustcc/canvas-nest.js canvas_nest: //cdn.jsdelivr.net/npm/canvas-nest.js@1.0.1/dist/canvas-nest.min.js ... After the plugin installed, you can enable it by editing values canvas_nest to true in theme config file. hexo/_config.yml# Dependencies: https://github.com/theme-next/theme-next-fastclickcanvas_nest: false For now, it will be loaded both in webs and mobile devices. Canvas Ribboncanvas-ribbon.js is a ribbon backgroud of website draw on canvas. Installation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-canvas-ribbon source/lib/canvas-ribbon If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # https://github.com/zproo/canvas-ribbon canvas_ribbon: //cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1.0.0/canvas-ribbon.js ... After the plugin installed, you can enable it by editing values canvas_ribbon to true in theme config file. You can also configure the ribbon setting by editing values in canvas_ribbon section: size: The width of the ribbon. alpha: The transparency of the ribbon. zIndex: The display level of the ribbon. hexo/_config.ymlcanvas_ribbon: enable: false size: 300 alpha: 0.6 zIndex: -1 For now only Pisces Scheme supports canvas ribbon setting under 6.0.x version or highter. JavaScript 3D libraryThe aim of JavaScript 3D library is to create an easy to use, lightweight, 3D library. The library provides &lt;canvas&gt;, &lt;svg&gt;, CSS3D and WebGL renderers. Installation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-three source/lib/three If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # three three: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1.0.0/three.min.js # three_waves # https://github.com/jjandxa/three_waves three_waves: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1.0.0/three-waves.min.js # three_waves # https://github.com/jjandxa/canvas_lines canvas_lines: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1.0.0/canvas_lines.min.js # three_waves # https://github.com/jjandxa/canvas_sphere canvas_sphere: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1.0.0/canvas_sphere.min.js ... After the plugin installed, you can enable it by editing values three_waves or canvas_lines or canvas_sphere to true in theme config file. hexo/_config.yml# three_wavesthree_waves: false# canvas_linescanvas_lines: false# canvas_spherecanvas_sphere: false Chinese TypesettingHan SupportHan.css provides a CSS typography framework optimised for Hanzi. Installation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-han source/lib/Han If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # https://github.com/ethantw/Han han: //cdnjs.cloudflare.com/ajax/libs/Han/3.3.0/han.min.css ... After the plugin installed, you can enable it by editing values han to true in theme config file. hexo/_config.yml# Dependencies: https://github.com/theme-next/theme-next-hanhan: false Pangu Autospace Supportpangu.js will automatically insert a blank space between all the Chinese characters and the hexagonal English numeric symbols on the page. Installation â†’NexT ConfigChange dir to NexT directory, and install module to source/lib directory. $ cd themes/next$ git clone https://github.com/theme-next/theme-next-pangu.git source/lib/pangu If you want to use the CDN instead of clone this repo, then need to set vendors in theme config file:next/_config.ymlvendors: ... # https://github.com/vinta/pangu.js pangu: //cdn.jsdelivr.net/npm/pangu@3.3.0/dist/browser/pangu.min.js ... After the plugin installed, you can enable it by editing values han to true in theme config file. hexo/_config.yml# Dependencies: https://github.com/theme-next/theme-next-pangupangu: false]]></content>
  </entry>
</search>
